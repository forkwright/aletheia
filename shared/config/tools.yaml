# tools.yaml — Machine-native tool reference
# Source of truth. TOOLS.md is generated from this.

ssh:
  hosts:
    nas: {addr: "192.168.0.120", user: syn, notes: "Synology 923+, 32TB"}
    metis: {addr: "192.168.0.17", user: syn, notes: "Fedora laptop, primary dev", tailscale: "100.117.8.41"}
    worker-node: {addr: localhost, user: syn, notes: "Ubuntu 24.04, this server", tailscale: "100.87.6.45"}

infrastructure:
  nas_mounts: ["/mnt/nas/Media", "/mnt/nas/docker", "/mnt/nas/photos", "/mnt/nas/vpn_media"]
  docker: {count: 21, manager: portainer, notes: "media stack"}
  tailscale:
    worker-node: "100.87.6.45"
    hifi-nas: "100.104.41.59"
    metis: "100.117.8.41"

calendar:
  tool: gcal
  commands:
    list: "gcal calendars"
    events: "gcal events -c CAL_ID -d DAYS"
    today: "gcal today -c CAL_ID"
  ids:
    personal: "cody.kickertz@gmail.com"
    family: "family13408790289857991137@group.calendar.google.com"
    work: "ckickertz@summusglobal.com"

gdrive:
  accounts:
    personal: {alias: p, email: "cody.kickertz@gmail.com"}
    school: {alias: [s, ut], email: "cody.kickertz@utexas.edu"}
  commands:
    ls: "gdrive {account} ls [path]"
    cat: "gdrive {account} cat <file>"
    find: "gdrive {account} find <name>"
    get: "gdrive {account} get <file>"
    tree: "gdrive {account} tree [path]"

research:
  pplx: {cmd: "pplx \"query\"", flags: ["--sources", "--raw"]}

facts:
  store: "/mnt/ssd/aletheia/shared/memory/facts.jsonl"
  commands:
    list: "facts"
    stats: "facts stats"
    about: "facts about <subject>"
    category: "facts category <cat>"
    search: "facts search <query>"
    add: "facts add <subj> <pred> <obj>"
    update: "facts update <id> <value>"
    reinforce: "facts reinforce <id> -e \"evidence\""
    contradict: "facts contradict <id> -e \"evidence\""

tasks:
  tool: tw
  commands:
    list: "tw"
    add: "tw add \"desc\" project:X priority:H/M/L"
    done: "tw done ID"
    today: "tw today"
    week: "tw week"
  namespaces: {syn: "project:infra,project:personal,project:aletheia"}

todoist:
  tool: mcporter
  projects:
    inbox: "6fMGGrWFxP5qVrQj"
    personal: "6fMGHP6prqhwF4Mh"
    summus: "6fMGHj4w8Qx2m88M"
    temba: "6fMGJQh8fpJ6cQ3W"
    alethia: "6fh76Qgxfq88Xj3v"
  commands:
    list: "mcporter call todoist.todoist_task_get"
    create: "mcporter call todoist.todoist_task_create --args '{\"content\":\"...\"}'"
    complete: "mcporter call todoist.todoist_task_complete --args '{\"task_name\":\"...\"}'"
    quick_add: "mcporter call todoist.todoist_task_quick_add --args '{\"text\":\"...\"}'"

memory:
  memory_search: "memory_search tool (agents use via plugin — searches sqlite-vec + Mem0)"
  knowledge_graph:
    db: neo4j
    commands:
      stats: "aletheia-graph stats"
      query: "aletheia-graph query CYPHER"
      add: "aletheia-graph add SUBJECT PREDICATE OBJECT"
      connections: "aletheia-graph connections ENTITY"
      recent: "aletheia-graph recent [--hours 24] [--nous AGENT]"
  mem0:
    description: "Long-term extracted memories (cross-agent, cross-session)"
    sidecar: "http://localhost:8230"
    tool: "mem0_search (available to agents via plugin)"

aletheia:
  distill: "distill --nous AGENT --text \"SUMMARY\""
  assemble: "assemble-context --nous AGENT"
  compile: "compile-context [AGENT]"

mba:
  commands:
    status: "mba status"
    sync: "mba sync"
    tasks: "mba tasks"
    upcoming: "mba upcoming 7"
    prep: "mba prep <class>"
  classes: [acf, strategic_mgmt, macro, capstone]

work:
  commands:
    status: "work status"
    sync: "work sync"
    projects: "work projects"
    sql: "work sql [domain]"

metis:
  commands:
    ssh: "ssh metis \"cmd\""
    interactive: "metis ssh"
    claude: "metis claude [args]"
    sync: "metis sync <remote> [local]"
    push: "metis push <local> [remote]"

webchat:
  lan: "https://192.168.0.29:8443"
  tailscale: "https://100.87.6.45:8443"

agents:
  contracts: "nous-contracts show AGENT"
  health: "nous-health"
  audit: "audit-all-nous"
  route: "nous-contracts route \"request\""

runtime:
  patches:
    signal_group_id: {file: "normalize/signal.js", bug: ".toLowerCase() breaks base64 group IDs"}
    apply: "patch-runtime (in shared/bin/)"
  config:
    bindings_use: "channel (not provider)"
    model_ids: "full date suffix for pre-4.6 models"
    validate: "aletheia doctor"

# === New Capabilities (2026-02-05) ===

langfuse:
  description: "Session observability and cross-nous pattern analysis"
  url: "http://localhost:3100"
  dashboard: "http://192.168.0.29:3100"
  commands:
    status: "trace-session --stats"
  notes: "Self-hosted. Configure API keys via dashboard."

browser_automation:
  description: "LLM-driven web browser automation"
  command: "browse"
  venv: "/mnt/ssd/aletheia/infrastructure/browser-use/.venv"
  primary_user: "arbor"
  notes: "Uses Browser Use library. Requires ANTHROPIC_API_KEY."

document_processing:
  description: "PDF and document extraction to markdown"
  command: "ingest-doc"
  venv: "/mnt/ssd/aletheia/infrastructure/docling/.venv"
  primary_user: "eiron"
  notes: "Uses Docling. Handles PDF, DOCX, HTML, images."

research:
  scholar:
    description: "Multi-source academic search + citation graph + paper retrieval"
    command: "scholar"
    sources: "OpenAlex (250M+), arXiv, Semantic Scholar (225M+)"
    examples:
      - 'scholar "distributed cognition" -v --limit 10'
      - 'scholar "binding problem" --since 2020 --source s2'
      - 'scholar cite DOI  # citation graph (who cites / references)'
      - 'scholar fetch ARXIV_ID  # download + convert to markdown'
      - 'scholar refs DOI  # reference list'
    notes: "S1/S2 source discovery. Deduplicates across sources. Sorted by citations."
  wiki:
    description: "Wikipedia lookup for concept orientation (S4 only)"
    command: "wiki"
    examples:
      - 'wiki "Poincaré section"'
      - 'wiki --search "topological dynamics"'
      - 'wiki "feature integration" --refs  # extract cited references'
    notes: "S4 grey literature. Use for orientation, never cite as primary source."
  perplexity:
    description: "Perplexity pro-search for broad research synthesis"
    command: "pplx"
    notes: "Best for initial survey. All claims must be verified via scholar."
  ingest_doc:
    description: "PDF/document extraction to markdown"
    command: "ingest-doc"
    examples:
      - 'ingest-doc paper.pdf'
      - 'ingest-doc https://arxiv.org/pdf/2408.04514'
    notes: "Uses Docling. For papers, prefer 'scholar fetch' which auto-converts."
