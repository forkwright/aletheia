services:
  qdrant:
    image: qdrant/qdrant:v1.17.0
    container_name: qdrant
    restart: unless-stopped
    ports:
      - "127.0.0.1:6333:6333"
      - "127.0.0.1:6334:6334"
    volumes:
      - /mnt/ssd/aletheia/data/qdrant:/qdrant/storage
    mem_limit: 256m

  neo4j:
    image: neo4j:2026-community
    container_name: neo4j
    restart: unless-stopped
    ports:
      - "127.0.0.1:7474:7474"
      - "127.0.0.1:7687:7687"
    volumes:
      - /mnt/ssd/aletheia/data/neo4j:/data
    environment:
      NEO4J_AUTH: ${NEO4J_AUTH:-neo4j/changeme}
      NEO4J_PLUGINS: '["apoc"]'
      NEO4J_server_memory_heap_initial__size: 128m
      NEO4J_server_memory_heap_max__size: 256m
      NEO4J_server_memory_pagecache_size: 64m
