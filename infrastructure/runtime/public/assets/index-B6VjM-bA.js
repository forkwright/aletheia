const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/graph3d-DXruCMex.js","assets/markdown-Dtr06t2G.js"])))=>i.map(i=>d[i]);
var ui=Object.defineProperty;var _a=e=>{throw TypeError(e)};var di=(e,t,n)=>t in e?ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dt=(e,t,n)=>di(e,typeof t!="symbol"?t+"":t,n),Rr=(e,t,n)=>t.has(e)||_a("Cannot "+n);var h=(e,t,n)=>(Rr(e,t,"read from private field"),n?n.call(e):t.get(e)),se=(e,t,n)=>t.has(e)?_a("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),V=(e,t,n,r)=>(Rr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Be=(e,t,n)=>(Rr(e,t,"access private method"),n);import{M as fi,H as Re,p as vi}from"./markdown-Dtr06t2G.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Br=!1;var Ha=Array.isArray,gi=Array.prototype.indexOf,xn=Array.prototype.includes,Tr=Array.from,mi=Object.defineProperty,mn=Object.getOwnPropertyDescriptor,_i=Object.getOwnPropertyDescriptors,pi=Object.prototype,hi=Array.prototype,qa=Object.getPrototypeOf,pa=Object.isExtensible;const bi=()=>{};function yi(e){for(var t=0;t<e.length;t++)e[t]()}function Ga(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const Ne=2,Wn=4,xr=8,Ka=1<<24,Mt=16,lt=32,fn=64,Ur=128,je=512,Se=1024,Ce=2048,ot=4096,Ge=8192,Rt=16384,er=32768,An=65536,ha=1<<17,Wa=1<<18,On=1<<19,Ei=1<<20,Ct=1<<25,ln=65536,zr=1<<21,na=1<<22,qt=1<<23,Hn=Symbol("$state"),wi=Symbol("legacy props"),Si=Symbol(""),Yt=new class extends Error{constructor(){super(...arguments);dt(this,"name","StaleReactionError");dt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Ua;const Ti=!!((Ua=globalThis.document)!=null&&Ua.contentType)&&globalThis.document.contentType.includes("xml");function xi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ai(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ki(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Ni(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ci(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ri(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Oi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ii(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Mi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Li(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Di(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Pi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Bi=1,Ui=2,Za=4,zi=8,Fi=16,Hi=1,qi=2,Gi=4,Ki=8,Wi=16,Zi=1,ji=2,Ae=Symbol(),ja="http://www.w3.org/1999/xhtml";function Yi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ya(e){return e===this.v}function $i(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $a(e){return!$i(e,this.v)}let In=!1,Vi=!1;function Xi(){In=!0}let _e=null;function kn(e){_e=e}function Oe(e,t=!1,n){_e={p:_e,i:!1,c:null,e:null,s:e,x:null,l:In&&!t?{s:null,u:null,$:[]}:null}}function Ie(e){var t=_e,n=t.e;if(n!==null){t.e=null;for(var r of n)gs(r)}return t.i=!0,_e=t.p,{}}function tr(){return!In||_e!==null&&_e.l===null}let $t=[];function Va(){var e=$t;$t=[],yi(e)}function Ot(e){if($t.length===0&&!qn){var t=$t;queueMicrotask(()=>{t===$t&&Va()})}$t.push(e)}function Ji(){for(;$t.length>0;)Va()}function Xa(e){var t=ce;if(t===null)return te.f|=qt,e;if((t.f&er)===0&&(t.f&Wn)===0)throw e;Nn(e,t)}function Nn(e,t){for(;t!==null;){if((t.f&Ur)!==0){if((t.f&er)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const Qi=-7169;function ve(e,t){e.f=e.f&Qi|t}function ra(e){(e.f&je)!==0||e.deps===null?ve(e,Se):ve(e,ot)}function Ja(e){if(e!==null)for(const t of e)(t.f&Ne)===0||(t.f&ln)===0||(t.f^=ln,Ja(t.deps))}function Qa(e,t,n){(e.f&Ce)!==0?t.add(e):(e.f&ot)!==0&&n.add(e),Ja(e.deps),ve(e,Se)}const ir=new Set;let X=null,Fr=null,ke=null,Me=[],Ar=null,Hr=!1,qn=!1;var hn,bn,Qt,yn,Vn,Xn,en,xt,En,bt,qr,Gr,es;const ma=class ma{constructor(){se(this,bt);dt(this,"committed",!1);dt(this,"current",new Map);dt(this,"previous",new Map);se(this,hn,new Set);se(this,bn,new Set);se(this,Qt,0);se(this,yn,0);se(this,Vn,null);se(this,Xn,new Set);se(this,en,new Set);se(this,xt,new Map);dt(this,"is_fork",!1);se(this,En,!1)}is_deferred(){return this.is_fork||h(this,yn)>0}skip_effect(t){h(this,xt).has(t)||h(this,xt).set(t,{d:[],m:[]})}unskip_effect(t){var n=h(this,xt).get(t);if(n){h(this,xt).delete(t);for(var r of n.d)ve(r,Ce),rt(r);for(r of n.m)ve(r,ot),rt(r)}}process(t){var a;Me=[],this.apply();var n=[],r=[];for(const s of t)Be(this,bt,qr).call(this,s,n,r);if(this.is_deferred()){Be(this,bt,Gr).call(this,r),Be(this,bt,Gr).call(this,n);for(const[s,o]of h(this,xt))as(s,o)}else{for(const s of h(this,hn))s();h(this,hn).clear(),h(this,Qt)===0&&Be(this,bt,es).call(this),Fr=this,X=null,ba(r),ba(n),Fr=null,(a=h(this,Vn))==null||a.resolve()}ke=null}capture(t,n){n!==Ae&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&qt)===0&&(this.current.set(t,t.v),ke==null||ke.set(t,t.v))}activate(){X=this,this.apply()}deactivate(){X===this&&(X=null,ke=null)}flush(){if(this.activate(),Me.length>0){if(ts(),X!==null&&X!==this)return}else h(this,Qt)===0&&this.process([]);this.deactivate()}discard(){for(const t of h(this,bn))t(this);h(this,bn).clear()}increment(t){V(this,Qt,h(this,Qt)+1),t&&V(this,yn,h(this,yn)+1)}decrement(t){V(this,Qt,h(this,Qt)-1),t&&V(this,yn,h(this,yn)-1),!h(this,En)&&(V(this,En,!0),Ot(()=>{V(this,En,!1),this.is_deferred()?Me.length>0&&this.flush():this.revive()}))}revive(){for(const t of h(this,Xn))h(this,en).delete(t),ve(t,Ce),rt(t);for(const t of h(this,en))ve(t,ot),rt(t);this.flush()}oncommit(t){h(this,hn).add(t)}ondiscard(t){h(this,bn).add(t)}settled(){return(h(this,Vn)??V(this,Vn,Ga())).promise}static ensure(){if(X===null){const t=X=new ma;ir.add(X),qn||Ot(()=>{X===t&&t.flush()})}return X}apply(){}};hn=new WeakMap,bn=new WeakMap,Qt=new WeakMap,yn=new WeakMap,Vn=new WeakMap,Xn=new WeakMap,en=new WeakMap,xt=new WeakMap,En=new WeakMap,bt=new WeakSet,qr=function(t,n,r){t.f^=Se;for(var a=t.first,s=null;a!==null;){var o=a.f,l=(o&(lt|fn))!==0,c=l&&(o&Se)!==0,u=c||(o&Ge)!==0||h(this,xt).has(a);if(!u&&a.fn!==null){l?a.f^=Se:s!==null&&(o&(Wn|xr|Ka))!==0?s.b.defer_effect(a):(o&Wn)!==0?n.push(a):rr(a)&&((o&Mt)!==0&&h(this,en).add(a),Rn(a));var d=a.first;if(d!==null){a=d;continue}}for(;a!==null;){a===s&&(s=null);var g=a.next;if(g!==null){a=g;break}a=a.parent}}},Gr=function(t){for(var n=0;n<t.length;n+=1)Qa(t[n],h(this,Xn),h(this,en))},es=function(){var a;if(ir.size>1){this.previous.clear();var t=ke,n=!0;for(const s of ir){if(s===this){n=!1;continue}const o=[];for(const[c,u]of this.current){if(s.current.has(c))if(n&&u!==s.current.get(c))s.current.set(c,u);else continue;o.push(c)}if(o.length===0)continue;const l=[...s.current.keys()].filter(c=>!this.current.has(c));if(l.length>0){var r=Me;Me=[];const c=new Set,u=new Map;for(const d of o)ns(d,l,c,u);if(Me.length>0){X=s,s.apply();for(const d of Me)Be(a=s,bt,qr).call(a,d,[],[]);s.deactivate()}Me=r}}X=null,ke=t}this.committed=!0,ir.delete(this)};let Gt=ma;function eo(e){var t=qn;qn=!0;try{for(var n;;){if(Ji(),Me.length===0&&(X==null||X.flush(),Me.length===0))return Ar=null,n;ts()}}finally{qn=t}}function ts(){Hr=!0;var e=null;try{for(var t=0;Me.length>0;){var n=Gt.ensure();if(t++>1e3){var r,a;to()}n.process(Me),Kt.clear()}}finally{Me=[],Hr=!1,Ar=null}}function to(){try{Oi()}catch(e){Nn(e,Ar)}}let Je=null;function ba(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Rt|Ge))===0&&rr(r)&&(Je=new Set,Rn(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&ps(r),(Je==null?void 0:Je.size)>0)){Kt.clear();for(const a of Je){if((a.f&(Rt|Ge))!==0)continue;const s=[a];let o=a.parent;for(;o!==null;)Je.has(o)&&(Je.delete(o),s.push(o)),o=o.parent;for(let l=s.length-1;l>=0;l--){const c=s[l];(c.f&(Rt|Ge))===0&&Rn(c)}}Je.clear()}}Je=null}}function ns(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const s=a.f;(s&Ne)!==0?ns(a,t,n,r):(s&(na|Mt))!==0&&(s&Ce)===0&&rs(a,t,r)&&(ve(a,Ce),rt(a))}}function rs(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const a of e.deps){if(xn.call(t,a))return!0;if((a.f&Ne)!==0&&rs(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function rt(e){for(var t=Ar=e;t.parent!==null;){t=t.parent;var n=t.f;if(Hr&&t===ce&&(n&Mt)!==0&&(n&Wa)===0)return;if((n&(fn|lt))!==0){if((n&Se)===0)return;t.f^=Se}}Me.push(t)}function as(e,t){if(!((e.f&lt)!==0&&(e.f&Se)!==0)){(e.f&Ce)!==0?t.d.push(e):(e.f&ot)!==0&&t.m.push(e),ve(e,Se);for(var n=e.first;n!==null;)as(n,t),n=n.next}}function no(e){let t=0,n=cn(0),r;return()=>{ia()&&(i(n),oa(()=>(t===0&&(r=ar(()=>e(()=>Gn(n)))),t+=1,()=>{Ot(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Gn(n))})})))}}var ro=An|On;function ao(e,t,n){new so(e,t,n)}var Qe,ta,At,tn,gt,mt,Fe,_t,kt,nn,zt,wn,Sn,Tn,Nt,wr,Pe,io,oo,Kr,fr,Wr;class so{constructor(t,n,r){se(this,Pe);dt(this,"parent");dt(this,"is_pending",!1);se(this,Qe);se(this,ta,null);se(this,At);se(this,tn);se(this,gt);se(this,mt,null);se(this,Fe,null);se(this,_t,null);se(this,kt,null);se(this,nn,0);se(this,zt,0);se(this,wn,!1);se(this,Sn,new Set);se(this,Tn,new Set);se(this,Nt,null);se(this,wr,no(()=>(V(this,Nt,cn(h(this,nn))),()=>{V(this,Nt,null)})));V(this,Qe,t),V(this,At,n),V(this,tn,a=>{var s=ce;s.b=this,s.f|=Ur,r(a)}),this.parent=ce.b,V(this,gt,la(()=>{Be(this,Pe,Kr).call(this)},ro))}defer_effect(t){Qa(t,h(this,Sn),h(this,Tn))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!h(this,At).pending}update_pending_count(t){Be(this,Pe,Wr).call(this,t),V(this,nn,h(this,nn)+t),!(!h(this,Nt)||h(this,wn))&&(V(this,wn,!0),Ot(()=>{V(this,wn,!1),h(this,Nt)&&Cn(h(this,Nt),h(this,nn))}))}get_effect_pending(){return h(this,wr).call(this),i(h(this,Nt))}error(t){var n=h(this,At).onerror;let r=h(this,At).failed;if(!n&&!r)throw t;h(this,mt)&&(De(h(this,mt)),V(this,mt,null)),h(this,Fe)&&(De(h(this,Fe)),V(this,Fe,null)),h(this,_t)&&(De(h(this,_t)),V(this,_t,null));var a=!1,s=!1;const o=()=>{if(a){Yi();return}a=!0,s&&Pi(),h(this,_t)!==null&&an(h(this,_t),()=>{V(this,_t,null)}),Be(this,Pe,fr).call(this,()=>{Gt.ensure(),Be(this,Pe,Kr).call(this)})};Ot(()=>{try{s=!0,n==null||n(t,o),s=!1}catch(l){Nn(l,h(this,gt)&&h(this,gt).parent)}r&&V(this,_t,Be(this,Pe,fr).call(this,()=>{Gt.ensure();try{return tt(()=>{var l=ce;l.b=this,l.f|=Ur,r(h(this,Qe),()=>t,()=>o)})}catch(l){return Nn(l,h(this,gt).parent),null}}))})}}Qe=new WeakMap,ta=new WeakMap,At=new WeakMap,tn=new WeakMap,gt=new WeakMap,mt=new WeakMap,Fe=new WeakMap,_t=new WeakMap,kt=new WeakMap,nn=new WeakMap,zt=new WeakMap,wn=new WeakMap,Sn=new WeakMap,Tn=new WeakMap,Nt=new WeakMap,wr=new WeakMap,Pe=new WeakSet,io=function(){try{V(this,mt,tt(()=>h(this,tn).call(this,h(this,Qe))))}catch(t){this.error(t)}},oo=function(){const t=h(this,At).pending;t&&(this.is_pending=!0,V(this,Fe,tt(()=>t(h(this,Qe)))),Ot(()=>{var n=V(this,kt,document.createDocumentFragment()),r=It();n.append(r),V(this,mt,Be(this,Pe,fr).call(this,()=>(Gt.ensure(),tt(()=>h(this,tn).call(this,r))))),h(this,zt)===0&&(h(this,Qe).before(n),V(this,kt,null),an(h(this,Fe),()=>{V(this,Fe,null)}),this.is_pending=!1)}))},Kr=function(){try{if(this.is_pending=this.has_pending_snippet(),V(this,zt,0),V(this,nn,0),V(this,mt,tt(()=>{h(this,tn).call(this,h(this,Qe))})),h(this,zt)>0){var t=V(this,kt,document.createDocumentFragment());ys(h(this,mt),t);const n=h(this,At).pending;V(this,Fe,tt(()=>n(h(this,Qe))))}else this.is_pending=!1}catch(n){this.error(n)}},fr=function(t){var n=ce,r=te,a=_e;ht(h(this,gt)),$e(h(this,gt)),kn(h(this,gt).ctx);try{return t()}catch(s){return Xa(s),null}finally{ht(n),$e(r),kn(a)}},Wr=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Be(n=this.parent,Pe,Wr).call(n,t);return}if(V(this,zt,h(this,zt)+t),h(this,zt)===0){this.is_pending=!1;for(const r of h(this,Sn))ve(r,Ce),rt(r);for(const r of h(this,Tn))ve(r,ot),rt(r);h(this,Sn).clear(),h(this,Tn).clear(),h(this,Fe)&&an(h(this,Fe),()=>{V(this,Fe,null)}),h(this,kt)&&(h(this,Qe).before(h(this,kt)),V(this,kt,null))}};function lo(e,t,n,r){const a=tr()?kr:aa;var s=e.filter(f=>!f.settled);if(n.length===0&&s.length===0){r(t.map(a));return}var o=X,l=ce,c=co(),u=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(f=>f.promise)):null;function d(f){c();try{r(f)}catch(p){(l.f&Rt)===0&&Nn(p,l)}o==null||o.deactivate(),Zr()}if(n.length===0){u.then(()=>d(t.map(a)));return}function g(){c(),Promise.all(n.map(f=>uo(f))).then(f=>d([...t.map(a),...f])).catch(f=>Nn(f,l))}u?u.then(g):g()}function co(){var e=ce,t=te,n=_e,r=X;return function(s=!0){ht(e),$e(t),kn(n),s&&(r==null||r.activate())}}function Zr(){ht(null),$e(null),kn(null)}function kr(e){var t=Ne|Ce,n=te!==null&&(te.f&Ne)!==0?te:null;return ce!==null&&(ce.f|=On),{ctx:_e,deps:null,effects:null,equals:Ya,f:t,fn:e,reactions:null,rv:0,v:Ae,wv:0,parent:n??ce,ac:null}}function uo(e,t,n){let r=ce;r===null&&Ai();var a=r.b,s=void 0,o=cn(Ae),l=!te,c=new Map;return Ao(()=>{var p;var u=Ga();s=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===X&&d.committed&&d.deactivate(),Zr()})}catch(_){u.reject(_),Zr()}var d=X;if(l){var g=a.is_rendered();a.update_pending_count(1),d.increment(g),(p=c.get(d))==null||p.reject(Yt),c.delete(d),c.set(d,u)}const f=(_,S=void 0)=>{if(d.activate(),S)S!==Yt&&(o.f|=qt,Cn(o,S));else{(o.f&qt)!==0&&(o.f^=qt),Cn(o,_);for(const[v,b]of c){if(c.delete(v),v===d)break;b.reject(Yt)}}l&&(a.update_pending_count(-1),d.decrement(g))};u.promise.then(f,_=>f(null,_||"unknown"))}),vs(()=>{for(const u of c.values())u.reject(Yt)}),new Promise(u=>{function d(g){function f(){g===s?u(o):d(s)}g.then(f,f)}d(s)})}function ee(e){const t=kr(e);return Es(t),t}function aa(e){const t=kr(e);return t.equals=$a,t}function fo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)De(t[n])}}function vo(e){for(var t=e.parent;t!==null;){if((t.f&Ne)===0)return(t.f&Rt)===0?t:null;t=t.parent}return null}function sa(e){var t,n=ce;ht(vo(e));try{e.f&=~ln,fo(e),t=xs(e)}finally{ht(n)}return t}function ss(e){var t=sa(e);if(!e.equals(t)&&(e.wv=Ss(),(!(X!=null&&X.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){ve(e,Se);return}Wt||(ke!==null?(ia()||X!=null&&X.is_fork)&&ke.set(e,t):ra(e))}function go(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(Yt),r.teardown=bi,r.ac=null,Zn(r,0),ca(r))}function is(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Rn(t)}let jr=new Set;const Kt=new Map;let os=!1;function cn(e,t){var n={f:0,v:e,reactions:null,equals:Ya,rv:0,wv:0};return n}function W(e,t){const n=cn(e);return Es(n),n}function mo(e,t=!1,n=!0){var a;const r=cn(e);return t||(r.equals=$a),In&&n&&_e!==null&&_e.l!==null&&((a=_e.l).s??(a.s=[])).push(r),r}function E(e,t,n=!1){te!==null&&(!at||(te.f&ha)!==0)&&tr()&&(te.f&(Ne|Mt|na|ha))!==0&&(Ye===null||!xn.call(Ye,e))&&Di();let r=n?qe(t):t;return Cn(e,r)}function Cn(e,t){if(!e.equals(t)){var n=e.v;Wt?Kt.set(e,t):Kt.set(e,n),e.v=t;var r=Gt.ensure();if(r.capture(e,n),(e.f&Ne)!==0){const a=e;(e.f&Ce)!==0&&sa(a),ra(a)}e.wv=Ss(),ls(e,Ce),tr()&&ce!==null&&(ce.f&Se)!==0&&(ce.f&(lt|fn))===0&&(Ze===null?No([e]):Ze.push(e)),!r.is_fork&&jr.size>0&&!os&&_o()}return t}function _o(){os=!1;for(const e of jr)(e.f&Se)!==0&&ve(e,ot),rr(e)&&Rn(e);jr.clear()}function Gn(e){E(e,e.v+1)}function ls(e,t){var n=e.reactions;if(n!==null)for(var r=tr(),a=n.length,s=0;s<a;s++){var o=n[s],l=o.f;if(!(!r&&o===ce)){var c=(l&Ce)===0;if(c&&ve(o,t),(l&Ne)!==0){var u=o;ke==null||ke.delete(u),(l&ln)===0&&(l&je&&(o.f|=ln),ls(u,ot))}else c&&((l&Mt)!==0&&Je!==null&&Je.add(o),rt(o))}}}function qe(e){if(typeof e!="object"||e===null||Hn in e)return e;const t=qa(e);if(t!==pi&&t!==hi)return e;var n=new Map,r=Ha(e),a=W(0),s=sn,o=l=>{if(sn===s)return l();var c=te,u=sn;$e(null),wa(s);var d=l();return $e(c),wa(u),d};return r&&n.set("length",W(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Mi();var d=n.get(c);return d===void 0?o(()=>{var g=W(u.value);return n.set(c,g),g}):E(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=o(()=>W(Ae));n.set(c,d),Gn(a)}}else E(u,Ae),Gn(a);return!0},get(l,c,u){var p;if(c===Hn)return e;var d=n.get(c),g=c in l;if(d===void 0&&(!g||(p=mn(l,c))!=null&&p.writable)&&(d=o(()=>{var _=qe(g?l[c]:Ae),S=W(_);return S}),n.set(c,d)),d!==void 0){var f=i(d);return f===Ae?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=i(d))}else if(u===void 0){var g=n.get(c),f=g==null?void 0:g.v;if(g!==void 0&&f!==Ae)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){var f;if(c===Hn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ae||Reflect.has(l,c);if(u!==void 0||ce!==null&&(!d||(f=mn(l,c))!=null&&f.writable)){u===void 0&&(u=o(()=>{var p=d?qe(l[c]):Ae,_=W(p);return _}),n.set(c,u));var g=i(u);if(g===Ae)return!1}return d},set(l,c,u,d){var k;var g=n.get(c),f=c in l;if(r&&c==="length")for(var p=u;p<g.v;p+=1){var _=n.get(p+"");_!==void 0?E(_,Ae):p in l&&(_=o(()=>W(Ae)),n.set(p+"",_))}if(g===void 0)(!f||(k=mn(l,c))!=null&&k.writable)&&(g=o(()=>W(void 0)),E(g,qe(u)),n.set(c,g));else{f=g.v!==Ae;var S=o(()=>qe(u));E(g,S)}var v=Reflect.getOwnPropertyDescriptor(l,c);if(v!=null&&v.set&&v.set.call(d,u),!f){if(r&&typeof c=="string"){var b=n.get("length"),I=Number(c);Number.isInteger(I)&&I>=b.v&&E(b,I+1)}Gn(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(g=>{var f=n.get(g);return f===void 0||f.v!==Ae});for(var[u,d]of n)d.v!==Ae&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Li()}})}var Yr,cs,us,ds;function po(){if(Yr===void 0){Yr=window,cs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;us=mn(t,"firstChild").get,ds=mn(t,"nextSibling").get,pa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),pa(n)&&(n.__t=void 0)}}function It(e=""){return document.createTextNode(e)}function Ft(e){return us.call(e)}function nr(e){return ds.call(e)}function m(e,t){return Ft(e)}function un(e,t=!1){{var n=Ft(e);return n instanceof Comment&&n.data===""?nr(n):n}}function w(e,t=1,n=!1){let r=e;for(;t--;)r=nr(r);return r}function ho(e){e.textContent=""}function fs(){return!1}function bo(e,t,n){return document.createElementNS(ja,e,void 0)}let ya=!1;function yo(){ya||(ya=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Nr(e){var t=te,n=ce;$e(null),ht(null);try{return e()}finally{$e(t),ht(n)}}function Eo(e,t,n,r=n){e.addEventListener(t,()=>Nr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),yo()}function wo(e){ce===null&&(te===null&&Ri(),Ci()),Wt&&Ni()}function So(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Lt(e,t,n){var r=ce;r!==null&&(r.f&Ge)!==0&&(e|=Ge);var a={ctx:_e,deps:null,nodes:null,f:e|Ce|je,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Rn(a)}catch(l){throw De(a),l}else t!==null&&rt(a);var s=a;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&On)===0&&(s=s.first,(e&Mt)!==0&&(e&An)!==0&&s!==null&&(s.f|=An)),s!==null&&(s.parent=r,r!==null&&So(s,r),te!==null&&(te.f&Ne)!==0&&(e&fn)===0)){var o=te;(o.effects??(o.effects=[])).push(s)}return a}function ia(){return te!==null&&!at}function vs(e){const t=Lt(xr,null,!1);return ve(t,Se),t.teardown=e,t}function st(e){wo();var t=ce.f,n=!te&&(t&lt)!==0&&(t&er)===0;if(n){var r=_e;(r.e??(r.e=[])).push(e)}else return gs(e)}function gs(e){return Lt(Wn|Ei,e,!1)}function To(e){Gt.ensure();const t=Lt(fn|On,e,!0);return(n={})=>new Promise(r=>{n.outro?an(t,()=>{De(t),r(void 0)}):(De(t),r(void 0))})}function xo(e){return Lt(Wn,e,!1)}function Ao(e){return Lt(na|On,e,!0)}function oa(e,t=0){return Lt(xr|t,e,!0)}function q(e,t=[],n=[],r=[]){lo(r,t,n,a=>{Lt(xr,()=>e(...a.map(i)),!0)})}function la(e,t=0){var n=Lt(Mt|t,e,!0);return n}function tt(e){return Lt(lt|On,e,!0)}function ms(e){var t=e.teardown;if(t!==null){const n=Wt,r=te;Ea(!0),$e(null);try{t.call(null)}finally{Ea(n),$e(r)}}}function ca(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Nr(()=>{a.abort(Yt)});var r=n.next;(n.f&fn)!==0?n.parent=null:De(n,t),n=r}}function ko(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&lt)===0&&De(t),t=n}}function De(e,t=!0){var n=!1;(t||(e.f&Wa)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(_s(e.nodes.start,e.nodes.end),n=!0),ca(e,t&&!n),Zn(e,0),ve(e,Rt);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();ms(e);var a=e.parent;a!==null&&a.first!==null&&ps(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function _s(e,t){for(;e!==null;){var n=e===t?null:nr(e);e.remove(),e=n}}function ps(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function an(e,t,n=!0){var r=[];hs(e,r,!0);var a=()=>{n&&De(e),t&&t()},s=r.length;if(s>0){var o=()=>--s||a();for(var l of r)l.out(o)}else a()}function hs(e,t,n){if((e.f&Ge)===0){e.f^=Ge;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var a=e.first;a!==null;){var s=a.next,o=(a.f&An)!==0||(a.f&lt)!==0&&(e.f&Mt)!==0;hs(a,t,o?n:!1),a=s}}}function ua(e){bs(e,!0)}function bs(e,t){if((e.f&Ge)!==0){e.f^=Ge,(e.f&Se)===0&&(ve(e,Ce),rt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&An)!==0||(n.f&lt)!==0;bs(n,a?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function ys(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var a=n===r?null:nr(n);t.append(n),n=a}}let vr=!1,Wt=!1;function Ea(e){Wt=e}let te=null,at=!1;function $e(e){te=e}let ce=null;function ht(e){ce=e}let Ye=null;function Es(e){te!==null&&(Ye===null?Ye=[e]:Ye.push(e))}let Le=null,Ue=0,Ze=null;function No(e){Ze=e}let ws=1,Vt=0,sn=Vt;function wa(e){sn=e}function Ss(){return++ws}function rr(e){var t=e.f;if((t&Ce)!==0)return!0;if(t&Ne&&(e.f&=~ln),(t&ot)!==0){for(var n=e.deps,r=n.length,a=0;a<r;a++){var s=n[a];if(rr(s)&&ss(s),s.wv>e.wv)return!0}(t&je)!==0&&ke===null&&ve(e,Se)}return!1}function Ts(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Ye!==null&&xn.call(Ye,e)))for(var a=0;a<r.length;a++){var s=r[a];(s.f&Ne)!==0?Ts(s,t,!1):t===s&&(n?ve(s,Ce):(s.f&Se)!==0&&ve(s,ot),rt(s))}}function xs(e){var S;var t=Le,n=Ue,r=Ze,a=te,s=Ye,o=_e,l=at,c=sn,u=e.f;Le=null,Ue=0,Ze=null,te=(u&(lt|fn))===0?e:null,Ye=null,kn(e.ctx),at=!1,sn=++Vt,e.ac!==null&&(Nr(()=>{e.ac.abort(Yt)}),e.ac=null);try{e.f|=zr;var d=e.fn,g=d();e.f|=er;var f=e.deps,p=X==null?void 0:X.is_fork;if(Le!==null){var _;if(p||Zn(e,Ue),f!==null&&Ue>0)for(f.length=Ue+Le.length,_=0;_<Le.length;_++)f[Ue+_]=Le[_];else e.deps=f=Le;if(ia()&&(e.f&je)!==0)for(_=Ue;_<f.length;_++)((S=f[_]).reactions??(S.reactions=[])).push(e)}else!p&&f!==null&&Ue<f.length&&(Zn(e,Ue),f.length=Ue);if(tr()&&Ze!==null&&!at&&f!==null&&(e.f&(Ne|ot|Ce))===0)for(_=0;_<Ze.length;_++)Ts(Ze[_],e);if(a!==null&&a!==e){if(Vt++,a.deps!==null)for(let v=0;v<n;v+=1)a.deps[v].rv=Vt;if(t!==null)for(const v of t)v.rv=Vt;Ze!==null&&(r===null?r=Ze:r.push(...Ze))}return(e.f&qt)!==0&&(e.f^=qt),g}catch(v){return Xa(v)}finally{e.f^=zr,Le=t,Ue=n,Ze=r,te=a,Ye=s,kn(o),at=l,sn=c}}function Co(e,t){let n=t.reactions;if(n!==null){var r=gi.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}if(n===null&&(t.f&Ne)!==0&&(Le===null||!xn.call(Le,t))){var s=t;(s.f&je)!==0&&(s.f^=je,s.f&=~ln),ra(s),go(s),Zn(s,0)}}function Zn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Co(e,n[r])}function Rn(e){var t=e.f;if((t&Rt)===0){ve(e,Se);var n=ce,r=vr;ce=e,vr=!0;try{(t&(Mt|Ka))!==0?ko(e):ca(e),ms(e);var a=xs(e);e.teardown=typeof a=="function"?a:null,e.wv=ws;var s;Br&&Vi&&(e.f&Ce)!==0&&e.deps}finally{vr=r,ce=n}}}async function Ro(){await Promise.resolve(),eo()}function i(e){var t=e.f,n=(t&Ne)!==0;if(te!==null&&!at){var r=ce!==null&&(ce.f&Rt)!==0;if(!r&&(Ye===null||!xn.call(Ye,e))){var a=te.deps;if((te.f&zr)!==0)e.rv<Vt&&(e.rv=Vt,Le===null&&a!==null&&a[Ue]===e?Ue++:Le===null?Le=[e]:Le.push(e));else{(te.deps??(te.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[te]:xn.call(s,te)||s.push(te)}}}if(Wt&&Kt.has(e))return Kt.get(e);if(n){var o=e;if(Wt){var l=o.v;return((o.f&Se)===0&&o.reactions!==null||ks(o))&&(l=sa(o)),Kt.set(o,l),l}var c=(o.f&je)===0&&!at&&te!==null&&(vr||(te.f&je)!==0),u=(o.f&er)===0;rr(o)&&(c&&(o.f|=je),ss(o)),c&&!u&&(is(o),As(o))}if(ke!=null&&ke.has(e))return ke.get(e);if((e.f&qt)!==0)throw e.v;return e.v}function As(e){if(e.f|=je,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Ne)!==0&&(t.f&je)===0&&(is(t),As(t))}function ks(e){if(e.v===Ae)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Kt.has(t)||(t.f&Ne)!==0&&ks(t))return!0;return!1}function ar(e){var t=at;try{return at=!0,e()}finally{at=t}}const Oo=["touchstart","touchmove"];function Io(e){return Oo.includes(e)}const Xt=Symbol("events"),Ns=new Set,$r=new Set;function Mo(e,t,n,r={}){function a(s){if(r.capture||Vr.call(t,s),!s.cancelBubble)return Nr(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ot(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Jt(e,t,n,r,a){var s={capture:r,passive:a},o=Mo(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&vs(()=>{t.removeEventListener(e,o,s)})}function oe(e,t,n){(t[Xt]??(t[Xt]={}))[e]=n}function yt(e){for(var t=0;t<e.length;t++)Ns.add(e[t]);for(var n of $r)n(e)}let Sa=null;function Vr(e){var v,b;var t=this,n=t.ownerDocument,r=e.type,a=((v=e.composedPath)==null?void 0:v.call(e))||[],s=a[0]||e.target;Sa=e;var o=0,l=Sa===e&&e[Xt];if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e[Xt]=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(s=a[o]||e.target,s!==t){mi(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=te,g=ce;$e(null),ht(null);try{for(var f,p=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var S=(b=s[Xt])==null?void 0:b[r];S!=null&&(!s.disabled||e.target===s)&&S.call(s,e)}catch(I){f?p.push(I):f=I}if(e.cancelBubble||_===t||_===null)break;s=_}if(f){for(let I of p)queueMicrotask(()=>{throw I});throw f}}finally{e[Xt]=t,delete e.currentTarget,$e(d),ht(g)}}}var za;const Or=((za=globalThis==null?void 0:globalThis.window)==null?void 0:za.trustedTypes)&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Lo(e){return(Or==null?void 0:Or.createHTML(e))??e}function Cs(e,t=!1){var n=bo("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?Lo(e):e,n.content}function jn(e,t){var n=ce;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function x(e,t){var n=(t&Zi)!==0,r=(t&ji)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=Cs(s?e:"<!>"+e,!0),n||(a=Ft(a)));var o=r||cs?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Ft(o),c=o.lastChild;jn(l,c)}else jn(o,o);return o}}function Ta(e=""){{var t=It(e+"");return jn(t,t),t}}function Rs(){var e=document.createDocumentFragment(),t=document.createComment(""),n=It();return e.append(t,n),jn(t,n),e}function T(e,t){e!==null&&e.before(t)}function B(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Do(e,t){return Po(e,t)}const or=new Map;function Po(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:o=!0}){po();var l=void 0,c=To(()=>{var u=n??t.appendChild(It());ao(u,{pending:()=>{}},f=>{Oe({});var p=_e;s&&(p.c=s),a&&(r.$$events=a),l=e(f,r)||{},Ie()});var d=new Set,g=f=>{for(var p=0;p<f.length;p++){var _=f[p];if(!d.has(_)){d.add(_);var S=Io(_);for(const I of[t,document]){var v=or.get(I);v===void 0&&(v=new Map,or.set(I,v));var b=v.get(_);b===void 0?(I.addEventListener(_,Vr,{passive:S}),v.set(_,1)):v.set(_,b+1)}}}};return g(Tr(Ns)),$r.add(g),()=>{var S;for(var f of d)for(const v of[t,document]){var p=or.get(v),_=p.get(f);--_==0?(v.removeEventListener(f,Vr),p.delete(f),p.size===0&&or.delete(v)):p.set(f,_)}$r.delete(g),u!==n&&((S=u.parentNode)==null||S.removeChild(u))}});return Bo.set(l,c),l}let Bo=new WeakMap;var et,pt,He,rn,Jn,Qn,Sr;class Uo{constructor(t,n=!0){dt(this,"anchor");se(this,et,new Map);se(this,pt,new Map);se(this,He,new Map);se(this,rn,new Set);se(this,Jn,!0);se(this,Qn,()=>{var t=X;if(h(this,et).has(t)){var n=h(this,et).get(t),r=h(this,pt).get(n);if(r)ua(r),h(this,rn).delete(n);else{var a=h(this,He).get(n);a&&(h(this,pt).set(n,a.effect),h(this,He).delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[s,o]of h(this,et)){if(h(this,et).delete(s),s===t)break;const l=h(this,He).get(o);l&&(De(l.effect),h(this,He).delete(o))}for(const[s,o]of h(this,pt)){if(s===n||h(this,rn).has(s))continue;const l=()=>{if(Array.from(h(this,et).values()).includes(s)){var u=document.createDocumentFragment();ys(o,u),u.append(It()),h(this,He).set(s,{effect:o,fragment:u})}else De(o);h(this,rn).delete(s),h(this,pt).delete(s)};h(this,Jn)||!r?(h(this,rn).add(s),an(o,l,!1)):l()}}});se(this,Sr,t=>{h(this,et).delete(t);const n=Array.from(h(this,et).values());for(const[r,a]of h(this,He))n.includes(r)||(De(a.effect),h(this,He).delete(r))});this.anchor=t,V(this,Jn,n)}ensure(t,n){var r=X,a=fs();if(n&&!h(this,pt).has(t)&&!h(this,He).has(t))if(a){var s=document.createDocumentFragment(),o=It();s.append(o),h(this,He).set(t,{effect:tt(()=>n(o)),fragment:s})}else h(this,pt).set(t,tt(()=>n(this.anchor)));if(h(this,et).set(r,t),a){for(const[l,c]of h(this,pt))l===t?r.unskip_effect(c):r.skip_effect(c);for(const[l,c]of h(this,He))l===t?r.unskip_effect(c.effect):r.skip_effect(c.effect);r.oncommit(h(this,Qn)),r.ondiscard(h(this,Sr))}else h(this,Qn).call(this)}}et=new WeakMap,pt=new WeakMap,He=new WeakMap,rn=new WeakMap,Jn=new WeakMap,Qn=new WeakMap,Sr=new WeakMap;function K(e,t,n=!1){var r=new Uo(e),a=n?An:0;function s(o,l){r.ensure(o,l)}la(()=>{var o=!1;t((l,c=0)=>{o=!0,s(c,l)}),o||s(!1,null)},a)}function it(e,t){return t}function zo(e,t,n){for(var r=[],a=t.length,s,o=t.length,l=0;l<a;l++){let g=t[l];an(g,()=>{if(s){if(s.pending.delete(g),s.done.add(g),s.pending.size===0){var f=e.outrogroups;Xr(Tr(s.done)),f.delete(s),f.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var c=r.length===0&&n!==null;if(c){var u=n,d=u.parentNode;ho(d),d.append(u),e.items.clear()}Xr(t,!c)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function Xr(e,t=!0){for(var n=0;n<e.length;n++)De(e[n],t)}var xa;function Ke(e,t,n,r,a,s=null){var o=e,l=new Map,c=(t&Za)!==0;if(c){var u=e;o=u.appendChild(It())}var d=null,g=aa(()=>{var b=n();return Ha(b)?b:b==null?[]:Tr(b)}),f,p=!0;function _(){v.fallback=d,Fo(v,f,o,t,r),d!==null&&(f.length===0?(d.f&Ct)===0?ua(d):(d.f^=Ct,Fn(d,null,o)):an(d,()=>{d=null}))}var S=la(()=>{f=i(g);for(var b=f.length,I=new Set,k=X,N=fs(),C=0;C<b;C+=1){var P=f[C],$=r(P,C),R=p?null:l.get($);R?(R.v&&Cn(R.v,P),R.i&&Cn(R.i,C),N&&k.unskip_effect(R.e)):(R=Ho(l,p?o:xa??(xa=It()),P,$,C,a,t,n),p||(R.e.f|=Ct),l.set($,R)),I.add($)}if(b===0&&s&&!d&&(p?d=tt(()=>s(o)):(d=tt(()=>s(xa??(xa=It()))),d.f|=Ct)),b>I.size&&ki(),!p)if(N){for(const[F,L]of l)I.has(F)||k.skip_effect(L.e);k.oncommit(_),k.ondiscard(()=>{})}else _();i(g)}),v={effect:S,items:l,outrogroups:null,fallback:d};p=!1}function Pn(e){for(;e!==null&&(e.f&lt)===0;)e=e.next;return e}function Fo(e,t,n,r,a){var L,J,fe,D,G,j,ne,H,U;var s=(r&zi)!==0,o=t.length,l=e.items,c=Pn(e.effect.first),u,d=null,g,f=[],p=[],_,S,v,b;if(s)for(b=0;b<o;b+=1)_=t[b],S=a(_,b),v=l.get(S).e,(v.f&Ct)===0&&((J=(L=v.nodes)==null?void 0:L.a)==null||J.measure(),(g??(g=new Set)).add(v));for(b=0;b<o;b+=1){if(_=t[b],S=a(_,b),v=l.get(S).e,e.outrogroups!==null)for(const A of e.outrogroups)A.pending.delete(v),A.done.delete(v);if((v.f&Ct)!==0)if(v.f^=Ct,v===c)Fn(v,null,n);else{var I=d?d.next:c;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),Ut(e,d,v),Ut(e,v,I),Fn(v,I,n),d=v,f=[],p=[],c=Pn(d.next);continue}if((v.f&Ge)!==0&&(ua(v),s&&((D=(fe=v.nodes)==null?void 0:fe.a)==null||D.unfix(),(g??(g=new Set)).delete(v))),v!==c){if(u!==void 0&&u.has(v)){if(f.length<p.length){var k=p[0],N;d=k.prev;var C=f[0],P=f[f.length-1];for(N=0;N<f.length;N+=1)Fn(f[N],k,n);for(N=0;N<p.length;N+=1)u.delete(p[N]);Ut(e,C.prev,P.next),Ut(e,d,C),Ut(e,P,k),c=k,d=P,b-=1,f=[],p=[]}else u.delete(v),Fn(v,c,n),Ut(e,v.prev,v.next),Ut(e,v,d===null?e.effect.first:d.next),Ut(e,d,v),d=v;continue}for(f=[],p=[];c!==null&&c!==v;)(u??(u=new Set)).add(c),p.push(c),c=Pn(c.next);if(c===null)continue}(v.f&Ct)===0&&f.push(v),d=v,c=Pn(v.next)}if(e.outrogroups!==null){for(const A of e.outrogroups)A.pending.size===0&&(Xr(Tr(A.done)),(G=e.outrogroups)==null||G.delete(A));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||u!==void 0){var $=[];if(u!==void 0)for(v of u)(v.f&Ge)===0&&$.push(v);for(;c!==null;)(c.f&Ge)===0&&c!==e.fallback&&$.push(c),c=Pn(c.next);var R=$.length;if(R>0){var F=(r&Za)!==0&&o===0?n:null;if(s){for(b=0;b<R;b+=1)(ne=(j=$[b].nodes)==null?void 0:j.a)==null||ne.measure();for(b=0;b<R;b+=1)(U=(H=$[b].nodes)==null?void 0:H.a)==null||U.fix()}zo(e,$,F)}}s&&Ot(()=>{var A,O;if(g!==void 0)for(v of g)(O=(A=v.nodes)==null?void 0:A.a)==null||O.apply()})}function Ho(e,t,n,r,a,s,o,l){var c=(o&Bi)!==0?(o&Fi)===0?mo(n,!1,!1):cn(n):null,u=(o&Ui)!==0?cn(a):null;return{v:c,i:u,e:tt(()=>(s(t,c??n,u??a,l),()=>{e.delete(r)}))}}function Fn(e,t,n){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end,s=t&&(t.f&Ct)===0?t.nodes.start:n;r!==null;){var o=nr(r);if(s.before(r),r===a)return;r=o}}function Ut(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function qo(e,t,n=!1,r=!1,a=!1){var s=e,o="";q(()=>{var l=ce;if(o!==(o=t()??"")&&(l.nodes!==null&&(_s(l.nodes.start,l.nodes.end),l.nodes=null),o!=="")){var c=o+"";n?c=`<svg>${c}</svg>`:r&&(c=`<math>${c}</math>`);var u=Cs(c);if((n||r)&&(u=Ft(u)),jn(Ft(u),u.lastChild),n||r)for(;Ft(u);)s.before(Ft(u));else s.before(u)}})}const Aa=[...` 	
\r\f \v\uFEFF`];function Go(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,o=0;(o=r.indexOf(a,o))>=0;){var l=o+s;(o===0||Aa.includes(r[o-1]))&&(l===r.length||Aa.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Ko(e,t){return e==null?null:String(e)}function me(e,t,n,r,a,s){var o=e.__className;if(o!==n||o===void 0){var l=Go(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function hr(e,t,n,r){var a=e.__style;if(a!==t){var s=Ko(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const Wo=Symbol("is custom element"),Zo=Symbol("is html"),jo=Ti?"progress":"PROGRESS";function Yo(e,t){var n=Os(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==jo)||(e.value=t??"")}function Ht(e,t,n,r){var a=Os(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Si]=n),n==null?e.removeAttribute(t):typeof n!="string"&&$o(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Os(e){return e.__attributes??(e.__attributes={[Wo]:e.nodeName.includes("-"),[Zo]:e.namespaceURI===ja})}var ka=new Map;function $o(e){var t=e.getAttribute("is")||e.nodeName,n=ka.get(t);if(n)return n;ka.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=_i(a);for(var o in r)r[o].set&&n.push(o);a=qa(a)}return n}function da(e,t,n=t){var r=new WeakSet;Eo(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Ir(e)?Mr(s):s,n(s),X!==null&&r.add(X),await Ro(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd,c=e.value.length;if(e.value=s??"",l!==null){var u=e.value.length;o===l&&l===c&&u>c?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=o,e.selectionEnd=Math.min(l,u))}}}),ar(t)==null&&e.value&&(n(Ir(e)?Mr(e.value):e.value),X!==null&&r.add(X)),oa(()=>{var a=t();if(e===document.activeElement){var s=Fr??X;if(r.has(s))return}Ir(e)&&a===Mr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Ir(e){var t=e.type;return t==="number"||t==="range"}function Mr(e){return e===""?null:+e}function Na(e,t){return e===t||(e==null?void 0:e[Hn])===t}function Yn(e={},t,n,r){return xo(()=>{var a,s;return oa(()=>{a=s,s=[],ar(()=>{e!==n(...s)&&(t(e,...s),a&&Na(n(...a),e)&&t(null,...a))})}),()=>{Ot(()=>{s&&Na(n(...s),e)&&t(null,...s)})}}),e}let lr=!1;function Vo(e){var t=lr;try{return lr=!1,[e(),lr]}finally{lr=t}}function dn(e,t,n,r){var k;var a=!In||(n&qi)!==0,s=(n&Ki)!==0,o=(n&Wi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=o?ar(r):r),l),d;if(s){var g=Hn in e||wi in e;d=((k=mn(e,t))==null?void 0:k.set)??(g&&t in e?N=>e[t]=N:void 0)}var f,p=!1;s?[f,p]=Vo(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(a&&Ii(),d(f)));var _;if(a?_=()=>{var N=e[t];return N===void 0?u():(c=!0,N)}:_=()=>{var N=e[t];return N!==void 0&&(l=void 0),N===void 0?l:N},a&&(n&Gi)===0)return _;if(d){var S=e.$$legacy;return(function(N,C){return arguments.length>0?((!a||!C||S||p)&&d(C?_():N),N):_()})}var v=!1,b=((n&Hi)!==0?kr:aa)(()=>(v=!1,_()));s&&i(b);var I=ce;return(function(N,C){if(arguments.length>0){const P=C?i(b):a&&s?qe(N):N;return E(b,P),v=!0,l!==void 0&&(l=P),N}return Wt&&v||(I.f&Rt)!==0?b.v:i(b)})}function Xo(e){_e===null&&xi(),In&&_e.l!==null?Jo(_e).m.push(e):st(()=>{const t=ar(e);if(typeof t=="function")return t})}function Jo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Qo="5";var Fa;typeof window<"u"&&((Fa=window.__svelte??(window.__svelte={})).v??(Fa.v=new Set)).add(Qo);const fa="aletheia_token";function Mn(){return localStorage.getItem(fa)}function Is(e){localStorage.setItem(fa,e)}function el(){localStorage.removeItem(fa)}function tl(){const e=Mn();return{...e?{Authorization:`Bearer ${e}`}:{},"Content-Type":"application/json"}}async function vn(e,t){const n=window.location.origin,r=await fetch(`${n}${e}`,{...t,headers:{...tl(),...t==null?void 0:t.headers}});if(r.status===401)throw new Error("Unauthorized — check your token");if(!r.ok){const a=await r.text();throw new Error(`API error ${r.status}: ${a}`)}return r.json()}async function nl(){return(await vn("/api/agents")).agents}async function rl(e){return vn(`/api/agents/${e}/identity`)}async function al(e){const t=e?`?nousId=${e}`:"";return(await vn(`/api/sessions${t}`)).sessions}async function sl(e,t=100){return(await vn(`/api/sessions/${e}/history?limit=${t}`)).messages}async function il(){return vn("/api/metrics")}async function ol(){return vn("/api/costs/summary")}async function ll(e){const n=await vn("/api/memory/graph/export");return{nodes:n.nodes,edges:n.edges,communities:n.communities}}let ft=null,Lr=null,gr=1e3;const cl=3e4,Jr=new Set;function ul(e){return Jr.add(e),()=>Jr.delete(e)}function cr(e,t){for(const n of Jr)try{n(e,t)}catch{}}function dl(){ft||Ms()}function Ms(){const e=Mn(),n=`${window.location.origin}/api/events${e?`?token=${encodeURIComponent(e)}`:""}`;ft=new EventSource(n),ft.onopen=()=>{gr=1e3,cr("connection",{status:"connected"})},ft.onerror=()=>{cr("connection",{status:"disconnected"}),ft==null||ft.close(),ft=null,fl()},ft.addEventListener("init",a=>{try{cr("init",JSON.parse(a.data))}catch{}});const r=["turn:before","turn:after","turn:text_delta","turn:tool_start","turn:tool_result","tool:called","tool:failed","session:created","session:archived"];for(const a of r)ft.addEventListener(a,s=>{try{cr(a,JSON.parse(s.data))}catch{}})}function fl(){Lr||(Lr=setTimeout(()=>{Lr=null,gr=Math.min(gr*2,cl),Ms()},gr))}let Ls=W("disconnected");function Ca(){return i(Ls)}function vl(){ul((e,t)=>{e==="connection"&&E(Ls,t.status,!0)}),dl()}let va=W(qe([])),$n=W(null),Ra=W(!1);const mr=new Map;function Ds(){return i(va)}function Ps(){return i(va).find(e=>e.id===i($n))??null}function Kn(){return i($n)}async function gl(){E(Ra,!0);try{const e=await nl(),t=e.filter(n=>!mr.has(n.id));if(t.length>0){const n=await Promise.allSettled(t.map(r=>rl(r.id).then(a=>({id:r.id,identity:a}))));for(const r of n)r.status==="fulfilled"&&mr.set(r.value.id,r.value.identity)}for(const n of e){const r=mr.get(n.id);r&&(n.name=r.name||n.name,n.emoji=r.emoji)}E(va,e,!0),!i($n)&&e.length>0&&E($n,e[0].id,!0)}finally{E(Ra,!1)}}function Bs(e){E($n,e,!0)}function ml(e){var t;return((t=mr.get(e))==null?void 0:t.emoji)??null}var _l=x('<span class="agent-emoji svelte-mc3eh3"> </span>'),pl=x('<span class="active-agent svelte-mc3eh3"><!> </span>'),hl=x('<div class="settings-panel svelte-mc3eh3"><label class="settings-label svelte-mc3eh3">Gateway Token <input type="password" class="settings-input svelte-mc3eh3" placeholder="Enter gateway auth token"/></label> <div class="settings-actions svelte-mc3eh3"><button class="btn-primary svelte-mc3eh3">Save</button> <button class="btn-ghost svelte-mc3eh3">Clear & Logout</button> <button class="btn-ghost svelte-mc3eh3">Cancel</button></div></div>'),bl=x('<header class="topbar svelte-mc3eh3"><div class="left svelte-mc3eh3"><button aria-label="Toggle sidebar"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" class="svelte-mc3eh3"><rect x="1" y="2" width="16" height="14" rx="2" stroke="currentColor" stroke-width="1.5" fill="none" class="svelte-mc3eh3"></rect><line x1="6.5" y1="2" x2="6.5" y2="16" stroke="currentColor" stroke-width="1.5" class="svelte-mc3eh3"></line></svg></button> <h1 class="title svelte-mc3eh3">Aletheia</h1> <span></span> <!></div> <div class="right svelte-mc3eh3"><button>Metrics</button> <button>Graph</button> <button class="topbar-btn svelte-mc3eh3">Settings</button></div></header> <!>',1);function yl(e,t){Oe(t,!0);let n=dn(t,"sidebarCollapsed",3,!1),r=W(!1),a=W(qe(Mn()??"")),s=ee(Ps);function o(){i(a).trim()&&(Is(i(a).trim()),E(r,!1),location.reload())}function l(){el(),location.reload()}var c=bl(),u=un(c),d=m(u),g=m(d);let f;var p=w(g,4);let _;var S=w(p,2);{var v=F=>{var L=pl(),J=m(L);{var fe=G=>{var j=_l(),ne=m(j);q(()=>B(ne,i(s).emoji)),T(G,j)};K(J,G=>{i(s).emoji&&G(fe)})}var D=w(J);q(()=>B(D,` ${i(s).name??""}`)),T(F,L)};K(S,F=>{i(s)&&F(v)})}var b=w(d,2),I=m(b);let k;var N=w(I,2);let C;var P=w(N,2),$=w(u,2);{var R=F=>{var L=hl(),J=m(L),fe=w(m(J)),D=w(J,2),G=m(D),j=w(G,2),ne=w(j,2);da(fe,()=>i(a),H=>E(a,H)),oe("click",G,o),oe("click",j,l),oe("click",ne,()=>E(r,!1)),T(F,L)};K($,F=>{i(r)&&F(R)})}q(F=>{f=me(g,1,"sidebar-toggle svelte-mc3eh3",null,f,{open:!n()}),Ht(g,"title",n()?"Show agents":"Hide agents"),_=me(p,1,"status-dot svelte-mc3eh3",null,_,F),k=me(I,1,"topbar-btn svelte-mc3eh3",null,k,{active:t.activeView==="metrics"}),C=me(N,1,"topbar-btn svelte-mc3eh3",null,C,{active:t.activeView==="graph"})},[()=>({connected:Ca()==="connected",connecting:Ca()==="connecting"})]),oe("click",g,function(...F){var L;(L=t.onToggleSidebar)==null||L.apply(this,F)}),oe("click",I,()=>t.onSetView(t.activeView==="metrics"?"chat":"metrics")),oe("click",N,()=>t.onSetView(t.activeView==="graph"?"chat":"graph")),oe("click",P,()=>E(r,!i(r))),T(e,c),Ie()}yt(["click"]);function Bn(e){return e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?Math.round(e/1e3)+"k":String(e):"0"}function El(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`}function _r(e){if(!e)return"never";const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function Oa(e){return`$${e.toFixed(4)}`}function wl(e){return e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`}function Sl(e){try{return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return""}}var Tl=x('<span class="emoji svelte-9yl1a2"> </span>'),xl=x('<span class="initials svelte-9yl1a2"> </span>'),Al=x('<span class="activity svelte-9yl1a2"> </span>'),kl=x('<button><span class="avatar svelte-9yl1a2"><!></span> <span class="info svelte-9yl1a2"><span class="name svelte-9yl1a2"> </span> <!></span></button>');function Nl(e,t){Oe(t,!0);let n=dn(t,"isActive",3,!1);var r=kl();let a;var s=m(r),o=m(s);{var l=_=>{var S=Tl(),v=m(S);q(()=>B(v,t.agent.emoji)),T(_,S)},c=_=>{var S=xl(),v=m(S);q(b=>B(v,b),[()=>t.agent.name.slice(0,2).toUpperCase()]),T(_,S)};K(o,_=>{t.agent.emoji?_(l):_(c,!1)})}var u=w(s,2),d=m(u),g=m(d),f=w(d,2);{var p=_=>{var S=Al(),v=m(S);q(b=>B(v,b),[()=>_r(t.lastActivity)]),T(_,S)};K(f,_=>{t.lastActivity&&_(p)})}q(()=>{a=me(r,1,"agent-card svelte-9yl1a2",null,a,{active:n()}),B(g,t.agent.name)}),oe("click",r,function(..._){var S;(S=t.onclick)==null||S.apply(this,_)}),T(e,r),Ie()}yt(["click"]);let gn=W(qe([])),_n=W(null),Ia=W(!1);function Us(){return i(gn).find(e=>e.id===i(_n))??null}function Cl(){return i(_n)}async function br(e){E(Ia,!0);try{const t=await al(e);if(E(gn,t.filter(n=>!n.sessionKey.startsWith("cron:")&&!n.sessionKey.startsWith("agent:")&&!n.sessionKey.startsWith("prosoche")),!0),i(gn).length>0){if(!i(gn).find(r=>r.id===i(_n))){const r=i(gn).find(a=>a.sessionKey.startsWith("signal:"));E(_n,(r==null?void 0:r.id)??i(gn)[0].id,!0)}}else E(_n,null)}finally{E(Ia,!1)}}function Rl(){const e=Us();return(e==null?void 0:e.sessionKey)??`web:${Date.now()}`}function Ol(e){const t=`web:${Date.now()}`;return E(_n,null),t}function Il(e){br(e)}var Ml=x('<aside><div class="agent-list svelte-1m85e6v"></div></aside>');function Ll(e,t){Oe(t,!0);let n=dn(t,"collapsed",3,!1);function r(l){var c;Bs(l),br(l),(c=t.onAgentSelect)==null||c.call(t)}st(()=>{const l=Kn();l&&br(l)});var a=Ml();let s;var o=m(a);Ke(o,21,Ds,it,(l,c)=>{{let u=ee(()=>i(c).id===Kn());Nl(l,{get agent(){return i(c)},get isActive(){return i(u)},onclick:()=>r(i(c).id)})}}),q(()=>s=me(a,1,"sidebar svelte-1m85e6v",null,s,{collapsed:n()})),T(e,a),Ie()}const yr="[A-Za-z$_][0-9A-Za-z$_]*",zs=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Fs=["true","false","null","undefined","NaN","Infinity"],Hs=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],qs=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Gs=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ks=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Ws=[].concat(Gs,Hs,qs);function Dl(e){const t=e.regex,n=(U,{after:A})=>{const O="</"+U[0].slice(1);return U.input.indexOf(O,A)!==-1},r=yr,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(U,A)=>{const O=U[0].length+U.index,Y=U.input[O];if(Y==="<"||Y===","){A.ignoreMatch();return}Y===">"&&(n(U,{after:O})||A.ignoreMatch());let Q;const M=U.input.substring(O);if(Q=M.match(/^\s*=/)){A.ignoreMatch();return}if((Q=M.match(/^\s+extends\s+/))&&Q.index===0){A.ignoreMatch();return}}},l={$pattern:yr,keyword:zs,literal:Fs,built_in:Ws,"variable.language":Ks},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},S={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},I={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,S,v,{match:/\$\d+/},g];f.contains=k.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(k)});const N=[].concat(I,f.contains),C=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(N)}]),P={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C},$={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Hs,...qs]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},L={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},J={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function fe(U){return t.concat("(?!",U.join("|"),")")}const D={match:t.concat(/\b/,fe([...Gs,"super","import"].map(U=>`${U}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},G={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},ne="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",H={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(ne)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,S,v,I,{match:/\$\d+/},g,R,{scope:"attr",match:r+t.lookahead(":"),relevance:0},H,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:ne,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},L,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},G,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},D,J,$,j,{match:/\$[(.]/}]}}function Zs(e){const t=e.regex,n=Dl(e),r=yr,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:yr,keyword:zs.concat(c),literal:Fs,built_in:Ws.concat(a),"variable.language":Ks},d={className:"meta",begin:"@"+r},g=(S,v,b)=>{const I=S.contains.findIndex(k=>k.label===v);if(I===-1)throw new Error("can not find mode to replace");S.contains.splice(I,1,b)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const f=n.contains.find(S=>S.scope==="attr"),p=Object.assign({},f,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,p]),n.contains=n.contains.concat([d,s,o,p]),g(n,"shebang",e.SHEBANG()),g(n,"use_strict",l);const _=n.contains.find(S=>S.label==="func.def");return _.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}const Ma="[A-Za-z$_][0-9A-Za-z$_]*",Pl=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Bl=["true","false","null","undefined","NaN","Infinity"],js=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ys=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],$s=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ul=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],zl=[].concat($s,js,Ys);function Vs(e){const t=e.regex,n=(U,{after:A})=>{const O="</"+U[0].slice(1);return U.input.indexOf(O,A)!==-1},r=Ma,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(U,A)=>{const O=U[0].length+U.index,Y=U.input[O];if(Y==="<"||Y===","){A.ignoreMatch();return}Y===">"&&(n(U,{after:O})||A.ignoreMatch());let Q;const M=U.input.substring(O);if(Q=M.match(/^\s*=/)){A.ignoreMatch();return}if((Q=M.match(/^\s+extends\s+/))&&Q.index===0){A.ignoreMatch();return}}},l={$pattern:Ma,keyword:Pl,literal:Bl,built_in:zl,"variable.language":Ul},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},S={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},I={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,S,v,{match:/\$\d+/},g];f.contains=k.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(k)});const N=[].concat(I,f.contains),C=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(N)}]),P={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C},$={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...js,...Ys]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},L={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},J={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function fe(U){return t.concat("(?!",U.join("|"),")")}const D={match:t.concat(/\b/,fe([...$s,"super","import"].map(U=>`${U}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},G={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},ne="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",H={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(ne)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,S,v,I,{match:/\$\d+/},g,R,{scope:"attr",match:r+t.lookahead(":"),relevance:0},H,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:ne,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},L,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},G,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},D,J,$,j,{match:/\$[(.]/}]}}function Fl(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},g={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,_=`\\b|${r.join("|")}`,S={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${_})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${_})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${_})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${_})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${_})`},{begin:`\\b(${f})[jJ](?=${_})`}]},v={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,S,g,e.HASH_COMMENT_MODE]}]};return u.contains=[g,S,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,S,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},g,v,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[S,b,g]}]}}function ga(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,a]};a.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),_={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},S=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],b={match:/(\/[a-z._-]+)+/},I=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],k=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],N=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:S,literal:v,built_in:[...I,...k,"set","shopt",...N,...C]},contains:[p,e.SHEBANG(),_,g,s,o,b,l,c,u,d,n]}}function Hl(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],a={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Xs(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},l=e.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},_={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},S={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},v=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},_,S,s,o],b=[...v];return b.pop(),b.push(l),p.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}function ql(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],g=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,_=[...u,...c].filter(C=>!d.includes(C)),S={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function I(C){return t.concat(/\b/,t.either(...C.map(P=>P.replace(/\s+/,"\\s+"))),/\b/)}const k={scope:"keyword",match:I(f),relevance:0};function N(C,{exceptions:P,when:$}={}){const R=$;return P=P||[],C.map(F=>F.match(/\|\d+$/)||P.includes(F)?F:R(F)?`${F}|0`:F)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:N(_,{when:C=>C.length<3}),literal:s,type:l,built_in:g},contains:[{scope:"type",match:I(o)},k,b,S,r,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,v]}}function Js(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},g=e.inherit(u,{contains:[]}),f=e.inherit(d,{contains:[]});u.contains.push(f),d.contains.push(g);let p=[n,c];return[u,d,g,f].forEach(b=>{b.contains=b.contains.concat(p)}),p=p.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},a,r,c,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function Qs(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(s,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,l,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,c,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const Gl=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Kl=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Wl=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Zl=[...Kl,...Wl],jl=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Yl=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),$l=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Vl=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Xl(e){const t=e.regex,n=Gl(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Yl.join("|")+")"},{begin:":(:)?("+$l.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Vl.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:jl.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Zl.join("|")+")\\b"}]}}const Jl=new fi({breaks:!0,gfm:!0});Re.registerLanguage("typescript",Zs);Re.registerLanguage("javascript",Vs);Re.registerLanguage("python",Fl);Re.registerLanguage("bash",ga);Re.registerLanguage("shell",ga);Re.registerLanguage("sh",ga);Re.registerLanguage("json",Hl);Re.registerLanguage("yaml",Xs);Re.registerLanguage("yml",Xs);Re.registerLanguage("sql",ql);Re.registerLanguage("markdown",Js);Re.registerLanguage("md",Js);Re.registerLanguage("xml",Qs);Re.registerLanguage("html",Qs);Re.registerLanguage("css",Xl);Re.registerLanguage("ts",Zs);Re.registerLanguage("js",Vs);function Ql(e){const t=Jl.parse(e,{async:!1});return vi.sanitize(t,{ADD_ATTR:["class"]})}var ec=x('<div class="markdown-body svelte-xioz66"><!></div>');function ei(e,t){Oe(t,!0);let n=ee(()=>Ql(t.content)),r=W(null);st(()=>{i(n),i(r)&&requestAnimationFrame(()=>{const o=i(r).querySelectorAll("pre");for(const l of o){if(l.querySelector(".copy-btn"))continue;const c=document.createElement("button");c.className="copy-btn",c.textContent="Copy",c.setAttribute("aria-label","Copy code to clipboard"),c.addEventListener("click",()=>{var d;const u=((d=l.querySelector("code"))==null?void 0:d.textContent)??l.textContent??"";navigator.clipboard.writeText(u).then(()=>{c.textContent="Copied!",c.classList.add("copied"),setTimeout(()=>{c.textContent="Copy",c.classList.remove("copied")},2e3)})}),l.style.position="relative",l.appendChild(c)}})});var a=ec(),s=m(a);qo(s,()=>i(n)),Yn(a,o=>E(r,o),()=>i(r)),T(e,a),Ie()}var tc=x('<span class="chat-avatar-text">You</span>'),nc=x('<span class="chat-avatar-emoji"> </span>'),rc=x('<span class="chat-avatar-text"> </span>'),ac=x('<button><span class="chat-tool-icon">⚙</span> </button>'),sc=x('<button class="media-thumb svelte-dfflq6"><img class="svelte-dfflq6"/></button>'),ic=x('<div class="file-attachment svelte-dfflq6"><span class="file-att-icon svelte-dfflq6">📄</span> <span class="file-att-name svelte-dfflq6"> </span></div>'),oc=x('<div class="file-attachment svelte-dfflq6"><span class="file-att-icon svelte-dfflq6">📝</span> <span class="file-att-name svelte-dfflq6"> </span></div>'),lc=x("<div></div>"),cc=x('<div class="user-text svelte-dfflq6"> </div>'),uc=x('<div class="chat-content"><!></div>'),dc=x('<div class="lightbox svelte-dfflq6" role="dialog" tabindex="-1"><img alt="Expanded view" class="svelte-dfflq6"/> <button class="lightbox-close svelte-dfflq6" aria-label="Close">×</button></div>'),fc=x('<div><div><!></div> <div class="chat-body"><!> <!> <!> <div class="timestamp svelte-dfflq6"> </div></div></div> <!>',1);function vc(e,t){Oe(t,!0);let n=ee(()=>t.message.role==="user"),r=ee(()=>t.agentName?t.agentName.slice(0,2).toUpperCase():"AI"),a=ee(()=>t.message.media&&t.message.media.length>0);function s(D){const G=D.filter(ne=>ne.status==="running").length,j=D.filter(ne=>ne.status==="error").length;return G>0?`${D.length} tools running...`:j>0?`${D.length} tools (${j} failed)`:`${D.length} tool${D.length===1?"":"s"} used`}let o=W(null);function l(D){E(o,D,!0)}function c(){E(o,null)}var u=fc(),d=un(u);let g;var f=m(d);let p;var _=m(f);{var S=D=>{var G=tc();T(D,G)},v=D=>{var G=nc(),j=m(G);q(()=>B(j,t.agentEmoji)),T(D,G)},b=D=>{var G=rc(),j=m(G);q(()=>B(j,i(r))),T(D,G)};K(_,D=>{i(n)?D(S):t.agentEmoji?D(v,1):D(b,!1)})}var I=w(f,2),k=m(I);{var N=D=>{var G=ac();let j;var ne=w(m(G));q((H,U)=>{j=me(G,1,"chat-tool-pill",null,j,H),B(ne,` ${U??""}`)},[()=>({"has-error":t.message.toolCalls.some(H=>H.status==="error")}),()=>s(t.message.toolCalls)]),oe("click",G,()=>{var H;return(H=t.onToolClick)==null?void 0:H.call(t,t.message.toolCalls)}),T(D,G)};K(k,D=>{t.message.toolCalls&&t.message.toolCalls.length>0&&D(N)})}var C=w(k,2);{var P=D=>{var G=lc();let j;Ke(G,21,()=>t.message.media,it,(ne,H)=>{var U=Rs(),A=un(U);{var O=ue=>{var de=sc(),pe=m(de);q(()=>{Ht(pe,"src",`data:${i(H).contentType??""};base64,${i(H).data??""}`),Ht(pe,"alt",i(H).filename??"image")}),oe("click",de,()=>l(`data:${i(H).contentType};base64,${i(H).data}`)),T(ue,de)},Y=ee(()=>i(H).contentType.startsWith("image/")),Q=ue=>{var de=ic(),pe=w(m(de),2),We=m(pe);q(()=>B(We,i(H).filename??"document.pdf")),T(ue,de)},M=ue=>{var de=oc(),pe=w(m(de),2),We=m(pe);q(()=>B(We,i(H).filename??"file")),T(ue,de)};K(A,ue=>{i(Y)?ue(O):i(H).contentType==="application/pdf"?ue(Q,1):ue(M,!1)})}T(ne,U)}),q(()=>j=me(G,1,"msg-media svelte-dfflq6",null,j,{single:t.message.media.length===1,grid:t.message.media.length>1})),T(D,G)};K(C,D=>{i(a)&&D(P)})}var $=w(C,2);{var R=D=>{var G=uc(),j=m(G);{var ne=U=>{var A=cc(),O=m(A);q(()=>B(O,t.message.content)),T(U,A)},H=U=>{ei(U,{get content(){return t.message.content}})};K(j,U=>{i(n)?U(ne):U(H,!1)})}T(D,G)};K($,D=>{t.message.content&&D(R)})}var F=w($,2),L=m(F),J=w(d,2);{var fe=D=>{var G=dc(),j=m(G),ne=w(j,2);q(()=>Ht(j,"src",i(o))),oe("click",G,c),oe("keydown",G,H=>H.key==="Escape"&&c()),oe("click",ne,c),T(D,G)};K(J,D=>{i(o)&&D(fe)})}q(D=>{g=me(d,1,"chat-msg",null,g,{user:i(n),assistant:!i(n)}),p=me(f,1,"chat-avatar",null,p,{user:i(n),agent:!i(n)}),B(L,D)},[()=>Sl(t.message.timestamp)]),T(e,u),Ie()}yt(["click","keydown"]);Xi();var gc=x('<span class="dots svelte-76byqe"><span class="dot svelte-76byqe"></span> <span class="dot svelte-76byqe"></span> <span class="dot svelte-76byqe"></span></span>');function mc(e){var t=gc();T(e,t)}var _c=x('<div class="empty-emoji svelte-12m7xaa"> </div>'),pc=x('<div class="empty-initials svelte-12m7xaa"> </div>'),hc=x('<div class="empty-state svelte-12m7xaa"><!> <p>Send a message to start a conversation.</p></div>'),bc=x('<span class="chat-avatar-emoji"> </span>'),yc=x('<span class="chat-avatar-text"> </span>'),Ec=x('<span class="activity-duration svelte-12m7xaa"> </span>'),wc=x('<span class="activity-spinner svelte-12m7xaa"></span>'),Sc=x('<div><span> </span> <span class="activity-label svelte-12m7xaa"> </span> <!> <!></div>'),Tc=x('<div class="activity-feed svelte-12m7xaa"></div>'),xc=x('<div class="chat-content"><!></div>'),Ac=x('<div class="chat-msg assistant streaming"><div class="chat-avatar agent"><!></div> <div class="chat-body"><!> <!></div></div>'),kc=x("<!> <!>",1),Nc=x('<button class="scroll-btn svelte-12m7xaa">New messages below</button>'),Cc=x('<div class="message-list svelte-12m7xaa"><!> <!></div>');function Rc(e,t){Oe(t,!0);let n=ee(()=>t.agentName?t.agentName.slice(0,2).toUpperCase():"AI"),r=W(null),a=W(!0);function s(){if(!i(r))return;E(a,i(r).scrollHeight-i(r).scrollTop-i(r).clientHeight<100)}function o(){i(r)&&(i(r).scrollTop=i(r).scrollHeight)}st(()=>{t.messages.length,t.streamingText,t.activeToolCalls.length,i(a)&&requestAnimationFrame(o)});function l(v){const b=v.name;switch(b){case"exec":return"Running command";case"read":return"Reading file";case"write":return"Writing file";case"edit":return"Editing file";case"grep":return"Searching files";case"find":return"Finding files";case"ls":return"Listing directory";case"web_search":return"Searching web";case"web_fetch":return"Fetching page";case"mem0_search":return"Searching memory";case"blackboard":return"Checking blackboard";case"sessions_send":return"Messaging agent";case"sessions_ask":return"Asking agent";case"sessions_spawn":return"Spawning worker";case"message":return"Sending message";case"enable_tool":return"Enabling tool";default:return b.replace(/_/g," ")}}function c(v){switch(v){case"running":return"◌";case"complete":return"✓";case"error":return"✕";default:return"·"}}function u(v){return v==null?"":v<1e3?`${v}ms`:`${(v/1e3).toFixed(1)}s`}var d=Cc(),g=m(d);{var f=v=>{var b=hc(),I=m(b);{var k=C=>{var P=_c(),$=m(P);q(()=>B($,t.agentEmoji)),T(C,P)},N=C=>{var P=pc(),$=m(P);q(()=>B($,i(n))),T(C,P)};K(I,C=>{t.agentEmoji?C(k):C(N,!1)})}T(v,b)},p=v=>{var b=kc(),I=un(b);Ke(I,17,()=>t.messages,C=>C.id,(C,P)=>{vc(C,{get message(){return i(P)},get agentName(){return t.agentName},get agentEmoji(){return t.agentEmoji},get onToolClick(){return t.onToolClick}})});var k=w(I,2);{var N=C=>{var P=Ac(),$=m(P),R=m($);{var F=H=>{var U=bc(),A=m(U);q(()=>B(A,t.agentEmoji)),T(H,U)},L=H=>{var U=yc(),A=m(U);q(()=>B(A,i(n))),T(H,U)};K(R,H=>{t.agentEmoji?H(F):H(L,!1)})}var J=w($,2),fe=m(J);{var D=H=>{var U=Tc();Ke(U,21,()=>t.activeToolCalls,A=>A.id,(A,O)=>{var Y=Sc();let Q;var M=m(Y);let ue;var de=m(M),pe=w(M,2),We=m(pe),Et=w(pe,2);{var Dt=Z=>{var ie=Ec(),Te=m(ie);q(xe=>B(Te,xe),[()=>u(i(O).durationMs)]),T(Z,ie)};K(Et,Z=>{i(O).durationMs!=null&&Z(Dt)})}var jt=w(Et,2);{var le=Z=>{var ie=wc();T(Z,ie)};K(jt,Z=>{i(O).status==="running"&&Z(le)})}q((Z,ie)=>{Q=me(Y,1,"activity-item svelte-12m7xaa",null,Q,{running:i(O).status==="running",error:i(O).status==="error"}),ue=me(M,1,"activity-status svelte-12m7xaa",null,ue,{running:i(O).status==="running",complete:i(O).status==="complete",error:i(O).status==="error"}),B(de,Z),B(We,ie)},[()=>c(i(O).status),()=>l(i(O))]),T(A,Y)}),T(H,U)};K(fe,H=>{t.activeToolCalls.length>0&&H(D)})}var G=w(fe,2);{var j=H=>{var U=xc(),A=m(U);ei(A,{get content(){return t.streamingText}}),T(H,U)},ne=H=>{mc(H)};K(G,H=>{t.streamingText?H(j):t.activeToolCalls.length===0&&H(ne,1)})}T(C,P)};K(k,C=>{t.isStreaming&&C(N)})}T(v,b)};K(g,v=>{t.messages.length===0&&!t.isStreaming?v(f):v(p,!1)})}var _=w(g,2);{var S=v=>{var b=Nc();oe("click",b,o),T(v,b)};K(_,v=>{!i(a)&&t.isStreaming&&v(S)})}Yn(d,v=>E(r,v),()=>i(r)),Jt("scroll",d,s),T(e,d),Ie()}yt(["click"]);var Oc=x('<div class="context-bar svelte-dgb2n2"><div class="context-fill svelte-dgb2n2"></div></div>'),Ic=x('<button><span class="slash-cmd svelte-dgb2n2"> </span> <span class="slash-desc svelte-dgb2n2"> </span></button>'),Mc=x('<div class="slash-menu svelte-dgb2n2"></div>'),Lc=x('<div class="queued-indicator svelte-dgb2n2"><span class="queued-text svelte-dgb2n2"> </span> <button class="queued-cancel svelte-dgb2n2" aria-label="Cancel queued message">×</button></div>'),Dc=x('<img class="svelte-dgb2n2"/>'),Pc=x('<span class="file-emoji svelte-dgb2n2">📄</span>'),Bc=x('<span class="file-emoji svelte-dgb2n2">📝</span>'),Uc=x('<span class="file-emoji svelte-dgb2n2">📎</span>'),zc=x('<div class="file-icon svelte-dgb2n2"><!></div>'),Fc=x('<span class="attachment-name svelte-dgb2n2"> </span>'),Hc=x('<div class="attachment-thumb svelte-dgb2n2"><!> <button class="remove-btn svelte-dgb2n2" aria-label="Remove attachment">×</button> <!></div>'),qc=x('<div class="attachment-preview svelte-dgb2n2"></div>'),Gc=x('<button class="stop-btn svelte-dgb2n2" aria-label="Stop generating" title="Stop generating (Esc)"><span class="stop-icon svelte-dgb2n2">■</span></button>'),Kc=x('<div class="drag-overlay svelte-dgb2n2"><div class="drag-label svelte-dgb2n2">Drop file to attach</div></div>'),Wc=x('<div><!> <div class="input-area svelte-dgb2n2"><!> <!> <!> <div><!> <button class="attach-btn svelte-dgb2n2" title="Attach file (images, PDFs, text, code)" aria-label="Attach file"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"></path></svg></button> <textarea rows="1" class="svelte-dgb2n2"></textarea> <button> </button></div> <input type="file" accept="image/*,application/pdf,.json,.xml,.csv,.md,.txt,.html,.yaml,.yml,.toml,.log,.py,.js,.ts,.sh,.sql,.css,.rs,.go,.java,.c,.cpp,.h,.rb,.swift" multiple="" class="hidden-file-input svelte-dgb2n2"/></div> <!></div>');function Zc(e,t){Oe(t,!0);let n=dn(t,"contextPercent",3,0),r=dn(t,"slashCommands",19,()=>[]),a=W(""),s=W(null),o=W(null),l=W(!1),c=W(0),u=W(qe([])),d=W(null),g=W(!1);const f=25*1024*1024,p=["image/jpeg","image/png","image/gif","image/webp"],_=["application/pdf"],S=["text/plain","text/csv","text/markdown","text/html","text/xml","application/json","application/xml"],v=[...p,..._,...S];function b(y){return S.includes(y)||y.startsWith("text/")}function I(y){return p.includes(y)}let k=ee(()=>i(a).startsWith("/")?r().filter(y=>y.command.startsWith(i(a).trim())):[]);st(()=>{E(l,i(k).length>0&&i(a).startsWith("/"),!0),i(l)&&E(c,0)}),st(()=>{if(!t.isStreaming&&i(s)){const y=i(s);E(s,null),t.onSend(y)}});function N(y){var ae;if(y.type&&(v.includes(y.type)||y.type.startsWith("text/")))return y.type;const z=(ae=y.name.split(".").pop())==null?void 0:ae.toLowerCase(),re={pdf:"application/pdf",json:"application/json",xml:"application/xml",csv:"text/csv",md:"text/markdown",txt:"text/plain",html:"text/html",htm:"text/html",yaml:"text/yaml",yml:"text/yaml",toml:"text/plain",log:"text/plain",py:"text/plain",js:"text/plain",ts:"text/plain",sh:"text/plain",sql:"text/plain",css:"text/plain",rs:"text/plain",go:"text/plain",java:"text/plain",c:"text/plain",cpp:"text/plain",h:"text/plain",rb:"text/plain",swift:"text/plain"};return z&&re[z]?re[z]:null}function C(y){return new Promise(z=>{const re=N(y);if(!re){z(null);return}if(y.size>f){z(null);return}const ae=new FileReader;ae.onload=()=>{const Ee=ae.result,ge=Ee.match(/^data:[^;]+;base64,(.+)$/),we=ge?ge[1]:Ee;z({contentType:re,data:we,filename:y.name})},ae.onerror=()=>z(null),ae.readAsDataURL(y)})}async function P(y){const z=Array.from(y);for(const re of z){if(i(u).length>=4)break;const ae=await C(re);ae&&E(u,[...i(u),ae],!0)}}function $(y){E(u,i(u).filter((z,re)=>re!==y),!0)}function R(){var y;(y=i(d))==null||y.click()}function F(y){const z=y.target;z.files&&(P(z.files),z.value="")}function L(y){y.preventDefault(),E(g,!0)}function J(y){y.preventDefault(),E(g,!1)}function fe(y){var z;y.preventDefault(),E(g,!1),(z=y.dataTransfer)!=null&&z.files&&P(y.dataTransfer.files)}function D(y){var ae;const z=(ae=y.clipboardData)==null?void 0:ae.items;if(!z)return;const re=[];for(const Ee of z)if(Ee.kind==="file"){const ge=Ee.getAsFile();ge&&N(ge)&&re.push(ge)}re.length>0&&(y.preventDefault(),P(re))}function G(y){if(i(l)){if(y.key==="ArrowDown"){y.preventDefault(),E(c,(i(c)+1)%i(k).length);return}if(y.key==="ArrowUp"){y.preventDefault(),E(c,(i(c)-1+i(k).length)%i(k).length);return}if(y.key==="Tab"||y.key==="Enter"&&!y.shiftKey){y.preventDefault();const z=i(k)[i(c)];z&&(E(a,z.command,!0),E(l,!1),y.key==="Enter"&&j());return}if(y.key==="Escape"){y.preventDefault(),E(l,!1);return}}y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),j())}function j(){const y=i(a).trim();if(!(y||i(u).length>0))return;if(t.isStreaming){y&&(E(s,y,!0),E(a,""),i(o)&&(i(o).style.height="40px"));return}const re=i(u).length>0?[...i(u)]:void 0,Ee=(re==null?void 0:re.some(we=>I(we.contentType)))?"What's in this image?":"Please review this file.",ge=y||(re?Ee:"");t.onSend(ge,re),E(a,""),E(u,[],!0),E(l,!1),i(o)&&(i(o).style.height="40px")}function ne(){i(o)&&(i(o).style.height="40px",i(o).style.height=Math.min(i(o).scrollHeight,200)+"px")}function H(y){const z=i(k)[y];z&&(E(a,z.command,!0),E(l,!1),j())}st(()=>{!t.isStreaming&&i(o)&&i(o).focus()});let U=ee(()=>n()>80?"var(--red)":n()>60?"var(--yellow)":"var(--accent)"),A=ee(()=>i(a).trim().length>0||i(u).length>0);var O=Wc();let Y;var Q=m(O);{var M=y=>{var z=Oc(),re=m(z);q(()=>{Ht(z,"title",`Context window: ${n()??""}% used`),hr(re,`width: ${n()??""}%; background: ${i(U)??""};`)}),T(y,z)};K(Q,y=>{n()>0&&y(M)})}var ue=w(Q,2),de=m(ue);{var pe=y=>{var z=Mc();Ke(z,21,()=>i(k),it,(re,ae,Ee)=>{var ge=Ic();let we;var Xe=m(ge),Bt=m(Xe),Ln=w(Xe,2),sr=m(Ln);q(()=>{we=me(ge,1,"slash-item svelte-dgb2n2",null,we,{selected:Ee===i(c)}),B(Bt,i(ae).command),B(sr,i(ae).description)}),oe("click",ge,()=>H(Ee)),T(re,ge)}),T(y,z)};K(de,y=>{i(l)&&y(pe)})}var We=w(de,2);{var Et=y=>{var z=Lc(),re=m(z),ae=m(re),Ee=w(re,2);q(ge=>B(ae,`Queued: ${ge??""}`),[()=>i(s).length>60?i(s).slice(0,60)+"…":i(s)]),oe("click",Ee,()=>{E(s,null)}),T(y,z)};K(We,y=>{i(s)&&y(Et)})}var Dt=w(We,2);{var jt=y=>{var z=qc();Ke(z,21,()=>i(u),it,(re,ae,Ee)=>{var ge=Hc(),we=m(ge);{var Xe=ut=>{var St=Dc();q(()=>{Ht(St,"src",`data:${i(ae).contentType??""};base64,${i(ae).data??""}`),Ht(St,"alt",i(ae).filename??"attachment")}),T(ut,St)},Bt=ee(()=>I(i(ae).contentType)),Ln=ut=>{var St=zc(),Cr=m(St);{var ii=Tt=>{var Dn=Pc();T(Tt,Dn)},oi=Tt=>{var Dn=Bc();T(Tt,Dn)},li=ee(()=>b(i(ae).contentType)),ci=Tt=>{var Dn=Uc();T(Tt,Dn)};K(Cr,Tt=>{i(ae).contentType==="application/pdf"?Tt(ii):i(li)?Tt(oi,1):Tt(ci,!1)})}T(ut,St)};K(we,ut=>{i(Bt)?ut(Xe):ut(Ln,!1)})}var sr=w(we,2),ai=w(sr,2);{var si=ut=>{var St=Fc(),Cr=m(St);q(()=>B(Cr,i(ae).filename)),T(ut,St)};K(ai,ut=>{i(ae).filename&&ut(si)})}oe("click",sr,()=>$(Ee)),T(re,ge)}),T(y,z)};K(Dt,y=>{i(u).length>0&&y(jt)})}var le=w(Dt,2);let Z;var ie=m(le);{var Te=y=>{var z=Gc();oe("click",z,function(...re){var ae;(ae=t.onAbort)==null||ae.apply(this,re)}),T(y,z)};K(ie,y=>{t.isStreaming&&y(Te)})}var xe=w(ie,2),he=w(xe,2);Yn(he,y=>E(o,y),()=>i(o));var be=w(he,2);let ye;var Ve=m(be),ct=w(le,2);Yn(ct,y=>E(d,y),()=>i(d));var Pt=w(ue,2);{var wt=y=>{var z=Kc();T(y,z)};K(Pt,y=>{i(g)&&y(wt)})}q((y,z)=>{Y=me(O,1,"input-bar svelte-dgb2n2",null,Y,{"drag-over":i(g)}),Z=me(le,1,"input-wrapper svelte-dgb2n2",null,Z,{streaming:t.isStreaming}),Ht(he,"placeholder",t.isStreaming?"Type to queue a message...":"Type a message... (/ for commands)"),ye=me(be,1,"send-btn svelte-dgb2n2",null,ye,y),be.disabled=!i(A),B(Ve,z)},[()=>({queuing:t.isStreaming&&i(a).trim().length>0}),()=>t.isStreaming&&i(a).trim().length>0?"Queue":"Send"]),Jt("dragover",O,L),Jt("dragleave",O,J),Jt("drop",O,fe),oe("click",xe,R),oe("keydown",he,G),oe("input",he,ne),Jt("paste",he,D),da(he,()=>i(a),y=>E(a,y)),oe("click",be,j),oe("change",ct,F),T(e,O),Ie()}yt(["click","keydown","input","change"]);var jc=x('<span class="spinner svelte-1ctlpsp"></span>');function Yc(e,t){let n=dn(t,"size",3,16);var r=jc();q(()=>hr(r,`width: ${n()??""}px; height: ${n()??""}px;`)),T(e,r)}var $c=x('<span class="icon-error svelte-14mu1sd">✕</span>'),Vc=x('<span class="icon-ok svelte-14mu1sd">✓</span>'),Xc=x('<span class="tool-duration svelte-14mu1sd"> </span>'),Jc=x('<div class="tool-output svelte-14mu1sd"><pre class="svelte-14mu1sd"> </pre></div>'),Qc=x('<div><button class="tool-header svelte-14mu1sd"><span class="tool-icon svelte-14mu1sd"><!></span> <span class="tool-name svelte-14mu1sd"> </span> <!> <span class="expand-icon svelte-14mu1sd"> </span></button> <!></div>');function eu(e,t){Oe(t,!0);let n=W(!1);st(()=>{t.tool.status==="error"&&E(n,!0)});var r=Qc();let a;var s=m(r),o=m(s),l=m(o);{var c=k=>{Yc(k,{size:14})},u=k=>{var N=$c();T(k,N)},d=k=>{var N=Vc();T(k,N)};K(l,k=>{t.tool.status==="running"?k(c):t.tool.status==="error"?k(u,1):k(d,!1)})}var g=w(o,2),f=m(g),p=w(g,2);{var _=k=>{var N=Xc(),C=m(N);q(P=>B(C,P),[()=>wl(t.tool.durationMs)]),T(k,N)};K(p,k=>{t.tool.durationMs!=null&&k(_)})}var S=w(p,2),v=m(S),b=w(s,2);{var I=k=>{var N=Jc(),C=m(N),P=m(C);q(()=>B(P,t.tool.result)),T(k,N)};K(b,k=>{i(n)&&t.tool.result&&k(I)})}q(()=>{a=me(r,1,"tool-call svelte-14mu1sd",null,a,{running:t.tool.status==="running",error:t.tool.status==="error"}),B(f,t.tool.name),B(v,i(n)?"−":"+")}),oe("click",s,()=>E(n,!i(n))),T(e,r),Ie()}yt(["click"]);var tu=x('<div class="tool-panel svelte-8tq4pr"><div class="panel-header svelte-8tq4pr"><span class="panel-title svelte-8tq4pr"> </span> <button class="close-btn svelte-8tq4pr" aria-label="Close panel">×</button></div> <div class="panel-body svelte-8tq4pr"></div></div>');function nu(e,t){Oe(t,!0);var n=tu(),r=m(n),a=m(r),s=m(a),o=w(a,2),l=w(r,2);Ke(l,21,()=>t.tools,it,(c,u)=>{eu(c,{get tool(){return i(u)}})}),q(()=>B(s,`Tool Calls (${t.tools.length??""})`)),oe("click",o,function(...c){var u;(u=t.onClose)==null||u.apply(this,c)}),T(e,n),Ie()}yt(["click"]);var ru=x('<button class="dismiss svelte-1mejfyq" aria-label="Dismiss error">×</button>'),au=x('<div class="error-banner svelte-1mejfyq" role="alert"><span class="error-text svelte-1mejfyq"> </span> <!></div>');function su(e,t){var n=au(),r=m(n),a=m(r),s=w(r,2);{var o=l=>{var c=ru();oe("click",c,function(...u){var d;(d=t.onDismiss)==null||d.apply(this,u)}),T(l,c)};K(s,l=>{t.onDismiss&&l(o)})}q(()=>B(a,t.message)),T(e,n)}yt(["click"]);async function*iu(e,t,n,r,a){const s=window.location.origin,o=Mn(),l=await fetch(`${s}/api/sessions/stream`,{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},body:JSON.stringify({agentId:e,message:t,sessionKey:n,...a!=null&&a.length?{media:a}:{}}),signal:r});if(!l.ok){const g=await l.text();yield{type:"error",message:`HTTP ${l.status}: ${g}`};return}if(!l.body){yield{type:"error",message:"No response body"};return}const c=l.body.getReader(),u=new TextDecoder;let d="";try{for(;;){const{done:g,value:f}=await c.read();if(g)break;d+=u.decode(f,{stream:!0});const p=d.split(`
`);d=p.pop()??"";let _=null,S=null;for(const v of p)if(v.startsWith("event: "))_=v.slice(7).trim();else if(v.startsWith("data: "))S=v.slice(6);else if(v===""&&_&&S){try{yield JSON.parse(S)}catch{}_=null,S=null}else v.startsWith(":")}}finally{c.releaseLock()}}let nt=W(qe([])),pr=W(!1),vt=W(""),ze=W(qe([])),on=W(null),pn=null;function ou(){return i(nt)}function La(){return i(pr)}function lu(){return i(vt)}function cu(){return i(ze)}function Da(){return i(on)}function uu(){E(on,null)}async function du(e){try{const t=await sl(e);E(nt,mu(t),!0)}catch(t){E(on,t instanceof Error?t.message:String(t),!0)}}function Dr(){E(nt,[],!0),E(vt,""),E(ze,[],!0),E(on,null)}function fu(e){const t={id:`system-${Date.now()}`,role:"assistant",content:e,timestamp:new Date().toISOString()};E(nt,[...i(nt),t],!0)}async function vu(e,t,n,r){if(i(pr))return;E(on,null);const a={id:`user-${Date.now()}`,role:"user",content:t,timestamp:new Date().toISOString(),...r!=null&&r.length?{media:r}:{}};E(nt,[...i(nt),a],!0),E(pr,!0),E(vt,""),E(ze,[],!0),pn=new AbortController;try{for await(const s of iu(e,t,n,pn.signal,r))switch(s.type){case"text_delta":E(vt,i(vt)+s.text);break;case"tool_start":E(ze,[...i(ze),{id:s.toolId,name:s.toolName,status:"running"}],!0);break;case"tool_result":E(ze,i(ze).map(o=>o.id===s.toolId?{...o,status:s.isError?"error":"complete",result:s.result,durationMs:s.durationMs}:o),!0);break;case"turn_complete":{const o={id:`assistant-${Date.now()}`,role:"assistant",content:i(vt)||s.outcome.text,timestamp:new Date().toISOString(),toolCalls:i(ze).length>0?[...i(ze)]:void 0};E(nt,[...i(nt),o],!0),E(vt,""),E(ze,[],!0);break}case"error":E(on,s.message,!0);break}}catch(s){s.name!=="AbortError"&&E(on,s instanceof Error?s.message:String(s),!0)}finally{if(i(vt)){const s={id:`assistant-${Date.now()}`,role:"assistant",content:i(vt),timestamp:new Date().toISOString(),toolCalls:i(ze).length>0?[...i(ze)]:void 0};E(nt,[...i(nt),s],!0)}E(pr,!1),E(vt,""),E(ze,[],!0),pn=null}}function gu(){pn==null||pn.abort()}function mu(e){var r;const t=[];let n=[];for(const a of e)if(a.role==="user")t.push({id:a.id,role:"user",content:a.content,timestamp:a.createdAt});else if(a.role==="assistant"){try{const s=JSON.parse(a.content);if(Array.isArray(s)&&s.length>0&&((r=s[0])!=null&&r.type)){const o=s.filter(c=>c.type==="text"),l=s.filter(c=>c.type==="tool_use");if(l.length>0&&(n=l.map(c=>({id:c.id,name:c.name,status:"complete"}))),o.length>0&&l.length>0){const c=o.map(u=>u.text).join(`
`).trim();c&&t.push({id:a.id,role:"assistant",content:c,timestamp:a.createdAt})}if(l.length>0)continue;if(o.length>0){const c=o.map(u=>u.text).join(`
`).trim();t.push({id:a.id,role:"assistant",content:c,timestamp:a.createdAt,toolCalls:n.length>0?[...n]:void 0}),n=[];continue}}}catch{}t.push({id:a.id,role:"assistant",content:a.content,timestamp:a.createdAt,toolCalls:n.length>0?[...n]:void 0}),n=[]}else if(a.role==="tool_result"){const s=n.find(o=>o.id===a.toolCallId);s&&(s.result=a.content.slice(0,2e3))}return t}var _u=x('<div class="chat-view svelte-1ktw27c"><!> <div class="chat-area svelte-1ktw27c"><!> <!></div> <!></div>');function pu(e,t){Oe(t,!0);let n=null,r=!1;st(()=>{const R=Cl();R&&R!==n?(n=R,r?r=!1:du(R)):!R&&n&&(n=null,Dr())});const a={"/new":{description:"Start a fresh conversation",handler:()=>{Kn()&&Ol(),Dr()}},"/clear":{description:"Clear message display (keeps server history)",handler:()=>Dr()},"/switch":{description:"Switch agent — /switch <name>",handler:R=>{if(!R)return;const F=R.toLowerCase().trim(),L=Ds().find(J=>J.name.toLowerCase()===F||J.id.toLowerCase()===F);L&&(Bs(L.id),br(L.id))}},"/help":{description:"Show available commands",handler:()=>{const R=Object.entries(a).map(([F,{description:L}])=>`\`${F}\` — ${L}`).join(`
`);fu(`**Available commands:**
${R}`)}}};function s(R,F){const L=R.trim();if(L.startsWith("/")){const D=L.indexOf(" "),G=D>0?L.slice(0,D):L,j=D>0?L.slice(D+1):void 0,ne=a[G];if(ne){ne.handler(j);return}return}const J=Kn();if(!J)return;const fe=Rl();vu(J,R,fe,F).then(()=>{r=!0,Il(J)})}let o=ee(Ps),l=ee(Kn),c=ee(()=>i(l)?ml(i(l)):null),u=ee(Us),d=ee(()=>()=>{var L;const R=((L=i(u))==null?void 0:L.tokenCountEstimate)??0;return Math.min(100,Math.round(R/2e5*100))}),g=W(null);function f(R){E(g,R,!0)}function p(){E(g,null)}function _(){return Object.entries(a).map(([R,{description:F}])=>({command:R,description:F}))}var S=_u(),v=m(S);{var b=R=>{{let F=ee(Da);su(R,{get message(){return i(F)},get onDismiss(){return uu}})}},I=ee(()=>Da());K(v,R=>{i(I)&&R(b)})}var k=w(v,2),N=m(k);{let R=ee(ou),F=ee(lu),L=ee(cu),J=ee(La),fe=ee(()=>{var D;return(D=i(o))==null?void 0:D.name});Rc(N,{get messages(){return i(R)},get streamingText(){return i(F)},get activeToolCalls(){return i(L)},get isStreaming(){return i(J)},get agentName(){return i(fe)},get agentEmoji(){return i(c)},onToolClick:f})}var C=w(N,2);{var P=R=>{nu(R,{get tools(){return i(g)},onClose:p})};K(C,R=>{i(g)&&R(P)})}var $=w(k,2);{let R=ee(La),F=ee(()=>i(d)()),L=ee(_);Zc($,{get isStreaming(){return i(R)},onSend:s,get onAbort(){return gu},get contextPercent(){return i(F)},get slashCommands(){return i(L)}})}T(e,S),Ie()}var hu=x("<span> </span>");function bu(e,t){let n=dn(t,"variant",3,"default");var r=hu(),a=m(r);q(()=>{me(r,1,`badge ${n()??""}`,"svelte-mhmmzz"),B(a,t.text)}),T(e,r)}var yu=x('<div class="error svelte-y174pi"> </div>'),Eu=x('<div class="loading svelte-y174pi">Loading metrics...</div>'),wu=x('<div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Total Cost</div> <div class="card-value svelte-y174pi"> </div></div>'),Su=x('<th class="svelte-y174pi">Cost</th>'),Tu=x('<td class="svelte-y174pi"> </td>'),xu=x('<tr><td class="agent-name svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="svelte-y174pi"> </td><!></tr>'),Au=x('<tr><td class="mono svelte-y174pi"> </td><td class="mono svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td></tr>'),ku=x('<div class="section svelte-y174pi"><h3 class="svelte-y174pi">Cron Jobs</h3> <table class="svelte-y174pi"><thead><tr><th class="svelte-y174pi">Job</th><th class="svelte-y174pi">Schedule</th><th class="svelte-y174pi">Next Run</th><th class="svelte-y174pi">Last Run</th></tr></thead><tbody></tbody></table></div>'),Nu=x('<div class="grid svelte-y174pi"><div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Uptime</div> <div class="card-value svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Tokens</div> <div class="card-value svelte-y174pi"> </div> <div class="card-sub svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Cache Hit Rate</div> <div class="card-value svelte-y174pi"> </div> <div class="card-sub svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Turns</div> <div class="card-value svelte-y174pi"> </div></div> <!> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Services</div> <div class="card-value svelte-y174pi"><!></div> <div class="card-sub badges svelte-y174pi"></div></div></div> <div class="section svelte-y174pi"><h3 class="svelte-y174pi">Agents</h3> <table class="svelte-y174pi"><thead><tr><th class="svelte-y174pi">Agent</th><th class="svelte-y174pi">Sessions</th><th class="svelte-y174pi">Messages</th><th class="svelte-y174pi">Last Activity</th><th class="svelte-y174pi">Tokens In</th><th class="svelte-y174pi">Turns</th><!></tr></thead><tbody></tbody></table></div> <!>',1),Cu=x('<div class="metrics-view svelte-y174pi"><!></div>');function Ru(e,t){Oe(t,!0);let n=W(null),r=W(null),a=W(null);async function s(){try{const[g,f]=await Promise.all([il(),ol()]);E(n,g,!0),E(r,f,!0)}catch(g){E(a,g instanceof Error?g.message:String(g),!0)}}st(()=>{s();const g=setInterval(s,15e3);return()=>clearInterval(g)});var o=Cu(),l=m(o);{var c=g=>{var f=yu(),p=m(f);q(()=>B(p,i(a))),T(g,f)},u=g=>{var f=Eu();T(g,f)},d=g=>{var f=Nu(),p=un(f),_=m(p),S=w(m(_),2),v=m(S),b=w(_,2),I=w(m(b),2),k=m(I),N=w(I,2),C=m(N),P=w(b,2),$=w(m(P),2),R=m($),F=w($,2),L=m(F),J=w(P,2),fe=w(m(J),2),D=m(fe),G=w(J,2);{var j=le=>{var Z=wu(),ie=w(m(Z),2),Te=m(ie);q(xe=>B(Te,xe),[()=>Oa(i(r).totalCost)]),T(le,Z)};K(G,le=>{i(r)&&le(j)})}var ne=w(G,2),H=w(m(ne),2),U=m(H);{var A=le=>{var Z=Ta();q(ie=>B(Z,`${ie??""}/${i(n).services.length??""}`),[()=>i(n).services.filter(ie=>ie.healthy).length]),T(le,Z)},O=le=>{var Z=Ta("-");T(le,Z)};K(U,le=>{i(n).services.length>0?le(A):le(O,!1)})}var Y=w(H,2);Ke(Y,21,()=>i(n).services,it,(le,Z)=>{{let ie=ee(()=>i(Z).healthy?"success":"error");bu(le,{get text(){return i(Z).name},get variant(){return i(ie)}})}});var Q=w(p,2),M=w(m(Q),2),ue=m(M),de=m(ue),pe=w(m(de),6);{var We=le=>{var Z=Su();T(le,Z)};K(pe,le=>{i(r)&&le(We)})}var Et=w(ue);Ke(Et,21,()=>i(n).nous,it,(le,Z)=>{const ie=ee(()=>{var we;return(we=i(r))==null?void 0:we.agents.find(Xe=>Xe.agentId===i(Z).id)});var Te=xu(),xe=m(Te),he=m(xe),be=w(xe),ye=m(be),Ve=w(be),ct=m(Ve),Pt=w(Ve),wt=m(Pt),y=w(Pt),z=m(y),re=w(y),ae=m(re),Ee=w(re);{var ge=we=>{var Xe=Tu(),Bt=m(Xe);q(Ln=>B(Bt,Ln),[()=>i(ie)?Oa(i(ie).totalCost||i(ie).cost):"-"]),T(we,Xe)};K(Ee,we=>{i(r)&&we(ge)})}q((we,Xe)=>{var Bt;B(he,i(Z).name),B(ye,i(Z).activeSessions),B(ct,i(Z).totalMessages),B(wt,we),B(z,Xe),B(ae,((Bt=i(Z).tokens)==null?void 0:Bt.turns)??"-")},[()=>_r(i(Z).lastActivity),()=>i(Z).tokens?Bn(i(Z).tokens.input):"-"]),T(le,Te)});var Dt=w(Q,2);{var jt=le=>{var Z=ku(),ie=w(m(Z),2),Te=w(m(ie));Ke(Te,21,()=>i(n).cron,it,(xe,he)=>{var be=Au(),ye=m(be),Ve=m(ye),ct=w(ye),Pt=m(ct),wt=w(ct),y=m(wt),z=w(wt),re=m(z);q((ae,Ee)=>{B(Ve,i(he).id),B(Pt,i(he).cron),B(y,ae),B(re,Ee)},[()=>_r(i(he).nextRun),()=>_r(i(he).lastRun)]),T(xe,be)}),T(le,Z)};K(Dt,le=>{i(n).cron.length>0&&le(jt)})}q((le,Z,ie,Te,xe)=>{B(v,le),B(k,Z),B(C,`${ie??""} in / ${Te??""} out`),B(R,`${i(n).usage.cacheHitRate??""}%`),B(L,`${xe??""} cached`),B(D,i(n).usage.turnCount)},[()=>El(i(n).uptime),()=>Bn(i(n).usage.totalInputTokens+i(n).usage.totalOutputTokens),()=>Bn(i(n).usage.totalInputTokens),()=>Bn(i(n).usage.totalOutputTokens),()=>Bn(i(n).usage.totalCacheReadTokens)]),T(g,f)};K(l,g=>{i(a)?g(c):i(n)?g(d,!1):g(u,1)})}T(e,o),Ie()}const Ou="modulepreload",Iu=function(e){return"/ui/"+e},Pa={},Mu=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(n.map(u=>{if(u=Iu(u),u in Pa)return;Pa[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Ou,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((p,_)=>{f.addEventListener("load",p),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},ti={nodes:[],edges:[],communities:0};let Zt=W(qe(ti)),Qr=W(!1),ea=W(null),Er=W(null),ni=W(null),ri=W("");function Un(){return i(Zt)}function Lu(){return i(Qr)}function Ba(){return i(ea)}function zn(){return i(Er)}function ur(e){E(Er,e,!0)}function dr(){return i(ni)}function Pr(e){E(ni,e,!0)}function Du(){return i(ri)}function Pu(e){E(ri,e,!0)}function Bu(){return i(Er)?i(Zt).nodes.find(e=>e.id===i(Er))??null:null}function Uu(e){return i(Zt).edges.filter(t=>t.source===e||t.target===e)}function zu(e){const t=new Set;for(const n of i(Zt).edges)n.source===e&&t.add(n.target),n.target===e&&t.add(n.source);return i(Zt).nodes.filter(n=>t.has(n.id))}function Fu(){const e=new Set;for(const t of i(Zt).nodes)t.community>=0&&e.add(t.community);return[...e].sort((t,n)=>t-n)}async function Hu(e){E(Qr,!0),E(ea,null);try{E(Zt,await ll(e),!0)}catch(t){E(ea,t instanceof Error?t.message:String(t),!0),E(Zt,ti,!0)}finally{E(Qr,!1)}}var qu=x("<button> </button>"),Gu=x('<div class="graph-loading svelte-1186pna">Loading graph...</div>'),Ku=x('<div class="graph-error svelte-1186pna"> </div>'),Wu=x('<span class="label-tag svelte-1186pna"> </span>'),Zu=x('<div class="info-labels svelte-1186pna"></div>'),ju=x('<div class="connection-row svelte-1186pna"><span class="rel-type svelte-1186pna"> </span> <button class="connection-target svelte-1186pna"> </button></div>'),Yu=x('<div class="connection-overflow svelte-1186pna"> </div>'),$u=x('<div class="info-connections svelte-1186pna"><!> <!></div>'),Vu=x('<div class="info-panel svelte-1186pna"><div class="info-header svelte-1186pna"><span class="info-dot svelte-1186pna"></span> <strong class="svelte-1186pna"> </strong> <span class="info-meta svelte-1186pna"> </span> <button class="info-close svelte-1186pna">✕</button></div> <!> <!></div>'),Xu=x('<div class="graph-view svelte-1186pna"><div class="graph-toolbar svelte-1186pna"><input class="graph-search svelte-1186pna" type="text" placeholder="Search nodes..."/> <div class="community-pills svelte-1186pna"><button>All</button> <!></div> <span class="graph-stats svelte-1186pna"> </span></div> <div class="graph-container svelte-1186pna"><!> <!></div> <!></div>');function Ju(e,t){Oe(t,!0);let n,r=null,a=W(null);const s=["#58a6ff","#3fb950","#d29922","#f85149","#bc8cff","#f778ba","#79c0ff","#56d4dd","#e3b341","#db6d28","#8b949e","#7ee787","#a5d6ff","#ffa657","#ff7b72","#d2a8ff","#ffd8b5","#89dceb","#f9e2af","#a6e3a1"];function o(A){return A<0?"#30363d":s[A%s.length]}function l(A){const O=Math.max(A,1e-4),Y=(Math.log(O)+10)/10;return Math.max(2,Math.min(14,Y*12))}function c(A){const O=["KNOWS","LIVES_WITH","FAMILY_OF","WORKS_WITH","COMMUNICATES_WITH"],Y=["PART_OF","CONTAINS","DEPENDS_ON","INSTANCE_OF","LOCATED_AT"],Q=["PRECEDES","FOLLOWS","OCCURRED_AT","MENTIONS"];return O.includes(A)?"rgba(63, 185, 80, 0.35)":Y.includes(A)?"rgba(88, 166, 255, 0.35)":Q.includes(A)?"rgba(210, 153, 34, 0.35)":"rgba(139, 148, 158, 0.25)"}function u(A){if(!r||!Un().nodes.find(pe=>pe.id===A))return;const M=r.graphData().nodes.find(pe=>pe.id===A);if(!M)return;const de=1+120/Math.hypot(M.x||0,M.y||0,M.z||0);r.cameraPosition({x:(M.x||0)*de,y:(M.y||0)*de,z:(M.z||0)*de},M,1e3),ur(A)}function d(A){const O=A.target;if(Pu(O.value),!O.value.trim())return;const Y=Un(),Q=O.value.toLowerCase(),M=Y.nodes.find(ue=>ue.id.toLowerCase().includes(Q));M&&u(M.id)}function g(A){A.key==="Enter"&&d(A)}async function f(){if(await Hu(),!n)return;const A=(await Mu(async()=>{const{default:M}=await import("./graph3d-DXruCMex.js");return{default:M}},__vite__mapDeps([0,1]))).default,O=Un(),Y={nodes:O.nodes.map(M=>({...M})),links:O.edges.map(M=>({source:M.source,target:M.target,rel_type:M.rel_type}))};r=new A(n).backgroundColor("#0a0a0f").showNavInfo(!1).width(n.clientWidth).height(n.clientHeight).graphData(Y).nodeId("id").nodeVal(M=>l(M.pagerank||.001)).nodeColor(M=>{if(i(a)&&M.id===i(a)||zn()===M.id)return"#ffffff";const ue=dr();return ue!==null&&M.community!==ue?"rgba(48, 54, 61, 0.4)":o(M.community??-1)}).nodeLabel(M=>{const ue=M.pagerank?M.pagerank.toFixed(4):"—",de=M.community>=0?M.community:"—";return`<span style="color:#e6edf3;font-family:system-ui;font-size:12px">
          <b>${M.id}</b><br/>
          Community ${de} · PR ${ue}
        </span>`}).nodeOpacity(.9).linkSource("source").linkTarget("target").linkColor(M=>c(M.rel_type)).linkWidth(.5).linkOpacity(.6).linkDirectionalArrowLength(3).linkDirectionalArrowRelPos(1).linkLabel(M=>`<span style="color:#8b949e;font-size:11px">${M.rel_type}</span>`).onNodeClick(M=>{ur(M.id),u(M.id)}).onNodeHover(M=>{E(a,(M==null?void 0:M.id)??null,!0),n.style.cursor=M?"pointer":"default"}).onBackgroundClick(()=>{ur(null),Pr(null)}).warmupTicks(100).cooldownTime(3e3);const Q=new ResizeObserver(()=>{r&&n&&r.width(n.clientWidth).height(n.clientHeight)});return Q.observe(n),setTimeout(()=>{r&&r.zoomToFit(500,50)},3500),()=>{Q.disconnect(),r&&r._destructor()}}Xo(()=>{let A;return f().then(O=>{A=O}),()=>A==null?void 0:A()});let p=ee(Bu),_=ee(()=>zn()?Uu(zn()):[]),S=ee(()=>zn()?zu(zn()):[]),v=ee(Fu);var b=Xu(),I=m(b),k=m(I),N=w(k,2),C=m(N);let P;var $=w(C,2);Ke($,17,()=>i(v).slice(0,12),it,(A,O)=>{var Y=qu();let Q;var M=m(Y);q((ue,de)=>{Q=me(Y,1,"pill svelte-1186pna",null,Q,ue),hr(Y,`--pill-color: ${de??""}`),B(M,i(O))},[()=>({active:dr()===i(O)}),()=>o(i(O))]),oe("click",Y,()=>Pr(dr()===i(O)?null:i(O))),T(A,Y)});var R=w(N,2),F=m(R),L=w(I,2),J=m(L);{var fe=A=>{var O=Gu();T(A,O)},D=ee(()=>Lu());K(J,A=>{i(D)&&A(fe)})}var G=w(J,2);{var j=A=>{var O=Ku(),Y=m(O);q(Q=>B(Y,Q),[Ba]),T(A,O)},ne=ee(()=>Ba());K(G,A=>{i(ne)&&A(j)})}Yn(L,A=>n=A,()=>n);var H=w(L,2);{var U=A=>{var O=Vu(),Y=m(O),Q=m(Y),M=w(Q,2),ue=m(M),de=w(M,2),pe=m(de),We=w(de,2),Et=w(Y,2);{var Dt=Z=>{var ie=Zu();Ke(ie,21,()=>i(p).labels,it,(Te,xe)=>{var he=Wu(),be=m(he);q(()=>B(be,i(xe))),T(Te,he)}),T(Z,ie)};K(Et,Z=>{i(p).labels.length>0&&Z(Dt)})}var jt=w(Et,2);{var le=Z=>{var ie=$u(),Te=m(ie);Ke(Te,17,()=>i(_).slice(0,20),it,(be,ye)=>{var Ve=ju(),ct=m(Ve),Pt=m(ct),wt=w(ct,2),y=m(wt);q(()=>{var z;B(Pt,i(ye).rel_type),B(y,i(ye).source===((z=i(p))==null?void 0:z.id)?i(ye).target:i(ye).source)}),oe("click",wt,()=>{var z;return u(i(ye).source===((z=i(p))==null?void 0:z.id)?i(ye).target:i(ye).source)}),T(be,Ve)});var xe=w(Te,2);{var he=be=>{var ye=Yu(),Ve=m(ye);q(()=>B(Ve,`+${i(_).length-20} more`)),T(be,ye)};K(xe,be=>{i(_).length>20&&be(he)})}T(Z,ie)};K(jt,Z=>{i(S).length>0&&Z(le)})}q((Z,ie)=>{hr(Q,`background: ${Z??""}`),B(ue,i(p).id),B(pe,`Community ${(i(p).community>=0?i(p).community:"—")??""} ·
          PR ${ie??""}`)},[()=>o(i(p).community),()=>i(p).pagerank.toFixed(4)]),oe("click",We,()=>ur(null)),T(A,O)};K(H,A=>{i(p)&&A(U)})}q((A,O,Y,Q)=>{Yo(k,A),P=me(C,1,"pill svelte-1186pna",null,P,O),B(F,`${Y??""} nodes · ${Q??""} edges`)},[Du,()=>({active:dr()===null}),()=>Un().nodes.length,()=>Un().edges.length]),oe("input",k,d),oe("keydown",k,g),oe("click",C,()=>Pr(null)),T(e,b),Ie()}yt(["input","keydown","click"]);var Qu=x('<div class="token-setup svelte-12d5wnd"><div class="token-card svelte-12d5wnd"><h1 class="svelte-12d5wnd">Aletheia</h1> <p class="svelte-12d5wnd">Enter your gateway authentication token to get started.</p> <form class="svelte-12d5wnd"><input type="password" class="token-input svelte-12d5wnd" placeholder="Gateway token"/> <button type="submit" class="token-submit svelte-12d5wnd">Connect</button></form></div></div>'),ed=x('<button class="sidebar-overlay svelte-12d5wnd" aria-label="Close sidebar"></button>'),td=x('<!> <div class="main svelte-12d5wnd"><!> <!> <div class="content svelte-12d5wnd"><!></div></div>',1);function nd(e,t){Oe(t,!0);const n="aletheia_sidebar_collapsed";let r=W("chat"),a=W(!!Mn()),s=W(""),o=W(localStorage.getItem(n)==="true");function l(_){_.preventDefault(),i(s).trim()&&(Is(i(s).trim()),E(a,!0),location.reload())}function c(){E(o,!i(o)),localStorage.setItem(n,String(i(o)))}function u(){window.innerWidth<=768&&(E(o,!0),localStorage.setItem(n,String(i(o))))}var d=Rs(),g=un(d);{var f=_=>{var S=Qu(),v=m(S),b=w(m(v),4),I=m(b);Jt("submit",b,l),da(I,()=>i(s),k=>E(s,k)),T(_,S)},p=_=>{var S=td(),v=un(S);yl(v,{onSetView:L=>E(r,L,!0),onToggleSidebar:c,get activeView(){return i(r)},get sidebarCollapsed(){return i(o)}});var b=w(v,2),I=m(b);Ll(I,{get collapsed(){return i(o)},onAgentSelect:u});var k=w(I,2);{var N=L=>{var J=ed();oe("click",J,u),T(L,J)};K(k,L=>{i(o)||L(N)})}var C=w(k,2),P=m(C);{var $=L=>{Ru(L,{})},R=L=>{Ju(L,{})},F=L=>{pu(L,{})};K(P,L=>{i(r)==="metrics"?L($):i(r)==="graph"?L(R,1):L(F,!1)})}T(_,S)};K(g,_=>{i(a)?_(p,!1):_(f)})}T(e,d),Ie()}yt(["click"]);function rd(e,t){Oe(t,!0),st(()=>{Mn()&&(gl(),vl())});function n(a){var s,o,l;if((a.metaKey||a.ctrlKey)&&a.key==="n"&&(a.preventDefault(),(s=document.querySelector(".new-chat-btn"))==null||s.click()),a.key==="/"&&!r()&&(a.preventDefault(),(o=document.querySelector(".input-wrapper textarea"))==null||o.focus()),a.key==="Escape"){const c=document.querySelector(".abort-btn");c?c.click():(l=document.activeElement)==null||l.blur()}}function r(){const a=document.activeElement;return a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement}Jt("keydown",Yr,n),nd(e,{}),Ie()}Do(rd,{target:document.getElementById("app")});
