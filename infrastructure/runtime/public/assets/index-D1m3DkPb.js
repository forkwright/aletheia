var Ys=Object.defineProperty;var ia=e=>{throw TypeError(e)};var Vs=(e,t,n)=>t in e?Ys(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var st=(e,t,n)=>Vs(e,typeof t!="symbol"?t+"":t,n),Sr=(e,t,n)=>t.has(e)||ia("Cannot "+n);var _=(e,t,n)=>(Sr(e,t,"read from private field"),n?n.call(e):t.get(e)),Q=(e,t,n)=>t.has(e)?ia("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Y=(e,t,n,r)=>(Sr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Le=(e,t,n)=>(Sr(e,t,"access private method"),n);import{M as $s,H as we,p as Xs}from"./markdown-vnaPnD2N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Cr=!1;var Na=Array.isArray,Js=Array.prototype.indexOf,wn=Array.prototype.includes,_r=Array.from,Qs=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,ei=Object.getOwnPropertyDescriptors,ti=Object.prototype,ni=Array.prototype,Ca=Object.getPrototypeOf,oa=Object.isExtensible;const ri=()=>{};function ai(e){for(var t=0;t<e.length;t++)e[t]()}function Ra(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const ye=2,Hn=4,pr=8,Ia=1<<24,At=16,tt=32,an=64,Rr=128,Ge=512,me=1024,Ee=2048,et=4096,ze=8192,St=16384,Vn=32768,Sn=65536,la=1<<17,Oa=1<<18,Nn=1<<19,si=1<<20,wt=1<<25,en=65536,Ir=1<<21,Zr=1<<22,Lt=1<<23,Bn=Symbol("$state"),ii=Symbol("legacy props"),oi=Symbol(""),Ht=new class extends Error{constructor(){super(...arguments);st(this,"name","StaleReactionError");st(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function li(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ci(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ui(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function di(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function fi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function vi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function gi(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function mi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _i(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function hi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const bi=1,yi=2,Ma=4,Ei=8,wi=16,Si=1,Ti=2,xi=4,Ai=8,ki=16,Ni=1,Ci=2,_e=Symbol(),La="http://www.w3.org/1999/xhtml";function Ri(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Da(e){return e===this.v}function Ii(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Pa(e){return!Ii(e,this.v)}let $n=!1,Oi=!1;function Mi(){$n=!0}let be=null;function Tn(e){be=e}function Re(e,t=!1,n){be={p:be,i:!1,c:null,e:null,s:e,x:null,l:$n&&!t?{s:null,u:null,$:[]}:null}}function Ie(e){var t=be,n=t.e;if(n!==null){t.e=null;for(var r of n)ts(r)}return t.i=!0,be=t.p,{}}function Xn(){return!$n||be!==null&&be.l===null}let qt=[];function Ba(){var e=qt;qt=[],ai(e)}function Tt(e){if(qt.length===0&&!Un){var t=qt;queueMicrotask(()=>{t===qt&&Ba()})}qt.push(e)}function Li(){for(;qt.length>0;)Ba()}function Ua(e){var t=ee;if(t===null)return $.f|=Lt,e;if((t.f&Vn)===0&&(t.f&Hn)===0)throw e;xn(e,t)}function xn(e,t){for(;t!==null;){if((t.f&Rr)!==0){if((t.f&Vn)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const Di=-7169;function le(e,t){e.f=e.f&Di|t}function jr(e){(e.f&Ge)!==0||e.deps===null?le(e,me):le(e,et)}function za(e){if(e!==null)for(const t of e)(t.f&ye)===0||(t.f&en)===0||(t.f^=en,za(t.deps))}function Fa(e,t,n){(e.f&Ee)!==0?t.add(e):(e.f&et)!==0&&n.add(e),za(e.deps),le(e,me)}const tr=new Set;let V=null,Or=null,pe=null,Ae=[],hr=null,Mr=!1,Un=!1;var mn,_n,Zt,pn,Wn,Zn,jt,ht,hn,mt,Lr,Dr,Ha;const sa=class sa{constructor(){Q(this,mt);st(this,"committed",!1);st(this,"current",new Map);st(this,"previous",new Map);Q(this,mn,new Set);Q(this,_n,new Set);Q(this,Zt,0);Q(this,pn,0);Q(this,Wn,null);Q(this,Zn,new Set);Q(this,jt,new Set);Q(this,ht,new Map);st(this,"is_fork",!1);Q(this,hn,!1)}is_deferred(){return this.is_fork||_(this,pn)>0}skip_effect(t){_(this,ht).has(t)||_(this,ht).set(t,{d:[],m:[]})}unskip_effect(t){var n=_(this,ht).get(t);if(n){_(this,ht).delete(t);for(var r of n.d)le(r,Ee),Je(r);for(r of n.m)le(r,et),Je(r)}}process(t){var a;Ae=[],this.apply();var n=[],r=[];for(const s of t)Le(this,mt,Lr).call(this,s,n,r);if(this.is_deferred()){Le(this,mt,Dr).call(this,r),Le(this,mt,Dr).call(this,n);for(const[s,i]of _(this,ht))Wa(s,i)}else{for(const s of _(this,mn))s();_(this,mn).clear(),_(this,Zt)===0&&Le(this,mt,Ha).call(this),Or=this,V=null,ca(r),ca(n),Or=null,(a=_(this,Wn))==null||a.resolve()}pe=null}capture(t,n){n!==_e&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&Lt)===0&&(this.current.set(t,t.v),pe==null||pe.set(t,t.v))}activate(){V=this,this.apply()}deactivate(){V===this&&(V=null,pe=null)}flush(){if(this.activate(),Ae.length>0){if(qa(),V!==null&&V!==this)return}else _(this,Zt)===0&&this.process([]);this.deactivate()}discard(){for(const t of _(this,_n))t(this);_(this,_n).clear()}increment(t){Y(this,Zt,_(this,Zt)+1),t&&Y(this,pn,_(this,pn)+1)}decrement(t){Y(this,Zt,_(this,Zt)-1),t&&Y(this,pn,_(this,pn)-1),!_(this,hn)&&(Y(this,hn,!0),Tt(()=>{Y(this,hn,!1),this.is_deferred()?Ae.length>0&&this.flush():this.revive()}))}revive(){for(const t of _(this,Zn))_(this,jt).delete(t),le(t,Ee),Je(t);for(const t of _(this,jt))le(t,et),Je(t);this.flush()}oncommit(t){_(this,mn).add(t)}ondiscard(t){_(this,_n).add(t)}settled(){return(_(this,Wn)??Y(this,Wn,Ra())).promise}static ensure(){if(V===null){const t=V=new sa;tr.add(V),Un||Tt(()=>{V===t&&t.flush()})}return V}apply(){}};mn=new WeakMap,_n=new WeakMap,Zt=new WeakMap,pn=new WeakMap,Wn=new WeakMap,Zn=new WeakMap,jt=new WeakMap,ht=new WeakMap,hn=new WeakMap,mt=new WeakSet,Lr=function(t,n,r){t.f^=me;for(var a=t.first,s=null;a!==null;){var i=a.f,c=(i&(tt|an))!==0,l=c&&(i&me)!==0,u=l||(i&ze)!==0||_(this,ht).has(a);if(!u&&a.fn!==null){c?a.f^=me:s!==null&&(i&(Hn|pr|Ia))!==0?s.b.defer_effect(a):(i&Hn)!==0?n.push(a):Qn(a)&&((i&At)!==0&&_(this,jt).add(a),kn(a));var d=a.first;if(d!==null){a=d;continue}}for(;a!==null;){a===s&&(s=null);var g=a.next;if(g!==null){a=g;break}a=a.parent}}},Dr=function(t){for(var n=0;n<t.length;n+=1)Fa(t[n],_(this,Zn),_(this,jt))},Ha=function(){var a;if(tr.size>1){this.previous.clear();var t=pe,n=!0;for(const s of tr){if(s===this){n=!1;continue}const i=[];for(const[l,u]of this.current){if(s.current.has(l))if(n&&u!==s.current.get(l))s.current.set(l,u);else continue;i.push(l)}if(i.length===0)continue;const c=[...s.current.keys()].filter(l=>!this.current.has(l));if(c.length>0){var r=Ae;Ae=[];const l=new Set,u=new Map;for(const d of i)Ga(d,c,l,u);if(Ae.length>0){V=s,s.apply();for(const d of Ae)Le(a=s,mt,Lr).call(a,d,[],[]);s.deactivate()}Ae=r}}V=null,pe=t}this.committed=!0,tr.delete(this)};let Dt=sa;function Pi(e){var t=Un;Un=!0;try{for(var n;;){if(Li(),Ae.length===0&&(V==null||V.flush(),Ae.length===0))return hr=null,n;qa()}}finally{Un=t}}function qa(){Mr=!0;var e=null;try{for(var t=0;Ae.length>0;){var n=Dt.ensure();if(t++>1e3){var r,a;Bi()}n.process(Ae),Pt.clear()}}finally{Ae=[],Mr=!1,hr=null}}function Bi(){try{vi()}catch(e){xn(e,hr)}}let je=null;function ca(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(St|ze))===0&&Qn(r)&&(je=new Set,kn(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&as(r),(je==null?void 0:je.size)>0)){Pt.clear();for(const a of je){if((a.f&(St|ze))!==0)continue;const s=[a];let i=a.parent;for(;i!==null;)je.has(i)&&(je.delete(i),s.push(i)),i=i.parent;for(let c=s.length-1;c>=0;c--){const l=s[c];(l.f&(St|ze))===0&&kn(l)}}je.clear()}}je=null}}function Ga(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const s=a.f;(s&ye)!==0?Ga(a,t,n,r):(s&(Zr|At))!==0&&(s&Ee)===0&&Ka(a,t,r)&&(le(a,Ee),Je(a))}}function Ka(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const a of e.deps){if(wn.call(t,a))return!0;if((a.f&ye)!==0&&Ka(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function Je(e){for(var t=hr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Mr&&t===ee&&(n&At)!==0&&(n&Oa)===0)return;if((n&(an|tt))!==0){if((n&me)===0)return;t.f^=me}}Ae.push(t)}function Wa(e,t){if(!((e.f&tt)!==0&&(e.f&me)!==0)){(e.f&Ee)!==0?t.d.push(e):(e.f&et)!==0&&t.m.push(e),le(e,me);for(var n=e.first;n!==null;)Wa(n,t),n=n.next}}function Ui(e){let t=0,n=tn(0),r;return()=>{$r()&&(o(n),Xr(()=>(t===0&&(r=Er(()=>e(()=>zn(n)))),t+=1,()=>{Tt(()=>{t-=1,t===0&&(r==null||r(),r=void 0,zn(n))})})))}}var zi=Sn|Nn;function Fi(e,t,n){new Hi(e,t,n)}var Ye,Wr,bt,Yt,lt,ct,Be,ut,yt,Vt,It,bn,yn,En,Et,gr,Ce,qi,Gi,Pr,sr,Br;class Hi{constructor(t,n,r){Q(this,Ce);st(this,"parent");st(this,"is_pending",!1);Q(this,Ye);Q(this,Wr,null);Q(this,bt);Q(this,Yt);Q(this,lt);Q(this,ct,null);Q(this,Be,null);Q(this,ut,null);Q(this,yt,null);Q(this,Vt,0);Q(this,It,0);Q(this,bn,!1);Q(this,yn,new Set);Q(this,En,new Set);Q(this,Et,null);Q(this,gr,Ui(()=>(Y(this,Et,tn(_(this,Vt))),()=>{Y(this,Et,null)})));Y(this,Ye,t),Y(this,bt,n),Y(this,Yt,a=>{var s=ee;s.b=this,s.f|=Rr,r(a)}),this.parent=ee.b,Y(this,lt,Jr(()=>{Le(this,Ce,Pr).call(this)},zi))}defer_effect(t){Fa(t,_(this,yn),_(this,En))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!_(this,bt).pending}update_pending_count(t){Le(this,Ce,Br).call(this,t),Y(this,Vt,_(this,Vt)+t),!(!_(this,Et)||_(this,bn))&&(Y(this,bn,!0),Tt(()=>{Y(this,bn,!1),_(this,Et)&&An(_(this,Et),_(this,Vt))}))}get_effect_pending(){return _(this,gr).call(this),o(_(this,Et))}error(t){var n=_(this,bt).onerror;let r=_(this,bt).failed;if(!n&&!r)throw t;_(this,ct)&&(Ne(_(this,ct)),Y(this,ct,null)),_(this,Be)&&(Ne(_(this,Be)),Y(this,Be,null)),_(this,ut)&&(Ne(_(this,ut)),Y(this,ut,null));var a=!1,s=!1;const i=()=>{if(a){Ri();return}a=!0,s&&hi(),_(this,ut)!==null&&Xt(_(this,ut),()=>{Y(this,ut,null)}),Le(this,Ce,sr).call(this,()=>{Dt.ensure(),Le(this,Ce,Pr).call(this)})};Tt(()=>{try{s=!0,n==null||n(t,i),s=!1}catch(c){xn(c,_(this,lt)&&_(this,lt).parent)}r&&Y(this,ut,Le(this,Ce,sr).call(this,()=>{Dt.ensure();try{return $e(()=>{var c=ee;c.b=this,c.f|=Rr,r(_(this,Ye),()=>t,()=>i)})}catch(c){return xn(c,_(this,lt).parent),null}}))})}}Ye=new WeakMap,Wr=new WeakMap,bt=new WeakMap,Yt=new WeakMap,lt=new WeakMap,ct=new WeakMap,Be=new WeakMap,ut=new WeakMap,yt=new WeakMap,Vt=new WeakMap,It=new WeakMap,bn=new WeakMap,yn=new WeakMap,En=new WeakMap,Et=new WeakMap,gr=new WeakMap,Ce=new WeakSet,qi=function(){try{Y(this,ct,$e(()=>_(this,Yt).call(this,_(this,Ye))))}catch(t){this.error(t)}},Gi=function(){const t=_(this,bt).pending;t&&(this.is_pending=!0,Y(this,Be,$e(()=>t(_(this,Ye)))),Tt(()=>{var n=Y(this,yt,document.createDocumentFragment()),r=xt();n.append(r),Y(this,ct,Le(this,Ce,sr).call(this,()=>(Dt.ensure(),$e(()=>_(this,Yt).call(this,r))))),_(this,It)===0&&(_(this,Ye).before(n),Y(this,yt,null),Xt(_(this,Be),()=>{Y(this,Be,null)}),this.is_pending=!1)}))},Pr=function(){try{if(this.is_pending=this.has_pending_snippet(),Y(this,It,0),Y(this,Vt,0),Y(this,ct,$e(()=>{_(this,Yt).call(this,_(this,Ye))})),_(this,It)>0){var t=Y(this,yt,document.createDocumentFragment());os(_(this,ct),t);const n=_(this,bt).pending;Y(this,Be,$e(()=>n(_(this,Ye))))}else this.is_pending=!1}catch(n){this.error(n)}},sr=function(t){var n=ee,r=$,a=be;gt(_(this,lt)),We(_(this,lt)),Tn(_(this,lt).ctx);try{return t()}catch(s){return Ua(s),null}finally{gt(n),We(r),Tn(a)}},Br=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Le(n=this.parent,Ce,Br).call(n,t);return}if(Y(this,It,_(this,It)+t),_(this,It)===0){this.is_pending=!1;for(const r of _(this,yn))le(r,Ee),Je(r);for(const r of _(this,En))le(r,et),Je(r);_(this,yn).clear(),_(this,En).clear(),_(this,Be)&&Xt(_(this,Be),()=>{Y(this,Be,null)}),_(this,yt)&&(_(this,Ye).before(_(this,yt)),Y(this,yt,null))}};function Ki(e,t,n,r){const a=Xn()?br:Yr;var s=e.filter(v=>!v.settled);if(n.length===0&&s.length===0){r(t.map(a));return}var i=V,c=ee,l=Wi(),u=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(v=>v.promise)):null;function d(v){l();try{r(v)}catch(h){(c.f&St)===0&&xn(h,c)}i==null||i.deactivate(),Ur()}if(n.length===0){u.then(()=>d(t.map(a)));return}function g(){l(),Promise.all(n.map(v=>Zi(v))).then(v=>d([...t.map(a),...v])).catch(v=>xn(v,c))}u?u.then(g):g()}function Wi(){var e=ee,t=$,n=be,r=V;return function(s=!0){gt(e),We(t),Tn(n),s&&(r==null||r.activate())}}function Ur(){gt(null),We(null),Tn(null)}function br(e){var t=ye|Ee,n=$!==null&&($.f&ye)!==0?$:null;return ee!==null&&(ee.f|=Nn),{ctx:be,deps:null,effects:null,equals:Da,f:t,fn:e,reactions:null,rv:0,v:_e,wv:0,parent:n??ee,ac:null}}function Zi(e,t,n){let r=ee;r===null&&li();var a=r.b,s=void 0,i=tn(_e),c=!$,l=new Map;return oo(()=>{var h;var u=Ra();s=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===V&&d.committed&&d.deactivate(),Ur()})}catch(m){u.reject(m),Ur()}var d=V;if(c){var g=a.is_rendered();a.update_pending_count(1),d.increment(g),(h=l.get(d))==null||h.reject(Ht),l.delete(d),l.set(d,u)}const v=(m,E=void 0)=>{if(d.activate(),E)E!==Ht&&(i.f|=Lt,An(i,E));else{(i.f&Lt)!==0&&(i.f^=Lt),An(i,m);for(const[f,b]of l){if(l.delete(f),f===d)break;b.reject(Ht)}}c&&(a.update_pending_count(-1),d.decrement(g))};u.promise.then(v,m=>v(null,m||"unknown"))}),es(()=>{for(const u of l.values())u.reject(Ht)}),new Promise(u=>{function d(g){function v(){g===s?u(i):d(s)}g.then(v,v)}d(s)})}function ne(e){const t=br(e);return ls(t),t}function Yr(e){const t=br(e);return t.equals=Pa,t}function ji(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ne(t[n])}}function Yi(e){for(var t=e.parent;t!==null;){if((t.f&ye)===0)return(t.f&St)===0?t:null;t=t.parent}return null}function Vr(e){var t,n=ee;gt(Yi(e));try{e.f&=~en,ji(e),t=fs(e)}finally{gt(n)}return t}function Za(e){var t=Vr(e);if(!e.equals(t)&&(e.wv=us(),(!(V!=null&&V.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){le(e,me);return}Ut||(pe!==null?($r()||V!=null&&V.is_fork)&&pe.set(e,t):jr(e))}function Vi(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(Ht),r.teardown=ri,r.ac=null,qn(r,0),Qr(r))}function ja(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&kn(t)}let zr=new Set;const Pt=new Map;let Ya=!1;function tn(e,t){var n={f:0,v:e,reactions:null,equals:Da,rv:0,wv:0};return n}function q(e,t){const n=tn(e);return ls(n),n}function $i(e,t=!1,n=!0){var a;const r=tn(e);return t||(r.equals=Pa),$n&&n&&be!==null&&be.l!==null&&((a=be.l).s??(a.s=[])).push(r),r}function w(e,t,n=!1){$!==null&&(!Qe||($.f&la)!==0)&&Xn()&&($.f&(ye|At|Zr|la))!==0&&(Ke===null||!wn.call(Ke,e))&&pi();let r=n?qe(t):t;return An(e,r)}function An(e,t){if(!e.equals(t)){var n=e.v;Ut?Pt.set(e,t):Pt.set(e,n),e.v=t;var r=Dt.ensure();if(r.capture(e,n),(e.f&ye)!==0){const a=e;(e.f&Ee)!==0&&Vr(a),jr(a)}e.wv=us(),Va(e,Ee),Xn()&&ee!==null&&(ee.f&me)!==0&&(ee.f&(tt|an))===0&&(He===null?co([e]):He.push(e)),!r.is_fork&&zr.size>0&&!Ya&&Xi()}return t}function Xi(){Ya=!1;for(const e of zr)(e.f&me)!==0&&le(e,et),Qn(e)&&kn(e);zr.clear()}function zn(e){w(e,e.v+1)}function Va(e,t){var n=e.reactions;if(n!==null)for(var r=Xn(),a=n.length,s=0;s<a;s++){var i=n[s],c=i.f;if(!(!r&&i===ee)){var l=(c&Ee)===0;if(l&&le(i,t),(c&ye)!==0){var u=i;pe==null||pe.delete(u),(c&en)===0&&(c&Ge&&(i.f|=en),Va(u,et))}else l&&((c&At)!==0&&je!==null&&je.add(i),Je(i))}}}function qe(e){if(typeof e!="object"||e===null||Bn in e)return e;const t=Ca(e);if(t!==ti&&t!==ni)return e;var n=new Map,r=Na(e),a=q(0),s=Jt,i=c=>{if(Jt===s)return c();var l=$,u=Jt;We(null),fa(s);var d=c();return We(l),fa(u),d};return r&&n.set("length",q(e.length)),new Proxy(e,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&mi();var d=n.get(l);return d===void 0?i(()=>{var g=q(u.value);return n.set(l,g),g}):w(d,u.value,!0),!0},deleteProperty(c,l){var u=n.get(l);if(u===void 0){if(l in c){const d=i(()=>q(_e));n.set(l,d),zn(a)}}else w(u,_e),zn(a);return!0},get(c,l,u){var h;if(l===Bn)return e;var d=n.get(l),g=l in c;if(d===void 0&&(!g||(h=fn(c,l))!=null&&h.writable)&&(d=i(()=>{var m=qe(g?c[l]:_e),E=q(m);return E}),n.set(l,d)),d!==void 0){var v=o(d);return v===_e?void 0:v}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var d=n.get(l);d&&(u.value=o(d))}else if(u===void 0){var g=n.get(l),v=g==null?void 0:g.v;if(g!==void 0&&v!==_e)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(c,l){var v;if(l===Bn)return!0;var u=n.get(l),d=u!==void 0&&u.v!==_e||Reflect.has(c,l);if(u!==void 0||ee!==null&&(!d||(v=fn(c,l))!=null&&v.writable)){u===void 0&&(u=i(()=>{var h=d?qe(c[l]):_e,m=q(h);return m}),n.set(l,u));var g=o(u);if(g===_e)return!1}return d},set(c,l,u,d){var k;var g=n.get(l),v=l in c;if(r&&l==="length")for(var h=u;h<g.v;h+=1){var m=n.get(h+"");m!==void 0?w(m,_e):h in c&&(m=i(()=>q(_e)),n.set(h+"",m))}if(g===void 0)(!v||(k=fn(c,l))!=null&&k.writable)&&(g=i(()=>q(void 0)),w(g,qe(u)),n.set(l,g));else{v=g.v!==_e;var E=i(()=>qe(u));w(g,E)}var f=Reflect.getOwnPropertyDescriptor(c,l);if(f!=null&&f.set&&f.set.call(d,u),!v){if(r&&typeof l=="string"){var b=n.get("length"),R=Number(l);Number.isInteger(R)&&R>=b.v&&w(b,R+1)}zn(a)}return!0},ownKeys(c){o(a);var l=Reflect.ownKeys(c).filter(g=>{var v=n.get(g);return v===void 0||v.v!==_e});for(var[u,d]of n)d.v!==_e&&!(u in c)&&l.push(u);return l},setPrototypeOf(){_i()}})}var Fr,$a,Xa,Ja;function Ji(){if(Fr===void 0){Fr=window,$a=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Xa=fn(t,"firstChild").get,Ja=fn(t,"nextSibling").get,oa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),oa(n)&&(n.__t=void 0)}}function xt(e=""){return document.createTextNode(e)}function Ot(e){return Xa.call(e)}function Jn(e){return Ja.call(e)}function p(e,t){return Ot(e)}function nn(e,t=!1){{var n=Ot(e);return n instanceof Comment&&n.data===""?Jn(n):n}}function S(e,t=1,n=!1){let r=e;for(;t--;)r=Jn(r);return r}function Qi(e){e.textContent=""}function Qa(){return!1}function eo(e,t,n){return document.createElementNS(La,e,void 0)}let ua=!1;function to(){ua||(ua=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function yr(e){var t=$,n=ee;We(null),gt(null);try{return e()}finally{We(t),gt(n)}}function no(e,t,n,r=n){e.addEventListener(t,()=>yr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),to()}function ro(e){ee===null&&($===null&&fi(),di()),Ut&&ui()}function ao(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function kt(e,t,n){var r=ee;r!==null&&(r.f&ze)!==0&&(e|=ze);var a={ctx:be,deps:null,nodes:null,f:e|Ee|Ge,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{kn(a)}catch(c){throw Ne(a),c}else t!==null&&Je(a);var s=a;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Nn)===0&&(s=s.first,(e&At)!==0&&(e&Sn)!==0&&s!==null&&(s.f|=Sn)),s!==null&&(s.parent=r,r!==null&&ao(s,r),$!==null&&($.f&ye)!==0&&(e&an)===0)){var i=$;(i.effects??(i.effects=[])).push(s)}return a}function $r(){return $!==null&&!Qe}function es(e){const t=kt(pr,null,!1);return le(t,me),t.teardown=e,t}function ft(e){ro();var t=ee.f,n=!$&&(t&tt)!==0&&(t&Vn)===0;if(n){var r=be;(r.e??(r.e=[])).push(e)}else return ts(e)}function ts(e){return kt(Hn|si,e,!1)}function so(e){Dt.ensure();const t=kt(an|Nn,e,!0);return(n={})=>new Promise(r=>{n.outro?Xt(t,()=>{Ne(t),r(void 0)}):(Ne(t),r(void 0))})}function io(e){return kt(Hn,e,!1)}function oo(e){return kt(Zr|Nn,e,!0)}function Xr(e,t=0){return kt(pr|t,e,!0)}function F(e,t=[],n=[],r=[]){Ki(r,t,n,a=>{kt(pr,()=>e(...a.map(o)),!0)})}function Jr(e,t=0){var n=kt(At|t,e,!0);return n}function $e(e){return kt(tt|Nn,e,!0)}function ns(e){var t=e.teardown;if(t!==null){const n=Ut,r=$;da(!0),We(null);try{t.call(null)}finally{da(n),We(r)}}}function Qr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&yr(()=>{a.abort(Ht)});var r=n.next;(n.f&an)!==0?n.parent=null:Ne(n,t),n=r}}function lo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&tt)===0&&Ne(t),t=n}}function Ne(e,t=!0){var n=!1;(t||(e.f&Oa)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(rs(e.nodes.start,e.nodes.end),n=!0),Qr(e,t&&!n),qn(e,0),le(e,St);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();ns(e);var a=e.parent;a!==null&&a.first!==null&&as(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function rs(e,t){for(;e!==null;){var n=e===t?null:Jn(e);e.remove(),e=n}}function as(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Xt(e,t,n=!0){var r=[];ss(e,r,!0);var a=()=>{n&&Ne(e),t&&t()},s=r.length;if(s>0){var i=()=>--s||a();for(var c of r)c.out(i)}else a()}function ss(e,t,n){if((e.f&ze)===0){e.f^=ze;var r=e.nodes&&e.nodes.t;if(r!==null)for(const c of r)(c.is_global||n)&&t.push(c);for(var a=e.first;a!==null;){var s=a.next,i=(a.f&Sn)!==0||(a.f&tt)!==0&&(e.f&At)!==0;ss(a,t,i?n:!1),a=s}}}function ea(e){is(e,!0)}function is(e,t){if((e.f&ze)!==0){e.f^=ze,(e.f&me)===0&&(le(e,Ee),Je(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Sn)!==0||(n.f&tt)!==0;is(n,a?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)(i.is_global||t)&&i.in()}}function os(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var a=n===r?null:Jn(n);t.append(n),n=a}}let ir=!1,Ut=!1;function da(e){Ut=e}let $=null,Qe=!1;function We(e){$=e}let ee=null;function gt(e){ee=e}let Ke=null;function ls(e){$!==null&&(Ke===null?Ke=[e]:Ke.push(e))}let ke=null,De=0,He=null;function co(e){He=e}let cs=1,Gt=0,Jt=Gt;function fa(e){Jt=e}function us(){return++cs}function Qn(e){var t=e.f;if((t&Ee)!==0)return!0;if(t&ye&&(e.f&=~en),(t&et)!==0){for(var n=e.deps,r=n.length,a=0;a<r;a++){var s=n[a];if(Qn(s)&&Za(s),s.wv>e.wv)return!0}(t&Ge)!==0&&pe===null&&le(e,me)}return!1}function ds(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Ke!==null&&wn.call(Ke,e)))for(var a=0;a<r.length;a++){var s=r[a];(s.f&ye)!==0?ds(s,t,!1):t===s&&(n?le(s,Ee):(s.f&me)!==0&&le(s,et),Je(s))}}function fs(e){var E;var t=ke,n=De,r=He,a=$,s=Ke,i=be,c=Qe,l=Jt,u=e.f;ke=null,De=0,He=null,$=(u&(tt|an))===0?e:null,Ke=null,Tn(e.ctx),Qe=!1,Jt=++Gt,e.ac!==null&&(yr(()=>{e.ac.abort(Ht)}),e.ac=null);try{e.f|=Ir;var d=e.fn,g=d();e.f|=Vn;var v=e.deps,h=V==null?void 0:V.is_fork;if(ke!==null){var m;if(h||qn(e,De),v!==null&&De>0)for(v.length=De+ke.length,m=0;m<ke.length;m++)v[De+m]=ke[m];else e.deps=v=ke;if($r()&&(e.f&Ge)!==0)for(m=De;m<v.length;m++)((E=v[m]).reactions??(E.reactions=[])).push(e)}else!h&&v!==null&&De<v.length&&(qn(e,De),v.length=De);if(Xn()&&He!==null&&!Qe&&v!==null&&(e.f&(ye|et|Ee))===0)for(m=0;m<He.length;m++)ds(He[m],e);if(a!==null&&a!==e){if(Gt++,a.deps!==null)for(let f=0;f<n;f+=1)a.deps[f].rv=Gt;if(t!==null)for(const f of t)f.rv=Gt;He!==null&&(r===null?r=He:r.push(...He))}return(e.f&Lt)!==0&&(e.f^=Lt),g}catch(f){return Ua(f)}finally{e.f^=Ir,ke=t,De=n,He=r,$=a,Ke=s,Tn(i),Qe=c,Jt=l}}function uo(e,t){let n=t.reactions;if(n!==null){var r=Js.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}if(n===null&&(t.f&ye)!==0&&(ke===null||!wn.call(ke,t))){var s=t;(s.f&Ge)!==0&&(s.f^=Ge,s.f&=~en),jr(s),Vi(s),qn(s,0)}}function qn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)uo(e,n[r])}function kn(e){var t=e.f;if((t&St)===0){le(e,me);var n=ee,r=ir;ee=e,ir=!0;try{(t&(At|Ia))!==0?lo(e):Qr(e),ns(e);var a=fs(e);e.teardown=typeof a=="function"?a:null,e.wv=cs;var s;Cr&&Oi&&(e.f&Ee)!==0&&e.deps}finally{ir=r,ee=n}}}async function fo(){await Promise.resolve(),Pi()}function o(e){var t=e.f,n=(t&ye)!==0;if($!==null&&!Qe){var r=ee!==null&&(ee.f&St)!==0;if(!r&&(Ke===null||!wn.call(Ke,e))){var a=$.deps;if(($.f&Ir)!==0)e.rv<Gt&&(e.rv=Gt,ke===null&&a!==null&&a[De]===e?De++:ke===null?ke=[e]:ke.push(e));else{($.deps??($.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[$]:wn.call(s,$)||s.push($)}}}if(Ut&&Pt.has(e))return Pt.get(e);if(n){var i=e;if(Ut){var c=i.v;return((i.f&me)===0&&i.reactions!==null||gs(i))&&(c=Vr(i)),Pt.set(i,c),c}var l=(i.f&Ge)===0&&!Qe&&$!==null&&(ir||($.f&Ge)!==0),u=(i.f&Vn)===0;Qn(i)&&(l&&(i.f|=Ge),Za(i)),l&&!u&&(ja(i),vs(i))}if(pe!=null&&pe.has(e))return pe.get(e);if((e.f&Lt)!==0)throw e.v;return e.v}function vs(e){if(e.f|=Ge,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&ye)!==0&&(t.f&Ge)===0&&(ja(t),vs(t))}function gs(e){if(e.v===_e)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Pt.has(t)||(t.f&ye)!==0&&gs(t))return!0;return!1}function Er(e){var t=Qe;try{return Qe=!0,e()}finally{Qe=t}}const vo=["touchstart","touchmove"];function go(e){return vo.includes(e)}const Kt=Symbol("events"),ms=new Set,Hr=new Set;function mo(e,t,n,r={}){function a(s){if(r.capture||qr.call(t,s),!s.cancelBubble)return yr(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Tt(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Wt(e,t,n,r,a){var s={capture:r,passive:a},i=mo(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&es(()=>{t.removeEventListener(e,i,s)})}function ie(e,t,n){(t[Kt]??(t[Kt]={}))[e]=n}function Nt(e){for(var t=0;t<e.length;t++)ms.add(e[t]);for(var n of Hr)n(e)}let va=null;function qr(e){var f,b;var t=this,n=t.ownerDocument,r=e.type,a=((f=e.composedPath)==null?void 0:f.call(e))||[],s=a[0]||e.target;va=e;var i=0,c=va===e&&e[Kt];if(c){var l=a.indexOf(c);if(l!==-1&&(t===document||t===window)){e[Kt]=t;return}var u=a.indexOf(t);if(u===-1)return;l<=u&&(i=l)}if(s=a[i]||e.target,s!==t){Qs(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=$,g=ee;We(null),gt(null);try{for(var v,h=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var E=(b=s[Kt])==null?void 0:b[r];E!=null&&(!s.disabled||e.target===s)&&E.call(s,e)}catch(R){v?h.push(R):v=R}if(e.cancelBubble||m===t||m===null)break;s=m}if(v){for(let R of h)queueMicrotask(()=>{throw R});throw v}}finally{e[Kt]=t,delete e.currentTarget,We(d),gt(g)}}}var Aa;const Tr=((Aa=globalThis==null?void 0:globalThis.window)==null?void 0:Aa.trustedTypes)&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function _o(e){return(Tr==null?void 0:Tr.createHTML(e))??e}function _s(e,t=!1){var n=eo("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?_o(e):e,n.content}function Gn(e,t){var n=ee;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function A(e,t){var n=(t&Ni)!==0,r=(t&Ci)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=_s(s?e:"<!>"+e,!0),n||(a=Ot(a)));var i=r||$a?document.importNode(a,!0):a.cloneNode(!0);if(n){var c=Ot(i),l=i.lastChild;Gn(c,l)}else Gn(i,i);return i}}function ga(e=""){{var t=xt(e+"");return Gn(t,t),t}}function ps(){var e=document.createDocumentFragment(),t=document.createComment(""),n=xt();return e.append(t,n),Gn(t,n),e}function T(e,t){e!==null&&e.before(t)}function P(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function po(e,t){return ho(e,t)}const nr=new Map;function ho(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){Ji();var c=void 0,l=so(()=>{var u=n??t.appendChild(xt());Fi(u,{pending:()=>{}},v=>{Re({});var h=be;s&&(h.c=s),a&&(r.$$events=a),c=e(v,r)||{},Ie()});var d=new Set,g=v=>{for(var h=0;h<v.length;h++){var m=v[h];if(!d.has(m)){d.add(m);var E=go(m);for(const R of[t,document]){var f=nr.get(R);f===void 0&&(f=new Map,nr.set(R,f));var b=f.get(m);b===void 0?(R.addEventListener(m,qr,{passive:E}),f.set(m,1)):f.set(m,b+1)}}}};return g(_r(ms)),Hr.add(g),()=>{var E;for(var v of d)for(const f of[t,document]){var h=nr.get(f),m=h.get(v);--m==0?(f.removeEventListener(v,qr),h.delete(v),h.size===0&&nr.delete(f)):h.set(v,m)}Hr.delete(g),u!==n&&((E=u.parentNode)==null||E.removeChild(u))}});return bo.set(c,l),c}let bo=new WeakMap;var Ve,dt,Ue,$t,jn,Yn,mr;class yo{constructor(t,n=!0){st(this,"anchor");Q(this,Ve,new Map);Q(this,dt,new Map);Q(this,Ue,new Map);Q(this,$t,new Set);Q(this,jn,!0);Q(this,Yn,()=>{var t=V;if(_(this,Ve).has(t)){var n=_(this,Ve).get(t),r=_(this,dt).get(n);if(r)ea(r),_(this,$t).delete(n);else{var a=_(this,Ue).get(n);a&&(_(this,dt).set(n,a.effect),_(this,Ue).delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[s,i]of _(this,Ve)){if(_(this,Ve).delete(s),s===t)break;const c=_(this,Ue).get(i);c&&(Ne(c.effect),_(this,Ue).delete(i))}for(const[s,i]of _(this,dt)){if(s===n||_(this,$t).has(s))continue;const c=()=>{if(Array.from(_(this,Ve).values()).includes(s)){var u=document.createDocumentFragment();os(i,u),u.append(xt()),_(this,Ue).set(s,{effect:i,fragment:u})}else Ne(i);_(this,$t).delete(s),_(this,dt).delete(s)};_(this,jn)||!r?(_(this,$t).add(s),Xt(i,c,!1)):c()}}});Q(this,mr,t=>{_(this,Ve).delete(t);const n=Array.from(_(this,Ve).values());for(const[r,a]of _(this,Ue))n.includes(r)||(Ne(a.effect),_(this,Ue).delete(r))});this.anchor=t,Y(this,jn,n)}ensure(t,n){var r=V,a=Qa();if(n&&!_(this,dt).has(t)&&!_(this,Ue).has(t))if(a){var s=document.createDocumentFragment(),i=xt();s.append(i),_(this,Ue).set(t,{effect:$e(()=>n(i)),fragment:s})}else _(this,dt).set(t,$e(()=>n(this.anchor)));if(_(this,Ve).set(r,t),a){for(const[c,l]of _(this,dt))c===t?r.unskip_effect(l):r.skip_effect(l);for(const[c,l]of _(this,Ue))c===t?r.unskip_effect(l.effect):r.skip_effect(l.effect);r.oncommit(_(this,Yn)),r.ondiscard(_(this,mr))}else _(this,Yn).call(this)}}Ve=new WeakMap,dt=new WeakMap,Ue=new WeakMap,$t=new WeakMap,jn=new WeakMap,Yn=new WeakMap,mr=new WeakMap;function H(e,t,n=!1){var r=new yo(e),a=n?Sn:0;function s(i,c){r.ensure(i,c)}Jr(()=>{var i=!1;t((c,l=0)=>{i=!0,s(l,c)}),i||s(!1,null)},a)}function Bt(e,t){return t}function Eo(e,t,n){for(var r=[],a=t.length,s,i=t.length,c=0;c<a;c++){let g=t[c];Xt(g,()=>{if(s){if(s.pending.delete(g),s.done.add(g),s.pending.size===0){var v=e.outrogroups;Gr(_r(s.done)),v.delete(s),v.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var l=r.length===0&&n!==null;if(l){var u=n,d=u.parentNode;Qi(d),d.append(u),e.items.clear()}Gr(t,!l)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function Gr(e,t=!0){for(var n=0;n<e.length;n++)Ne(e[n],t)}var ma;function vt(e,t,n,r,a,s=null){var i=e,c=new Map,l=(t&Ma)!==0;if(l){var u=e;i=u.appendChild(xt())}var d=null,g=Yr(()=>{var b=n();return Na(b)?b:b==null?[]:_r(b)}),v,h=!0;function m(){f.fallback=d,wo(f,v,i,t,r),d!==null&&(v.length===0?(d.f&wt)===0?ea(d):(d.f^=wt,Pn(d,null,i)):Xt(d,()=>{d=null}))}var E=Jr(()=>{v=o(g);for(var b=v.length,R=new Set,k=V,N=Qa(),C=0;C<b;C+=1){var O=v[C],B=r(O,C),x=h?null:c.get(B);x?(x.v&&An(x.v,O),x.i&&An(x.i,C),N&&k.unskip_effect(x.e)):(x=So(c,h?i:ma??(ma=xt()),O,B,C,a,t,n),h||(x.e.f|=wt),c.set(B,x)),R.add(B)}if(b===0&&s&&!d&&(h?d=$e(()=>s(i)):(d=$e(()=>s(ma??(ma=xt()))),d.f|=wt)),b>R.size&&ci(),!h)if(N){for(const[L,G]of c)R.has(L)||k.skip_effect(G.e);k.oncommit(m),k.ondiscard(()=>{})}else m();o(g)}),f={effect:E,items:c,outrogroups:null,fallback:d};h=!1}function Ln(e){for(;e!==null&&(e.f&tt)===0;)e=e.next;return e}function wo(e,t,n,r,a){var G,ae,se,I,z,j,re,U,M;var s=(r&Ei)!==0,i=t.length,c=e.items,l=Ln(e.effect.first),u,d=null,g,v=[],h=[],m,E,f,b;if(s)for(b=0;b<i;b+=1)m=t[b],E=a(m,b),f=c.get(E).e,(f.f&wt)===0&&((ae=(G=f.nodes)==null?void 0:G.a)==null||ae.measure(),(g??(g=new Set)).add(f));for(b=0;b<i;b+=1){if(m=t[b],E=a(m,b),f=c.get(E).e,e.outrogroups!==null)for(const K of e.outrogroups)K.pending.delete(f),K.done.delete(f);if((f.f&wt)!==0)if(f.f^=wt,f===l)Pn(f,null,n);else{var R=d?d.next:l;f===e.effect.last&&(e.effect.last=f.prev),f.prev&&(f.prev.next=f.next),f.next&&(f.next.prev=f.prev),Rt(e,d,f),Rt(e,f,R),Pn(f,R,n),d=f,v=[],h=[],l=Ln(d.next);continue}if((f.f&ze)!==0&&(ea(f),s&&((I=(se=f.nodes)==null?void 0:se.a)==null||I.unfix(),(g??(g=new Set)).delete(f))),f!==l){if(u!==void 0&&u.has(f)){if(v.length<h.length){var k=h[0],N;d=k.prev;var C=v[0],O=v[v.length-1];for(N=0;N<v.length;N+=1)Pn(v[N],k,n);for(N=0;N<h.length;N+=1)u.delete(h[N]);Rt(e,C.prev,O.next),Rt(e,d,C),Rt(e,O,k),l=k,d=O,b-=1,v=[],h=[]}else u.delete(f),Pn(f,l,n),Rt(e,f.prev,f.next),Rt(e,f,d===null?e.effect.first:d.next),Rt(e,d,f),d=f;continue}for(v=[],h=[];l!==null&&l!==f;)(u??(u=new Set)).add(l),h.push(l),l=Ln(l.next);if(l===null)continue}(f.f&wt)===0&&v.push(f),d=f,l=Ln(f.next)}if(e.outrogroups!==null){for(const K of e.outrogroups)K.pending.size===0&&(Gr(_r(K.done)),(z=e.outrogroups)==null||z.delete(K));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var B=[];if(u!==void 0)for(f of u)(f.f&ze)===0&&B.push(f);for(;l!==null;)(l.f&ze)===0&&l!==e.fallback&&B.push(l),l=Ln(l.next);var x=B.length;if(x>0){var L=(r&Ma)!==0&&i===0?n:null;if(s){for(b=0;b<x;b+=1)(re=(j=B[b].nodes)==null?void 0:j.a)==null||re.measure();for(b=0;b<x;b+=1)(M=(U=B[b].nodes)==null?void 0:U.a)==null||M.fix()}Eo(e,B,L)}}s&&Tt(()=>{var K,Z;if(g!==void 0)for(f of g)(Z=(K=f.nodes)==null?void 0:K.a)==null||Z.apply()})}function So(e,t,n,r,a,s,i,c){var l=(i&bi)!==0?(i&wi)===0?$i(n,!1,!1):tn(n):null,u=(i&yi)!==0?tn(a):null;return{v:l,i:u,e:$e(()=>(s(t,l??n,u??a,c),()=>{e.delete(r)}))}}function Pn(e,t,n){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end,s=t&&(t.f&wt)===0?t.nodes.start:n;r!==null;){var i=Jn(r);if(s.before(r),r===a)return;r=i}}function Rt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function To(e,t,n=!1,r=!1,a=!1){var s=e,i="";F(()=>{var c=ee;if(i!==(i=t()??"")&&(c.nodes!==null&&(rs(c.nodes.start,c.nodes.end),c.nodes=null),i!=="")){var l=i+"";n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var u=_s(l);if((n||r)&&(u=Ot(u)),Gn(Ot(u),u.lastChild),n||r)for(;Ot(u);)s.before(Ot(u));else s.before(u)}})}const _a=[...` 	
\r\f \v\uFEFF`];function xo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var c=i+s;(i===0||_a.includes(r[i-1]))&&(c===r.length||_a.includes(r[c]))?r=(i===0?"":r.substring(0,i))+r.substring(c+1):i=c}}return r===""?null:r}function Ao(e,t){return e==null?null:String(e)}function he(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var c=xo(n,r,s);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(s&&a!==s)for(var l in s){var u=!!s[l];(a==null||u!==!!a[l])&&e.classList.toggle(l,u)}return s}function hs(e,t,n,r){var a=e.__style;if(a!==t){var s=Ao(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const ko=Symbol("is custom element"),No=Symbol("is html");function Mt(e,t,n,r){var a=Co(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[oi]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ro(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Co(e){return e.__attributes??(e.__attributes={[ko]:e.nodeName.includes("-"),[No]:e.namespaceURI===La})}var pa=new Map;function Ro(e){var t=e.getAttribute("is")||e.nodeName,n=pa.get(t);if(n)return n;pa.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=ei(a);for(var i in r)r[i].set&&n.push(i);a=Ca(a)}return n}function ta(e,t,n=t){var r=new WeakSet;no(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=xr(e)?Ar(s):s,n(s),V!==null&&r.add(V),await fo(),s!==(s=t())){var i=e.selectionStart,c=e.selectionEnd,l=e.value.length;if(e.value=s??"",c!==null){var u=e.value.length;i===c&&c===l&&u>l?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=i,e.selectionEnd=Math.min(c,u))}}}),Er(t)==null&&e.value&&(n(xr(e)?Ar(e.value):e.value),V!==null&&r.add(V)),Xr(()=>{var a=t();if(e===document.activeElement){var s=Or??V;if(r.has(s))return}xr(e)&&a===Ar(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function xr(e){var t=e.type;return t==="number"||t==="range"}function Ar(e){return e===""?null:+e}function ha(e,t){return e===t||(e==null?void 0:e[Bn])===t}function dr(e={},t,n,r){return io(()=>{var a,s;return Xr(()=>{a=s,s=[],Er(()=>{e!==n(...s)&&(t(e,...s),a&&ha(n(...a),e)&&t(null,...a))})}),()=>{Tt(()=>{s&&ha(n(...s),e)&&t(null,...s)})}}),e}let rr=!1;function Io(e){var t=rr;try{return rr=!1,[e(),rr]}finally{rr=t}}function rn(e,t,n,r){var k;var a=!$n||(n&Ti)!==0,s=(n&Ai)!==0,i=(n&ki)!==0,c=r,l=!0,u=()=>(l&&(l=!1,c=i?Er(r):r),c),d;if(s){var g=Bn in e||ii in e;d=((k=fn(e,t))==null?void 0:k.set)??(g&&t in e?N=>e[t]=N:void 0)}var v,h=!1;s?[v,h]=Io(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(a&&gi(),d(v)));var m;if(a?m=()=>{var N=e[t];return N===void 0?u():(l=!0,N)}:m=()=>{var N=e[t];return N!==void 0&&(c=void 0),N===void 0?c:N},a&&(n&xi)===0)return m;if(d){var E=e.$$legacy;return(function(N,C){return arguments.length>0?((!a||!C||E||h)&&d(C?m():N),N):m()})}var f=!1,b=((n&Si)!==0?br:Yr)(()=>(f=!1,m()));s&&o(b);var R=ee;return(function(N,C){if(arguments.length>0){const O=C?o(b):a&&s?qe(N):N;return w(b,O),f=!0,c!==void 0&&(c=O),N}return Ut&&f||(R.f&St)!==0?b.v:o(b)})}const Oo="5";var ka;typeof window<"u"&&((ka=window.__svelte??(window.__svelte={})).v??(ka.v=new Set)).add(Oo);const na="aletheia_token";function Cn(){return localStorage.getItem(na)}function bs(e){localStorage.setItem(na,e)}function Mo(){localStorage.removeItem(na)}function Lo(){const e=Cn();return{...e?{Authorization:`Bearer ${e}`}:{},"Content-Type":"application/json"}}async function Rn(e,t){const n=window.location.origin,r=await fetch(`${n}${e}`,{...t,headers:{...Lo(),...t==null?void 0:t.headers}});if(r.status===401)throw new Error("Unauthorized — check your token");if(!r.ok){const a=await r.text();throw new Error(`API error ${r.status}: ${a}`)}return r.json()}async function Do(){return(await Rn("/api/agents")).agents}async function Po(e){return Rn(`/api/agents/${e}/identity`)}async function Bo(e){const t=e?`?nousId=${e}`:"";return(await Rn(`/api/sessions${t}`)).sessions}async function Uo(e,t=100){return(await Rn(`/api/sessions/${e}/history?limit=${t}`)).messages}async function zo(){return Rn("/api/metrics")}async function Fo(){return Rn("/api/costs/summary")}let it=null,kr=null,or=1e3;const Ho=3e4,Kr=new Set;function qo(e){return Kr.add(e),()=>Kr.delete(e)}function ar(e,t){for(const n of Kr)try{n(e,t)}catch{}}function Go(){it||ys()}function ys(){const e=Cn(),n=`${window.location.origin}/api/events${e?`?token=${encodeURIComponent(e)}`:""}`;it=new EventSource(n),it.onopen=()=>{or=1e3,ar("connection",{status:"connected"})},it.onerror=()=>{ar("connection",{status:"disconnected"}),it==null||it.close(),it=null,Ko()},it.addEventListener("init",a=>{try{ar("init",JSON.parse(a.data))}catch{}});const r=["turn:before","turn:after","turn:text_delta","turn:tool_start","turn:tool_result","tool:called","tool:failed","session:created","session:archived"];for(const a of r)it.addEventListener(a,s=>{try{ar(a,JSON.parse(s.data))}catch{}})}function Ko(){kr||(kr=setTimeout(()=>{kr=null,or=Math.min(or*2,Ho),ys()},or))}let Es=q("disconnected");function ba(){return o(Es)}function Wo(){qo((e,t)=>{e==="connection"&&w(Es,t.status,!0)}),Go()}let ra=q(qe([])),Kn=q(null),ya=q(!1);const lr=new Map;function ws(){return o(ra)}function Ss(){return o(ra).find(e=>e.id===o(Kn))??null}function Fn(){return o(Kn)}async function Zo(){w(ya,!0);try{const e=await Do(),t=e.filter(n=>!lr.has(n.id));if(t.length>0){const n=await Promise.allSettled(t.map(r=>Po(r.id).then(a=>({id:r.id,identity:a}))));for(const r of n)r.status==="fulfilled"&&lr.set(r.value.id,r.value.identity)}for(const n of e){const r=lr.get(n.id);r&&(n.name=r.name||n.name,n.emoji=r.emoji)}w(ra,e,!0),!o(Kn)&&e.length>0&&w(Kn,e[0].id,!0)}finally{w(ya,!1)}}function Ts(e){w(Kn,e,!0)}function jo(e){var t;return((t=lr.get(e))==null?void 0:t.emoji)??null}var Yo=A('<span class="agent-emoji svelte-mc3eh3"> </span>'),Vo=A('<span class="active-agent svelte-mc3eh3"><!> </span>'),$o=A('<div class="settings-panel svelte-mc3eh3"><label class="settings-label svelte-mc3eh3">Gateway Token <input type="password" class="settings-input svelte-mc3eh3" placeholder="Enter gateway auth token"/></label> <div class="settings-actions svelte-mc3eh3"><button class="btn-primary svelte-mc3eh3">Save</button> <button class="btn-ghost svelte-mc3eh3">Clear & Logout</button> <button class="btn-ghost svelte-mc3eh3">Cancel</button></div></div>'),Xo=A('<header class="topbar svelte-mc3eh3"><div class="left svelte-mc3eh3"><button aria-label="Toggle sidebar"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" class="svelte-mc3eh3"><rect x="1" y="2" width="16" height="14" rx="2" stroke="currentColor" stroke-width="1.5" fill="none" class="svelte-mc3eh3"></rect><line x1="6.5" y1="2" x2="6.5" y2="16" stroke="currentColor" stroke-width="1.5" class="svelte-mc3eh3"></line></svg></button> <h1 class="title svelte-mc3eh3">Aletheia</h1> <span></span> <!></div> <div class="right svelte-mc3eh3"><button>Metrics</button> <button class="topbar-btn svelte-mc3eh3">Settings</button></div></header> <!>',1);function Jo(e,t){Re(t,!0);let n=rn(t,"sidebarCollapsed",3,!1),r=q(!1),a=q(qe(Cn()??"")),s=ne(Ss);function i(){o(a).trim()&&(bs(o(a).trim()),w(r,!1),location.reload())}function c(){Mo(),location.reload()}var l=Xo(),u=nn(l),d=p(u),g=p(d);let v;var h=S(g,4);let m;var E=S(h,2);{var f=B=>{var x=Vo(),L=p(x);{var G=se=>{var I=Yo(),z=p(I);F(()=>P(z,o(s).emoji)),T(se,I)};H(L,se=>{o(s).emoji&&se(G)})}var ae=S(L);F(()=>P(ae,` ${o(s).name??""}`)),T(B,x)};H(E,B=>{o(s)&&B(f)})}var b=S(d,2),R=p(b);let k;var N=S(R,2),C=S(u,2);{var O=B=>{var x=$o(),L=p(x),G=S(p(L)),ae=S(L,2),se=p(ae),I=S(se,2),z=S(I,2);ta(G,()=>o(a),j=>w(a,j)),ie("click",se,i),ie("click",I,c),ie("click",z,()=>w(r,!1)),T(B,x)};H(C,B=>{o(r)&&B(O)})}F(B=>{v=he(g,1,"sidebar-toggle svelte-mc3eh3",null,v,{open:!n()}),Mt(g,"title",n()?"Show agents":"Hide agents"),m=he(h,1,"status-dot svelte-mc3eh3",null,m,B),k=he(R,1,"topbar-btn svelte-mc3eh3",null,k,{active:t.showMetrics})},[()=>({connected:ba()==="connected",connecting:ba()==="connecting"})]),ie("click",g,function(...B){var x;(x=t.onToggleSidebar)==null||x.apply(this,B)}),ie("click",R,function(...B){var x;(x=t.onToggleMetrics)==null||x.apply(this,B)}),ie("click",N,()=>w(r,!o(r))),T(e,l),Ie()}Nt(["click"]);function Dn(e){return e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?Math.round(e/1e3)+"k":String(e):"0"}function Qo(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`}function cr(e){if(!e)return"never";const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function Ea(e){return`$${e.toFixed(4)}`}function el(e){return e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`}function tl(e){try{return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return""}}var nl=A('<span class="emoji svelte-9yl1a2"> </span>'),rl=A('<span class="initials svelte-9yl1a2"> </span>'),al=A('<span class="activity svelte-9yl1a2"> </span>'),sl=A('<button><span class="avatar svelte-9yl1a2"><!></span> <span class="info svelte-9yl1a2"><span class="name svelte-9yl1a2"> </span> <!></span></button>');function il(e,t){Re(t,!0);let n=rn(t,"isActive",3,!1);var r=sl();let a;var s=p(r),i=p(s);{var c=m=>{var E=nl(),f=p(E);F(()=>P(f,t.agent.emoji)),T(m,E)},l=m=>{var E=rl(),f=p(E);F(b=>P(f,b),[()=>t.agent.name.slice(0,2).toUpperCase()]),T(m,E)};H(i,m=>{t.agent.emoji?m(c):m(l,!1)})}var u=S(s,2),d=p(u),g=p(d),v=S(d,2);{var h=m=>{var E=al(),f=p(E);F(b=>P(f,b),[()=>cr(t.lastActivity)]),T(m,E)};H(v,m=>{t.lastActivity&&m(h)})}F(()=>{a=he(r,1,"agent-card svelte-9yl1a2",null,a,{active:n()}),P(g,t.agent.name)}),ie("click",r,function(...m){var E;(E=t.onclick)==null||E.apply(this,m)}),T(e,r),Ie()}Nt(["click"]);let dn=q(qe([])),vn=q(null),wa=q(!1);function xs(){return o(dn).find(e=>e.id===o(vn))??null}function ol(){return o(vn)}async function fr(e){w(wa,!0);try{const t=await Bo(e);if(w(dn,t.filter(n=>!n.sessionKey.startsWith("cron:")&&!n.sessionKey.startsWith("agent:")&&!n.sessionKey.startsWith("prosoche")),!0),o(dn).length>0){if(!o(dn).find(r=>r.id===o(vn))){const r=o(dn).find(a=>a.sessionKey.startsWith("signal:"));w(vn,(r==null?void 0:r.id)??o(dn)[0].id,!0)}}else w(vn,null)}finally{w(wa,!1)}}function ll(){const e=xs();return(e==null?void 0:e.sessionKey)??`web:${Date.now()}`}function cl(e){const t=`web:${Date.now()}`;return w(vn,null),t}function ul(e){fr(e)}var dl=A('<aside><div class="agent-list svelte-1m85e6v"></div></aside>');function fl(e,t){Re(t,!0);let n=rn(t,"collapsed",3,!1);function r(c){var l;Ts(c),fr(c),(l=t.onAgentSelect)==null||l.call(t)}ft(()=>{const c=Fn();c&&fr(c)});var a=dl();let s;var i=p(a);vt(i,21,ws,Bt,(c,l)=>{{let u=ne(()=>o(l).id===Fn());il(c,{get agent(){return o(l)},get isActive(){return o(u)},onclick:()=>r(o(l).id)})}}),F(()=>s=he(a,1,"sidebar svelte-1m85e6v",null,s,{collapsed:n()})),T(e,a),Ie()}const vr="[A-Za-z$_][0-9A-Za-z$_]*",As=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ks=["true","false","null","undefined","NaN","Infinity"],Ns=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Cs=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Rs=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Is=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Os=[].concat(Rs,Ns,Cs);function vl(e){const t=e.regex,n=(M,{after:K})=>{const Z="</"+M[0].slice(1);return M.input.indexOf(Z,K)!==-1},r=vr,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,K)=>{const Z=M[0].length+M.index,ce=M.input[Z];if(ce==="<"||ce===","){K.ignoreMatch();return}ce===">"&&(n(M,{after:Z})||K.ignoreMatch());let de;const Te=M.input.substring(Z);if(de=Te.match(/^\s*=/)){K.ignoreMatch();return}if((de=Te.match(/^\s+extends\s+/))&&de.index===0){K.ignoreMatch();return}}},c={$pattern:vr,keyword:As,literal:ks,built_in:Os,"variable.language":Is},l="[0-9](_?[0-9])*",u=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},v={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"graphql"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,v]},R={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,E,f,{match:/\$\d+/},g];v.contains=k.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(k)});const N=[].concat(R,v.contains),C=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(N)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:C},B={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},x={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ns,...Cs]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},G={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},ae={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function se(M){return t.concat("(?!",M.join("|"),")")}const I={match:t.concat(/\b/,se([...Rs,"super","import"].map(M=>`${M}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},re="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(re)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:x},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,E,f,R,{match:/\$\d+/},g,x,{scope:"attr",match:r+t.lookahead(":"),relevance:0},U,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[R,e.REGEXP_MODE,{className:"function",begin:re,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},G,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},I,ae,B,j,{match:/\$[(.]/}]}}function Ms(e){const t=e.regex,n=vl(e),r=vr,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},i={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},c={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:vr,keyword:As.concat(l),literal:ks,built_in:Os.concat(a),"variable.language":Is},d={className:"meta",begin:"@"+r},g=(E,f,b)=>{const R=E.contains.findIndex(k=>k.label===f);if(R===-1)throw new Error("can not find mode to replace");E.contains.splice(R,1,b)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const v=n.contains.find(E=>E.scope==="attr"),h=Object.assign({},v,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,v,h]),n.contains=n.contains.concat([d,s,i,h]),g(n,"shebang",e.SHEBANG()),g(n,"use_strict",c);const m=n.contains.find(E=>E.label==="func.def");return m.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}const Sa="[A-Za-z$_][0-9A-Za-z$_]*",gl=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ml=["true","false","null","undefined","NaN","Infinity"],Ls=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ds=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ps=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],_l=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],pl=[].concat(Ps,Ls,Ds);function Bs(e){const t=e.regex,n=(M,{after:K})=>{const Z="</"+M[0].slice(1);return M.input.indexOf(Z,K)!==-1},r=Sa,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,K)=>{const Z=M[0].length+M.index,ce=M.input[Z];if(ce==="<"||ce===","){K.ignoreMatch();return}ce===">"&&(n(M,{after:Z})||K.ignoreMatch());let de;const Te=M.input.substring(Z);if(de=Te.match(/^\s*=/)){K.ignoreMatch();return}if((de=Te.match(/^\s+extends\s+/))&&de.index===0){K.ignoreMatch();return}}},c={$pattern:Sa,keyword:gl,literal:ml,built_in:pl,"variable.language":_l},l="[0-9](_?[0-9])*",u=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},v={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"graphql"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,v]},R={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,E,f,{match:/\$\d+/},g];v.contains=k.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(k)});const N=[].concat(R,v.contains),C=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(N)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:C},B={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},x={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ls,...Ds]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},G={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},ae={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function se(M){return t.concat("(?!",M.join("|"),")")}const I={match:t.concat(/\b/,se([...Ps,"super","import"].map(M=>`${M}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},re="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(re)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:x},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,E,f,R,{match:/\$\d+/},g,x,{scope:"attr",match:r+t.lookahead(":"),relevance:0},U,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[R,e.REGEXP_MODE,{className:"function",begin:re,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},G,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},I,ae,B,j,{match:/\$[(.]/}]}}function hl(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],c={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:c,illegal:/#/},d={begin:/\{\{/,relevance:0},g={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},v="[0-9](_?[0-9])*",h=`(\\b(${v}))?\\.(${v})|\\b(${v})\\.`,m=`\\b|${r.join("|")}`,E={className:"number",relevance:0,variants:[{begin:`(\\b(${v})|(${h}))[eE][+-]?(${v})[jJ]?(?=${m})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${v})[jJ](?=${m})`}]},f={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:c,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:["self",l,E,g,e.HASH_COMMENT_MODE]}]};return u.contains=[g,E,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:c,illegal:/(<\/|\?)|=>/,contains:[l,E,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},g,f,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[E,b,g]}]}}function aa(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},c={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,a]};a.contains.push(c);const l={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},v=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=e.SHEBANG({binary:`(${v.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},E=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],f=["true","false"],b={match:/(\/[a-z._-]+)+/},R=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],k=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],N=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:E,literal:f,built_in:[...R,...k,"set","shopt",...N,...C]},contains:[h,e.SHEBANG(),m,g,s,i,b,c,l,u,d,n]}}function bl(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],a={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Us(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},i={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},c=e.inherit(i,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),v={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},h={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},m={begin:/\{/,end:/\}/,contains:[h],illegal:"\\n",relevance:0},E={begin:"\\[",end:"\\]",contains:[h],illegal:"\\n",relevance:0},f=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},v,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},m,E,s,i],b=[...f];return b.pop(),b.push(c),h.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:f}}function yl(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],i=["double precision","large object","with timezone","without timezone"],c=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],g=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],v=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=d,m=[...u,...l].filter(C=>!d.includes(C)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},f={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:t.concat(/\b/,t.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function R(C){return t.concat(/\b/,t.either(...C.map(O=>O.replace(/\s+/,"\\s+"))),/\b/)}const k={scope:"keyword",match:R(v),relevance:0};function N(C,{exceptions:O,when:B}={}){const x=B;return O=O||[],C.map(L=>L.match(/\|\d+$/)||O.includes(L)?L:x(L)?`${L}|0`:L)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:N(m,{when:C=>C.length<3}),literal:s,type:c,built_in:g},contains:[{scope:"type",match:R(i)},k,b,E,r,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,f]}}function zs(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},i={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},g=e.inherit(u,{contains:[]}),v=e.inherit(d,{contains:[]});u.contains.push(v),d.contains.push(g);let h=[n,l];return[u,d,g,v].forEach(b=>{b.contains=b.contains.concat(h)}),h=h.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},a,r,l,i,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function Fs(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(s,{begin:/\(/,end:/\)/}),c=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,c,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,i,l,c]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const El=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),wl=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Sl=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Tl=[...wl,...Sl],xl=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Al=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),kl=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Nl=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Cl(e){const t=e.regex,n=El(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",s=/@-?\w[\w]*(-\w+)*/,i="[a-zA-Z-][a-zA-Z0-9_-]*",c=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+i,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Al.join("|")+")"},{begin:":(:)?("+kl.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Nl.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:xl.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Tl.join("|")+")\\b"}]}}const Rl=new $s({breaks:!0,gfm:!0});we.registerLanguage("typescript",Ms);we.registerLanguage("javascript",Bs);we.registerLanguage("python",hl);we.registerLanguage("bash",aa);we.registerLanguage("shell",aa);we.registerLanguage("sh",aa);we.registerLanguage("json",bl);we.registerLanguage("yaml",Us);we.registerLanguage("yml",Us);we.registerLanguage("sql",yl);we.registerLanguage("markdown",zs);we.registerLanguage("md",zs);we.registerLanguage("xml",Fs);we.registerLanguage("html",Fs);we.registerLanguage("css",Cl);we.registerLanguage("ts",Ms);we.registerLanguage("js",Bs);function Il(e){const t=Rl.parse(e,{async:!1});return Xs.sanitize(t,{ADD_ATTR:["class"]})}var Ol=A('<div class="markdown-body svelte-xioz66"><!></div>');function Hs(e,t){Re(t,!0);let n=ne(()=>Il(t.content)),r=q(null);ft(()=>{o(n),o(r)&&requestAnimationFrame(()=>{const i=o(r).querySelectorAll("pre");for(const c of i){if(c.querySelector(".copy-btn"))continue;const l=document.createElement("button");l.className="copy-btn",l.textContent="Copy",l.setAttribute("aria-label","Copy code to clipboard"),l.addEventListener("click",()=>{var d;const u=((d=c.querySelector("code"))==null?void 0:d.textContent)??c.textContent??"";navigator.clipboard.writeText(u).then(()=>{l.textContent="Copied!",l.classList.add("copied"),setTimeout(()=>{l.textContent="Copy",l.classList.remove("copied")},2e3)})}),c.style.position="relative",c.appendChild(l)}})});var a=Ol(),s=p(a);To(s,()=>o(n)),dr(a,i=>w(r,i),()=>o(r)),T(e,a),Ie()}var Ml=A('<span class="chat-avatar-text">You</span>'),Ll=A('<span class="chat-avatar-emoji"> </span>'),Dl=A('<span class="chat-avatar-text"> </span>'),Pl=A('<button><span class="chat-tool-icon">⚙</span> </button>'),Bl=A('<button class="media-thumb svelte-dfflq6"><img class="svelte-dfflq6"/></button>'),Ul=A('<div class="file-attachment svelte-dfflq6"><span class="file-att-icon svelte-dfflq6">📄</span> <span class="file-att-name svelte-dfflq6"> </span></div>'),zl=A('<div class="file-attachment svelte-dfflq6"><span class="file-att-icon svelte-dfflq6">📝</span> <span class="file-att-name svelte-dfflq6"> </span></div>'),Fl=A("<div></div>"),Hl=A('<div class="user-text svelte-dfflq6"> </div>'),ql=A('<div class="chat-content"><!></div>'),Gl=A('<div class="lightbox svelte-dfflq6" role="dialog" tabindex="-1"><img alt="Expanded view" class="svelte-dfflq6"/> <button class="lightbox-close svelte-dfflq6" aria-label="Close">×</button></div>'),Kl=A('<div><div><!></div> <div class="chat-body"><!> <!> <!> <div class="timestamp svelte-dfflq6"> </div></div></div> <!>',1);function Wl(e,t){Re(t,!0);let n=ne(()=>t.message.role==="user"),r=ne(()=>t.agentName?t.agentName.slice(0,2).toUpperCase():"AI"),a=ne(()=>t.message.media&&t.message.media.length>0);function s(I){const z=I.filter(re=>re.status==="running").length,j=I.filter(re=>re.status==="error").length;return z>0?`${I.length} tools running...`:j>0?`${I.length} tools (${j} failed)`:`${I.length} tool${I.length===1?"":"s"} used`}let i=q(null);function c(I){w(i,I,!0)}function l(){w(i,null)}var u=Kl(),d=nn(u);let g;var v=p(d);let h;var m=p(v);{var E=I=>{var z=Ml();T(I,z)},f=I=>{var z=Ll(),j=p(z);F(()=>P(j,t.agentEmoji)),T(I,z)},b=I=>{var z=Dl(),j=p(z);F(()=>P(j,o(r))),T(I,z)};H(m,I=>{o(n)?I(E):t.agentEmoji?I(f,1):I(b,!1)})}var R=S(v,2),k=p(R);{var N=I=>{var z=Pl();let j;var re=S(p(z));F((U,M)=>{j=he(z,1,"chat-tool-pill",null,j,U),P(re,` ${M??""}`)},[()=>({"has-error":t.message.toolCalls.some(U=>U.status==="error")}),()=>s(t.message.toolCalls)]),ie("click",z,()=>{var U;return(U=t.onToolClick)==null?void 0:U.call(t,t.message.toolCalls)}),T(I,z)};H(k,I=>{t.message.toolCalls&&t.message.toolCalls.length>0&&I(N)})}var C=S(k,2);{var O=I=>{var z=Fl();let j;vt(z,21,()=>t.message.media,Bt,(re,U)=>{var M=ps(),K=nn(M);{var Z=fe=>{var Se=Bl(),Oe=p(Se);F(()=>{Mt(Oe,"src",`data:${o(U).contentType??""};base64,${o(U).data??""}`),Mt(Oe,"alt",o(U).filename??"image")}),ie("click",Se,()=>c(`data:${o(U).contentType};base64,${o(U).data}`)),T(fe,Se)},ce=ne(()=>o(U).contentType.startsWith("image/")),de=fe=>{var Se=Ul(),Oe=S(p(Se),2),nt=p(Oe);F(()=>P(nt,o(U).filename??"document.pdf")),T(fe,Se)},Te=fe=>{var Se=zl(),Oe=S(p(Se),2),nt=p(Oe);F(()=>P(nt,o(U).filename??"file")),T(fe,Se)};H(K,fe=>{o(ce)?fe(Z):o(U).contentType==="application/pdf"?fe(de,1):fe(Te,!1)})}T(re,M)}),F(()=>j=he(z,1,"msg-media svelte-dfflq6",null,j,{single:t.message.media.length===1,grid:t.message.media.length>1})),T(I,z)};H(C,I=>{o(a)&&I(O)})}var B=S(C,2);{var x=I=>{var z=ql(),j=p(z);{var re=M=>{var K=Hl(),Z=p(K);F(()=>P(Z,t.message.content)),T(M,K)},U=M=>{Hs(M,{get content(){return t.message.content}})};H(j,M=>{o(n)?M(re):M(U,!1)})}T(I,z)};H(B,I=>{t.message.content&&I(x)})}var L=S(B,2),G=p(L),ae=S(d,2);{var se=I=>{var z=Gl(),j=p(z),re=S(j,2);F(()=>Mt(j,"src",o(i))),ie("click",z,l),ie("keydown",z,U=>U.key==="Escape"&&l()),ie("click",re,l),T(I,z)};H(ae,I=>{o(i)&&I(se)})}F(I=>{g=he(d,1,"chat-msg",null,g,{user:o(n),assistant:!o(n)}),h=he(v,1,"chat-avatar",null,h,{user:o(n),agent:!o(n)}),P(G,I)},[()=>tl(t.message.timestamp)]),T(e,u),Ie()}Nt(["click","keydown"]);Mi();var Zl=A('<span class="dots svelte-76byqe"><span class="dot svelte-76byqe"></span> <span class="dot svelte-76byqe"></span> <span class="dot svelte-76byqe"></span></span>');function jl(e){var t=Zl();T(e,t)}var Yl=A('<div class="empty-emoji svelte-12m7xaa"> </div>'),Vl=A('<div class="empty-initials svelte-12m7xaa"> </div>'),$l=A('<div class="empty-state svelte-12m7xaa"><!> <p>Send a message to start a conversation.</p></div>'),Xl=A('<span class="chat-avatar-emoji"> </span>'),Jl=A('<span class="chat-avatar-text"> </span>'),Ql=A('<span class="activity-duration svelte-12m7xaa"> </span>'),ec=A('<span class="activity-spinner svelte-12m7xaa"></span>'),tc=A('<div><span> </span> <span class="activity-label svelte-12m7xaa"> </span> <!> <!></div>'),nc=A('<div class="activity-feed svelte-12m7xaa"></div>'),rc=A('<div class="chat-content"><!></div>'),ac=A('<div class="chat-msg assistant streaming"><div class="chat-avatar agent"><!></div> <div class="chat-body"><!> <!></div></div>'),sc=A("<!> <!>",1),ic=A('<button class="scroll-btn svelte-12m7xaa">New messages below</button>'),oc=A('<div class="message-list svelte-12m7xaa"><!> <!></div>');function lc(e,t){Re(t,!0);let n=ne(()=>t.agentName?t.agentName.slice(0,2).toUpperCase():"AI"),r=q(null),a=q(!0);function s(){if(!o(r))return;w(a,o(r).scrollHeight-o(r).scrollTop-o(r).clientHeight<100)}function i(){o(r)&&(o(r).scrollTop=o(r).scrollHeight)}ft(()=>{t.messages.length,t.streamingText,t.activeToolCalls.length,o(a)&&requestAnimationFrame(i)});function c(f){const b=f.name;switch(b){case"exec":return"Running command";case"read":return"Reading file";case"write":return"Writing file";case"edit":return"Editing file";case"grep":return"Searching files";case"find":return"Finding files";case"ls":return"Listing directory";case"web_search":return"Searching web";case"web_fetch":return"Fetching page";case"mem0_search":return"Searching memory";case"blackboard":return"Checking blackboard";case"sessions_send":return"Messaging agent";case"sessions_ask":return"Asking agent";case"sessions_spawn":return"Spawning worker";case"message":return"Sending message";case"enable_tool":return"Enabling tool";default:return b.replace(/_/g," ")}}function l(f){switch(f){case"running":return"◌";case"complete":return"✓";case"error":return"✕";default:return"·"}}function u(f){return f==null?"":f<1e3?`${f}ms`:`${(f/1e3).toFixed(1)}s`}var d=oc(),g=p(d);{var v=f=>{var b=$l(),R=p(b);{var k=C=>{var O=Yl(),B=p(O);F(()=>P(B,t.agentEmoji)),T(C,O)},N=C=>{var O=Vl(),B=p(O);F(()=>P(B,o(n))),T(C,O)};H(R,C=>{t.agentEmoji?C(k):C(N,!1)})}T(f,b)},h=f=>{var b=sc(),R=nn(b);vt(R,17,()=>t.messages,C=>C.id,(C,O)=>{Wl(C,{get message(){return o(O)},get agentName(){return t.agentName},get agentEmoji(){return t.agentEmoji},get onToolClick(){return t.onToolClick}})});var k=S(R,2);{var N=C=>{var O=ac(),B=p(O),x=p(B);{var L=U=>{var M=Xl(),K=p(M);F(()=>P(K,t.agentEmoji)),T(U,M)},G=U=>{var M=Jl(),K=p(M);F(()=>P(K,o(n))),T(U,M)};H(x,U=>{t.agentEmoji?U(L):U(G,!1)})}var ae=S(B,2),se=p(ae);{var I=U=>{var M=nc();vt(M,21,()=>t.activeToolCalls,K=>K.id,(K,Z)=>{var ce=tc();let de;var Te=p(ce);let fe;var Se=p(Te),Oe=S(Te,2),nt=p(Oe),sn=S(Oe,2);{var on=W=>{var oe=Ql(),Fe=p(oe);F(Me=>P(Fe,Me),[()=>u(o(Z).durationMs)]),T(W,oe)};H(sn,W=>{o(Z).durationMs!=null&&W(on)})}var In=S(sn,2);{var te=W=>{var oe=ec();T(W,oe)};H(In,W=>{o(Z).status==="running"&&W(te)})}F((W,oe)=>{de=he(ce,1,"activity-item svelte-12m7xaa",null,de,{running:o(Z).status==="running",error:o(Z).status==="error"}),fe=he(Te,1,"activity-status svelte-12m7xaa",null,fe,{running:o(Z).status==="running",complete:o(Z).status==="complete",error:o(Z).status==="error"}),P(Se,W),P(nt,oe)},[()=>l(o(Z).status),()=>c(o(Z))]),T(K,ce)}),T(U,M)};H(se,U=>{t.activeToolCalls.length>0&&U(I)})}var z=S(se,2);{var j=U=>{var M=rc(),K=p(M);Hs(K,{get content(){return t.streamingText}}),T(U,M)},re=U=>{jl(U)};H(z,U=>{t.streamingText?U(j):t.activeToolCalls.length===0&&U(re,1)})}T(C,O)};H(k,C=>{t.isStreaming&&C(N)})}T(f,b)};H(g,f=>{t.messages.length===0&&!t.isStreaming?f(v):f(h,!1)})}var m=S(g,2);{var E=f=>{var b=ic();ie("click",b,i),T(f,b)};H(m,f=>{!o(a)&&t.isStreaming&&f(E)})}dr(d,f=>w(r,f),()=>o(r)),Wt("scroll",d,s),T(e,d),Ie()}Nt(["click"]);var cc=A('<div class="context-bar svelte-dgb2n2"><div class="context-fill svelte-dgb2n2"></div></div>'),uc=A('<button><span class="slash-cmd svelte-dgb2n2"> </span> <span class="slash-desc svelte-dgb2n2"> </span></button>'),dc=A('<div class="slash-menu svelte-dgb2n2"></div>'),fc=A('<div class="queued-indicator svelte-dgb2n2"><span class="queued-text svelte-dgb2n2"> </span> <button class="queued-cancel svelte-dgb2n2" aria-label="Cancel queued message">×</button></div>'),vc=A('<img class="svelte-dgb2n2"/>'),gc=A('<span class="file-emoji svelte-dgb2n2">📄</span>'),mc=A('<span class="file-emoji svelte-dgb2n2">📝</span>'),_c=A('<span class="file-emoji svelte-dgb2n2">📎</span>'),pc=A('<div class="file-icon svelte-dgb2n2"><!></div>'),hc=A('<span class="attachment-name svelte-dgb2n2"> </span>'),bc=A('<div class="attachment-thumb svelte-dgb2n2"><!> <button class="remove-btn svelte-dgb2n2" aria-label="Remove attachment">×</button> <!></div>'),yc=A('<div class="attachment-preview svelte-dgb2n2"></div>'),Ec=A('<button class="stop-btn svelte-dgb2n2" aria-label="Stop generating" title="Stop generating (Esc)"><span class="stop-icon svelte-dgb2n2">■</span></button>'),wc=A('<div class="drag-overlay svelte-dgb2n2"><div class="drag-label svelte-dgb2n2">Drop file to attach</div></div>'),Sc=A('<div><!> <div class="input-area svelte-dgb2n2"><!> <!> <!> <div><!> <button class="attach-btn svelte-dgb2n2" title="Attach file (images, PDFs, text, code)" aria-label="Attach file"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"></path></svg></button> <textarea rows="1" class="svelte-dgb2n2"></textarea> <button> </button></div> <input type="file" accept="image/*,application/pdf,.json,.xml,.csv,.md,.txt,.html,.yaml,.yml,.toml,.log,.py,.js,.ts,.sh,.sql,.css,.rs,.go,.java,.c,.cpp,.h,.rb,.swift" multiple="" class="hidden-file-input svelte-dgb2n2"/></div> <!></div>');function Tc(e,t){Re(t,!0);let n=rn(t,"contextPercent",3,0),r=rn(t,"slashCommands",19,()=>[]),a=q(""),s=q(null),i=q(null),c=q(!1),l=q(0),u=q(qe([])),d=q(null),g=q(!1);const v=25*1024*1024,h=["image/jpeg","image/png","image/gif","image/webp"],m=["application/pdf"],E=["text/plain","text/csv","text/markdown","text/html","text/xml","application/json","application/xml"],f=[...h,...m,...E];function b(y){return E.includes(y)||y.startsWith("text/")}function R(y){return h.includes(y)}let k=ne(()=>o(a).startsWith("/")?r().filter(y=>y.command.startsWith(o(a).trim())):[]);ft(()=>{w(c,o(k).length>0&&o(a).startsWith("/"),!0),o(c)&&w(l,0)}),ft(()=>{if(!t.isStreaming&&o(s)){const y=o(s);w(s,null),t.onSend(y)}});function N(y){var J;if(y.type&&(f.includes(y.type)||y.type.startsWith("text/")))return y.type;const D=(J=y.name.split(".").pop())==null?void 0:J.toLowerCase(),X={pdf:"application/pdf",json:"application/json",xml:"application/xml",csv:"text/csv",md:"text/markdown",txt:"text/plain",html:"text/html",htm:"text/html",yaml:"text/yaml",yml:"text/yaml",toml:"text/plain",log:"text/plain",py:"text/plain",js:"text/plain",ts:"text/plain",sh:"text/plain",sql:"text/plain",css:"text/plain",rs:"text/plain",go:"text/plain",java:"text/plain",c:"text/plain",cpp:"text/plain",h:"text/plain",rb:"text/plain",swift:"text/plain"};return D&&X[D]?X[D]:null}function C(y){return new Promise(D=>{const X=N(y);if(!X){D(null);return}if(y.size>v){D(null);return}const J=new FileReader;J.onload=()=>{const ve=J.result,ue=ve.match(/^data:[^;]+;base64,(.+)$/),ge=ue?ue[1]:ve;D({contentType:X,data:ge,filename:y.name})},J.onerror=()=>D(null),J.readAsDataURL(y)})}async function O(y){const D=Array.from(y);for(const X of D){if(o(u).length>=4)break;const J=await C(X);J&&w(u,[...o(u),J],!0)}}function B(y){w(u,o(u).filter((D,X)=>X!==y),!0)}function x(){var y;(y=o(d))==null||y.click()}function L(y){const D=y.target;D.files&&(O(D.files),D.value="")}function G(y){y.preventDefault(),w(g,!0)}function ae(y){y.preventDefault(),w(g,!1)}function se(y){var D;y.preventDefault(),w(g,!1),(D=y.dataTransfer)!=null&&D.files&&O(y.dataTransfer.files)}function I(y){var J;const D=(J=y.clipboardData)==null?void 0:J.items;if(!D)return;const X=[];for(const ve of D)if(ve.kind==="file"){const ue=ve.getAsFile();ue&&N(ue)&&X.push(ue)}X.length>0&&(y.preventDefault(),O(X))}function z(y){if(o(c)){if(y.key==="ArrowDown"){y.preventDefault(),w(l,(o(l)+1)%o(k).length);return}if(y.key==="ArrowUp"){y.preventDefault(),w(l,(o(l)-1+o(k).length)%o(k).length);return}if(y.key==="Tab"||y.key==="Enter"&&!y.shiftKey){y.preventDefault();const D=o(k)[o(l)];D&&(w(a,D.command,!0),w(c,!1),y.key==="Enter"&&j());return}if(y.key==="Escape"){y.preventDefault(),w(c,!1);return}}y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),j())}function j(){const y=o(a).trim();if(!(y||o(u).length>0))return;if(t.isStreaming){y&&(w(s,y,!0),w(a,""),o(i)&&(o(i).style.height="40px"));return}const X=o(u).length>0?[...o(u)]:void 0,ve=(X==null?void 0:X.some(ge=>R(ge.contentType)))?"What's in this image?":"Please review this file.",ue=y||(X?ve:"");t.onSend(ue,X),w(a,""),w(u,[],!0),w(c,!1),o(i)&&(o(i).style.height="40px")}function re(){o(i)&&(o(i).style.height="40px",o(i).style.height=Math.min(o(i).scrollHeight,200)+"px")}function U(y){const D=o(k)[y];D&&(w(a,D.command,!0),w(c,!1),j())}ft(()=>{!t.isStreaming&&o(i)&&o(i).focus()});let M=ne(()=>n()>80?"var(--red)":n()>60?"var(--yellow)":"var(--accent)"),K=ne(()=>o(a).trim().length>0||o(u).length>0);var Z=Sc();let ce;var de=p(Z);{var Te=y=>{var D=cc(),X=p(D);F(()=>{Mt(D,"title",`Context window: ${n()??""}% used`),hs(X,`width: ${n()??""}%; background: ${o(M)??""};`)}),T(y,D)};H(de,y=>{n()>0&&y(Te)})}var fe=S(de,2),Se=p(fe);{var Oe=y=>{var D=dc();vt(D,21,()=>o(k),Bt,(X,J,ve)=>{var ue=uc();let ge;var Ze=p(ue),Ct=p(Ze),On=S(Ze,2),er=p(On);F(()=>{ge=he(ue,1,"slash-item svelte-dgb2n2",null,ge,{selected:ve===o(l)}),P(Ct,o(J).command),P(er,o(J).description)}),ie("click",ue,()=>U(ve)),T(X,ue)}),T(y,D)};H(Se,y=>{o(c)&&y(Oe)})}var nt=S(Se,2);{var sn=y=>{var D=fc(),X=p(D),J=p(X),ve=S(X,2);F(ue=>P(J,`Queued: ${ue??""}`),[()=>o(s).length>60?o(s).slice(0,60)+"…":o(s)]),ie("click",ve,()=>{w(s,null)}),T(y,D)};H(nt,y=>{o(s)&&y(sn)})}var on=S(nt,2);{var In=y=>{var D=yc();vt(D,21,()=>o(u),Bt,(X,J,ve)=>{var ue=bc(),ge=p(ue);{var Ze=at=>{var _t=vc();F(()=>{Mt(_t,"src",`data:${o(J).contentType??""};base64,${o(J).data??""}`),Mt(_t,"alt",o(J).filename??"attachment")}),T(at,_t)},Ct=ne(()=>R(o(J).contentType)),On=at=>{var _t=pc(),wr=p(_t);{var Ks=pt=>{var Mn=gc();T(pt,Mn)},Ws=pt=>{var Mn=mc();T(pt,Mn)},Zs=ne(()=>b(o(J).contentType)),js=pt=>{var Mn=_c();T(pt,Mn)};H(wr,pt=>{o(J).contentType==="application/pdf"?pt(Ks):o(Zs)?pt(Ws,1):pt(js,!1)})}T(at,_t)};H(ge,at=>{o(Ct)?at(Ze):at(On,!1)})}var er=S(ge,2),qs=S(er,2);{var Gs=at=>{var _t=hc(),wr=p(_t);F(()=>P(wr,o(J).filename)),T(at,_t)};H(qs,at=>{o(J).filename&&at(Gs)})}ie("click",er,()=>B(ve)),T(X,ue)}),T(y,D)};H(on,y=>{o(u).length>0&&y(In)})}var te=S(on,2);let W;var oe=p(te);{var Fe=y=>{var D=Ec();ie("click",D,function(...X){var J;(J=t.onAbort)==null||J.apply(this,X)}),T(y,D)};H(oe,y=>{t.isStreaming&&y(Fe)})}var Me=S(oe,2),xe=S(Me,2);dr(xe,y=>w(i,y),()=>o(i));var rt=S(xe,2);let zt;var ln=p(rt),Ft=S(te,2);dr(Ft,y=>w(d,y),()=>o(d));var cn=S(fe,2);{var un=y=>{var D=wc();T(y,D)};H(cn,y=>{o(g)&&y(un)})}F((y,D)=>{ce=he(Z,1,"input-bar svelte-dgb2n2",null,ce,{"drag-over":o(g)}),W=he(te,1,"input-wrapper svelte-dgb2n2",null,W,{streaming:t.isStreaming}),Mt(xe,"placeholder",t.isStreaming?"Type to queue a message...":"Type a message... (/ for commands)"),zt=he(rt,1,"send-btn svelte-dgb2n2",null,zt,y),rt.disabled=!o(K),P(ln,D)},[()=>({queuing:t.isStreaming&&o(a).trim().length>0}),()=>t.isStreaming&&o(a).trim().length>0?"Queue":"Send"]),Wt("dragover",Z,G),Wt("dragleave",Z,ae),Wt("drop",Z,se),ie("click",Me,x),ie("keydown",xe,z),ie("input",xe,re),Wt("paste",xe,I),ta(xe,()=>o(a),y=>w(a,y)),ie("click",rt,j),ie("change",Ft,L),T(e,Z),Ie()}Nt(["click","keydown","input","change"]);var xc=A('<span class="spinner svelte-1ctlpsp"></span>');function Ac(e,t){let n=rn(t,"size",3,16);var r=xc();F(()=>hs(r,`width: ${n()??""}px; height: ${n()??""}px;`)),T(e,r)}var kc=A('<span class="icon-error svelte-14mu1sd">✕</span>'),Nc=A('<span class="icon-ok svelte-14mu1sd">✓</span>'),Cc=A('<span class="tool-duration svelte-14mu1sd"> </span>'),Rc=A('<div class="tool-output svelte-14mu1sd"><pre class="svelte-14mu1sd"> </pre></div>'),Ic=A('<div><button class="tool-header svelte-14mu1sd"><span class="tool-icon svelte-14mu1sd"><!></span> <span class="tool-name svelte-14mu1sd"> </span> <!> <span class="expand-icon svelte-14mu1sd"> </span></button> <!></div>');function Oc(e,t){Re(t,!0);let n=q(!1);ft(()=>{t.tool.status==="error"&&w(n,!0)});var r=Ic();let a;var s=p(r),i=p(s),c=p(i);{var l=k=>{Ac(k,{size:14})},u=k=>{var N=kc();T(k,N)},d=k=>{var N=Nc();T(k,N)};H(c,k=>{t.tool.status==="running"?k(l):t.tool.status==="error"?k(u,1):k(d,!1)})}var g=S(i,2),v=p(g),h=S(g,2);{var m=k=>{var N=Cc(),C=p(N);F(O=>P(C,O),[()=>el(t.tool.durationMs)]),T(k,N)};H(h,k=>{t.tool.durationMs!=null&&k(m)})}var E=S(h,2),f=p(E),b=S(s,2);{var R=k=>{var N=Rc(),C=p(N),O=p(C);F(()=>P(O,t.tool.result)),T(k,N)};H(b,k=>{o(n)&&t.tool.result&&k(R)})}F(()=>{a=he(r,1,"tool-call svelte-14mu1sd",null,a,{running:t.tool.status==="running",error:t.tool.status==="error"}),P(v,t.tool.name),P(f,o(n)?"−":"+")}),ie("click",s,()=>w(n,!o(n))),T(e,r),Ie()}Nt(["click"]);var Mc=A('<div class="tool-panel svelte-8tq4pr"><div class="panel-header svelte-8tq4pr"><span class="panel-title svelte-8tq4pr"> </span> <button class="close-btn svelte-8tq4pr" aria-label="Close panel">×</button></div> <div class="panel-body svelte-8tq4pr"></div></div>');function Lc(e,t){Re(t,!0);var n=Mc(),r=p(n),a=p(r),s=p(a),i=S(a,2),c=S(r,2);vt(c,21,()=>t.tools,Bt,(l,u)=>{Oc(l,{get tool(){return o(u)}})}),F(()=>P(s,`Tool Calls (${t.tools.length??""})`)),ie("click",i,function(...l){var u;(u=t.onClose)==null||u.apply(this,l)}),T(e,n),Ie()}Nt(["click"]);var Dc=A('<button class="dismiss svelte-1mejfyq" aria-label="Dismiss error">×</button>'),Pc=A('<div class="error-banner svelte-1mejfyq" role="alert"><span class="error-text svelte-1mejfyq"> </span> <!></div>');function Bc(e,t){var n=Pc(),r=p(n),a=p(r),s=S(r,2);{var i=c=>{var l=Dc();ie("click",l,function(...u){var d;(d=t.onDismiss)==null||d.apply(this,u)}),T(c,l)};H(s,c=>{t.onDismiss&&c(i)})}F(()=>P(a,t.message)),T(e,n)}Nt(["click"]);async function*Uc(e,t,n,r,a){const s=window.location.origin,i=Cn(),c=await fetch(`${s}/api/sessions/stream`,{method:"POST",headers:{"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{}},body:JSON.stringify({agentId:e,message:t,sessionKey:n,...a!=null&&a.length?{media:a}:{}}),signal:r});if(!c.ok){const g=await c.text();yield{type:"error",message:`HTTP ${c.status}: ${g}`};return}if(!c.body){yield{type:"error",message:"No response body"};return}const l=c.body.getReader(),u=new TextDecoder;let d="";try{for(;;){const{done:g,value:v}=await l.read();if(g)break;d+=u.decode(v,{stream:!0});const h=d.split(`
`);d=h.pop()??"";let m=null,E=null;for(const f of h)if(f.startsWith("event: "))m=f.slice(7).trim();else if(f.startsWith("data: "))E=f.slice(6);else if(f===""&&m&&E){try{yield JSON.parse(E)}catch{}m=null,E=null}else f.startsWith(":")}}finally{l.releaseLock()}}let Xe=q(qe([])),ur=q(!1),ot=q(""),Pe=q(qe([])),Qt=q(null),gn=null;function zc(){return o(Xe)}function Ta(){return o(ur)}function Fc(){return o(ot)}function Hc(){return o(Pe)}function xa(){return o(Qt)}function qc(){w(Qt,null)}async function Gc(e){try{const t=await Uo(e);w(Xe,jc(t),!0)}catch(t){w(Qt,t instanceof Error?t.message:String(t),!0)}}function Nr(){w(Xe,[],!0),w(ot,""),w(Pe,[],!0),w(Qt,null)}function Kc(e){const t={id:`system-${Date.now()}`,role:"assistant",content:e,timestamp:new Date().toISOString()};w(Xe,[...o(Xe),t],!0)}async function Wc(e,t,n,r){if(o(ur))return;w(Qt,null);const a={id:`user-${Date.now()}`,role:"user",content:t,timestamp:new Date().toISOString(),...r!=null&&r.length?{media:r}:{}};w(Xe,[...o(Xe),a],!0),w(ur,!0),w(ot,""),w(Pe,[],!0),gn=new AbortController;try{for await(const s of Uc(e,t,n,gn.signal,r))switch(s.type){case"text_delta":w(ot,o(ot)+s.text);break;case"tool_start":w(Pe,[...o(Pe),{id:s.toolId,name:s.toolName,status:"running"}],!0);break;case"tool_result":w(Pe,o(Pe).map(i=>i.id===s.toolId?{...i,status:s.isError?"error":"complete",result:s.result,durationMs:s.durationMs}:i),!0);break;case"turn_complete":{const i={id:`assistant-${Date.now()}`,role:"assistant",content:o(ot)||s.outcome.text,timestamp:new Date().toISOString(),toolCalls:o(Pe).length>0?[...o(Pe)]:void 0};w(Xe,[...o(Xe),i],!0),w(ot,""),w(Pe,[],!0);break}case"error":w(Qt,s.message,!0);break}}catch(s){s.name!=="AbortError"&&w(Qt,s instanceof Error?s.message:String(s),!0)}finally{if(o(ot)){const s={id:`assistant-${Date.now()}`,role:"assistant",content:o(ot),timestamp:new Date().toISOString(),toolCalls:o(Pe).length>0?[...o(Pe)]:void 0};w(Xe,[...o(Xe),s],!0)}w(ur,!1),w(ot,""),w(Pe,[],!0),gn=null}}function Zc(){gn==null||gn.abort()}function jc(e){var r;const t=[];let n=[];for(const a of e)if(a.role==="user")t.push({id:a.id,role:"user",content:a.content,timestamp:a.createdAt});else if(a.role==="assistant"){try{const s=JSON.parse(a.content);if(Array.isArray(s)&&s.length>0&&((r=s[0])!=null&&r.type)){const i=s.filter(l=>l.type==="text"),c=s.filter(l=>l.type==="tool_use");if(c.length>0&&(n=c.map(l=>({id:l.id,name:l.name,status:"complete"}))),i.length>0&&c.length>0){const l=i.map(u=>u.text).join(`
`).trim();l&&t.push({id:a.id,role:"assistant",content:l,timestamp:a.createdAt})}if(c.length>0)continue;if(i.length>0){const l=i.map(u=>u.text).join(`
`).trim();t.push({id:a.id,role:"assistant",content:l,timestamp:a.createdAt,toolCalls:n.length>0?[...n]:void 0}),n=[];continue}}}catch{}t.push({id:a.id,role:"assistant",content:a.content,timestamp:a.createdAt,toolCalls:n.length>0?[...n]:void 0}),n=[]}else if(a.role==="tool_result"){const s=n.find(i=>i.id===a.toolCallId);s&&(s.result=a.content.slice(0,2e3))}return t}var Yc=A('<div class="chat-view svelte-1ktw27c"><!> <div class="chat-area svelte-1ktw27c"><!> <!></div> <!></div>');function Vc(e,t){Re(t,!0);let n=null,r=!1;ft(()=>{const x=ol();x&&x!==n?(n=x,r?r=!1:Gc(x)):!x&&n&&(n=null,Nr())});const a={"/new":{description:"Start a fresh conversation",handler:()=>{Fn()&&cl(),Nr()}},"/clear":{description:"Clear message display (keeps server history)",handler:()=>Nr()},"/switch":{description:"Switch agent — /switch <name>",handler:x=>{if(!x)return;const L=x.toLowerCase().trim(),G=ws().find(ae=>ae.name.toLowerCase()===L||ae.id.toLowerCase()===L);G&&(Ts(G.id),fr(G.id))}},"/help":{description:"Show available commands",handler:()=>{const x=Object.entries(a).map(([L,{description:G}])=>`\`${L}\` — ${G}`).join(`
`);Kc(`**Available commands:**
${x}`)}}};function s(x,L){const G=x.trim();if(G.startsWith("/")){const I=G.indexOf(" "),z=I>0?G.slice(0,I):G,j=I>0?G.slice(I+1):void 0,re=a[z];if(re){re.handler(j);return}return}const ae=Fn();if(!ae)return;const se=ll();Wc(ae,x,se,L).then(()=>{r=!0,ul(ae)})}let i=ne(Ss),c=ne(Fn),l=ne(()=>o(c)?jo(o(c)):null),u=ne(xs),d=ne(()=>()=>{var G;const x=((G=o(u))==null?void 0:G.tokenCountEstimate)??0;return Math.min(100,Math.round(x/2e5*100))}),g=q(null);function v(x){w(g,x,!0)}function h(){w(g,null)}function m(){return Object.entries(a).map(([x,{description:L}])=>({command:x,description:L}))}var E=Yc(),f=p(E);{var b=x=>{{let L=ne(xa);Bc(x,{get message(){return o(L)},get onDismiss(){return qc}})}},R=ne(()=>xa());H(f,x=>{o(R)&&x(b)})}var k=S(f,2),N=p(k);{let x=ne(zc),L=ne(Fc),G=ne(Hc),ae=ne(Ta),se=ne(()=>{var I;return(I=o(i))==null?void 0:I.name});lc(N,{get messages(){return o(x)},get streamingText(){return o(L)},get activeToolCalls(){return o(G)},get isStreaming(){return o(ae)},get agentName(){return o(se)},get agentEmoji(){return o(l)},onToolClick:v})}var C=S(N,2);{var O=x=>{Lc(x,{get tools(){return o(g)},onClose:h})};H(C,x=>{o(g)&&x(O)})}var B=S(k,2);{let x=ne(Ta),L=ne(()=>o(d)()),G=ne(m);Tc(B,{get isStreaming(){return o(x)},onSend:s,get onAbort(){return Zc},get contextPercent(){return o(L)},get slashCommands(){return o(G)}})}T(e,E),Ie()}var $c=A("<span> </span>");function Xc(e,t){let n=rn(t,"variant",3,"default");var r=$c(),a=p(r);F(()=>{he(r,1,`badge ${n()??""}`,"svelte-mhmmzz"),P(a,t.text)}),T(e,r)}var Jc=A('<div class="error svelte-y174pi"> </div>'),Qc=A('<div class="loading svelte-y174pi">Loading metrics...</div>'),eu=A('<div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Total Cost</div> <div class="card-value svelte-y174pi"> </div></div>'),tu=A('<th class="svelte-y174pi">Cost</th>'),nu=A('<td class="svelte-y174pi"> </td>'),ru=A('<tr><td class="agent-name svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="svelte-y174pi"> </td><!></tr>'),au=A('<tr><td class="mono svelte-y174pi"> </td><td class="mono svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td></tr>'),su=A('<div class="section svelte-y174pi"><h3 class="svelte-y174pi">Cron Jobs</h3> <table class="svelte-y174pi"><thead><tr><th class="svelte-y174pi">Job</th><th class="svelte-y174pi">Schedule</th><th class="svelte-y174pi">Next Run</th><th class="svelte-y174pi">Last Run</th></tr></thead><tbody></tbody></table></div>'),iu=A('<div class="grid svelte-y174pi"><div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Uptime</div> <div class="card-value svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Tokens</div> <div class="card-value svelte-y174pi"> </div> <div class="card-sub svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Cache Hit Rate</div> <div class="card-value svelte-y174pi"> </div> <div class="card-sub svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Turns</div> <div class="card-value svelte-y174pi"> </div></div> <!> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Services</div> <div class="card-value svelte-y174pi"><!></div> <div class="card-sub badges svelte-y174pi"></div></div></div> <div class="section svelte-y174pi"><h3 class="svelte-y174pi">Agents</h3> <table class="svelte-y174pi"><thead><tr><th class="svelte-y174pi">Agent</th><th class="svelte-y174pi">Sessions</th><th class="svelte-y174pi">Messages</th><th class="svelte-y174pi">Last Activity</th><th class="svelte-y174pi">Tokens In</th><th class="svelte-y174pi">Turns</th><!></tr></thead><tbody></tbody></table></div> <!>',1),ou=A('<div class="metrics-view svelte-y174pi"><!></div>');function lu(e,t){Re(t,!0);let n=q(null),r=q(null),a=q(null);async function s(){try{const[g,v]=await Promise.all([zo(),Fo()]);w(n,g,!0),w(r,v,!0)}catch(g){w(a,g instanceof Error?g.message:String(g),!0)}}ft(()=>{s();const g=setInterval(s,15e3);return()=>clearInterval(g)});var i=ou(),c=p(i);{var l=g=>{var v=Jc(),h=p(v);F(()=>P(h,o(a))),T(g,v)},u=g=>{var v=Qc();T(g,v)},d=g=>{var v=iu(),h=nn(v),m=p(h),E=S(p(m),2),f=p(E),b=S(m,2),R=S(p(b),2),k=p(R),N=S(R,2),C=p(N),O=S(b,2),B=S(p(O),2),x=p(B),L=S(B,2),G=p(L),ae=S(O,2),se=S(p(ae),2),I=p(se),z=S(ae,2);{var j=te=>{var W=eu(),oe=S(p(W),2),Fe=p(oe);F(Me=>P(Fe,Me),[()=>Ea(o(r).totalCost)]),T(te,W)};H(z,te=>{o(r)&&te(j)})}var re=S(z,2),U=S(p(re),2),M=p(U);{var K=te=>{var W=ga();F(oe=>P(W,`${oe??""}/${o(n).services.length??""}`),[()=>o(n).services.filter(oe=>oe.healthy).length]),T(te,W)},Z=te=>{var W=ga("-");T(te,W)};H(M,te=>{o(n).services.length>0?te(K):te(Z,!1)})}var ce=S(U,2);vt(ce,21,()=>o(n).services,Bt,(te,W)=>{{let oe=ne(()=>o(W).healthy?"success":"error");Xc(te,{get text(){return o(W).name},get variant(){return o(oe)}})}});var de=S(h,2),Te=S(p(de),2),fe=p(Te),Se=p(fe),Oe=S(p(Se),6);{var nt=te=>{var W=tu();T(te,W)};H(Oe,te=>{o(r)&&te(nt)})}var sn=S(fe);vt(sn,21,()=>o(n).nous,Bt,(te,W)=>{const oe=ne(()=>{var ge;return(ge=o(r))==null?void 0:ge.agents.find(Ze=>Ze.agentId===o(W).id)});var Fe=ru(),Me=p(Fe),xe=p(Me),rt=S(Me),zt=p(rt),ln=S(rt),Ft=p(ln),cn=S(ln),un=p(cn),y=S(cn),D=p(y),X=S(y),J=p(X),ve=S(X);{var ue=ge=>{var Ze=nu(),Ct=p(Ze);F(On=>P(Ct,On),[()=>o(oe)?Ea(o(oe).totalCost||o(oe).cost):"-"]),T(ge,Ze)};H(ve,ge=>{o(r)&&ge(ue)})}F((ge,Ze)=>{var Ct;P(xe,o(W).name),P(zt,o(W).activeSessions),P(Ft,o(W).totalMessages),P(un,ge),P(D,Ze),P(J,((Ct=o(W).tokens)==null?void 0:Ct.turns)??"-")},[()=>cr(o(W).lastActivity),()=>o(W).tokens?Dn(o(W).tokens.input):"-"]),T(te,Fe)});var on=S(de,2);{var In=te=>{var W=su(),oe=S(p(W),2),Fe=S(p(oe));vt(Fe,21,()=>o(n).cron,Bt,(Me,xe)=>{var rt=au(),zt=p(rt),ln=p(zt),Ft=S(zt),cn=p(Ft),un=S(Ft),y=p(un),D=S(un),X=p(D);F((J,ve)=>{P(ln,o(xe).id),P(cn,o(xe).cron),P(y,J),P(X,ve)},[()=>cr(o(xe).nextRun),()=>cr(o(xe).lastRun)]),T(Me,rt)}),T(te,W)};H(on,te=>{o(n).cron.length>0&&te(In)})}F((te,W,oe,Fe,Me)=>{P(f,te),P(k,W),P(C,`${oe??""} in / ${Fe??""} out`),P(x,`${o(n).usage.cacheHitRate??""}%`),P(G,`${Me??""} cached`),P(I,o(n).usage.turnCount)},[()=>Qo(o(n).uptime),()=>Dn(o(n).usage.totalInputTokens+o(n).usage.totalOutputTokens),()=>Dn(o(n).usage.totalInputTokens),()=>Dn(o(n).usage.totalOutputTokens),()=>Dn(o(n).usage.totalCacheReadTokens)]),T(g,v)};H(c,g=>{o(a)?g(l):o(n)?g(d,!1):g(u,1)})}T(e,i),Ie()}var cu=A('<div class="token-setup svelte-12d5wnd"><div class="token-card svelte-12d5wnd"><h1 class="svelte-12d5wnd">Aletheia</h1> <p class="svelte-12d5wnd">Enter your gateway authentication token to get started.</p> <form class="svelte-12d5wnd"><input type="password" class="token-input svelte-12d5wnd" placeholder="Gateway token"/> <button type="submit" class="token-submit svelte-12d5wnd">Connect</button></form></div></div>'),uu=A('<button class="sidebar-overlay svelte-12d5wnd" aria-label="Close sidebar"></button>'),du=A('<!> <div class="main svelte-12d5wnd"><!> <!> <div class="content svelte-12d5wnd"><!></div></div>',1);function fu(e,t){Re(t,!0);const n="aletheia_sidebar_collapsed";let r=q(!1),a=q(!!Cn()),s=q(""),i=q(localStorage.getItem(n)==="true");function c(m){m.preventDefault(),o(s).trim()&&(bs(o(s).trim()),w(a,!0),location.reload())}function l(){w(i,!o(i)),localStorage.setItem(n,String(o(i)))}function u(){window.innerWidth<=768&&(w(i,!0),localStorage.setItem(n,String(o(i))))}var d=ps(),g=nn(d);{var v=m=>{var E=cu(),f=p(E),b=S(p(f),4),R=p(b);Wt("submit",b,c),ta(R,()=>o(s),k=>w(s,k)),T(m,E)},h=m=>{var E=du(),f=nn(E);Jo(f,{onToggleMetrics:()=>w(r,!o(r)),onToggleSidebar:l,get showMetrics(){return o(r)},get sidebarCollapsed(){return o(i)}});var b=S(f,2),R=p(b);fl(R,{get collapsed(){return o(i)},onAgentSelect:u});var k=S(R,2);{var N=L=>{var G=uu();ie("click",G,u),T(L,G)};H(k,L=>{o(i)||L(N)})}var C=S(k,2),O=p(C);{var B=L=>{lu(L,{})},x=L=>{Vc(L,{})};H(O,L=>{o(r)?L(B):L(x,!1)})}T(m,E)};H(g,m=>{o(a)?m(h,!1):m(v)})}T(e,d),Ie()}Nt(["click"]);function vu(e,t){Re(t,!0),ft(()=>{Cn()&&(Zo(),Wo())});function n(a){var s,i,c;if((a.metaKey||a.ctrlKey)&&a.key==="n"&&(a.preventDefault(),(s=document.querySelector(".new-chat-btn"))==null||s.click()),a.key==="/"&&!r()&&(a.preventDefault(),(i=document.querySelector(".input-wrapper textarea"))==null||i.focus()),a.key==="Escape"){const l=document.querySelector(".abort-btn");l?l.click():(c=document.activeElement)==null||c.blur()}}function r(){const a=document.activeElement;return a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement}Wt("keydown",Fr,n),fu(e,{}),Ie()}po(vu,{target:document.getElementById("app")});
