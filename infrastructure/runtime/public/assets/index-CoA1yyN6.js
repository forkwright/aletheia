const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/graph3d-DXruCMex.js","assets/markdown-Dtr06t2G.js"])))=>i.map(i=>d[i]);
var ii=Object.defineProperty;var fa=e=>{throw TypeError(e)};var oi=(e,t,n)=>t in e?ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ut=(e,t,n)=>oi(e,typeof t!="symbol"?t+"":t,n),xr=(e,t,n)=>t.has(e)||fa("Cannot "+n);var h=(e,t,n)=>(xr(e,t,"read from private field"),n?n.call(e):t.get(e)),ae=(e,t,n)=>t.has(e)?fa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),X=(e,t,n,r)=>(xr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Be=(e,t,n)=>(xr(e,t,"access private method"),n);import{M as li,H as Re,p as ci}from"./markdown-Dtr06t2G.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Mr=!1;var Ba=Array.isArray,ui=Array.prototype.indexOf,wn=Array.prototype.includes,br=Array.from,di=Object.defineProperty,vn=Object.getOwnPropertyDescriptor,fi=Object.getOwnPropertyDescriptors,vi=Object.prototype,gi=Array.prototype,Ua=Object.getPrototypeOf,va=Object.isExtensible;const mi=()=>{};function _i(e){for(var t=0;t<e.length;t++)e[t]()}function za(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const Ne=2,Hn=4,yr=8,Fa=1<<24,It=16,it=32,un=64,Lr=128,Ze=512,Se=1024,Ce=2048,st=4096,He=8192,Ct=16384,Vn=32768,Sn=65536,ga=1<<17,Ha=1<<18,Nn=1<<19,pi=1<<20,Nt=1<<25,sn=65536,Dr=1<<21,Jr=1<<22,Ht=1<<23,Un=Symbol("$state"),hi=Symbol("legacy props"),bi=Symbol(""),jt=new class extends Error{constructor(){super(...arguments);ut(this,"name","StaleReactionError");ut(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var La;const yi=!!((La=globalThis.document)!=null&&La.contentType)&&globalThis.document.contentType.includes("xml");function Ei(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function wi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Si(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Ti(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ai(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ki(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ni(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ci(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ri(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Oi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ii(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Mi=1,Li=2,qa=4,Di=8,Pi=16,Bi=1,Ui=2,zi=4,Fi=8,Hi=16,qi=1,Gi=2,Ae=Symbol(),Ga="http://www.w3.org/1999/xhtml";function Ki(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ka(e){return e===this.v}function Wi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Wa(e){return!Wi(e,this.v)}let Cn=!1,Zi=!1;function ji(){Cn=!0}let _e=null;function Tn(e){_e=e}function Oe(e,t=!1,n){_e={p:_e,i:!1,c:null,e:null,s:e,x:null,l:Cn&&!t?{s:null,u:null,$:[]}:null}}function Ie(e){var t=_e,n=t.e;if(n!==null){t.e=null;for(var r of n)us(r)}return t.i=!0,_e=t.p,{}}function Xn(){return!Cn||_e!==null&&_e.l===null}let Yt=[];function Za(){var e=Yt;Yt=[],_i(e)}function Rt(e){if(Yt.length===0&&!zn){var t=Yt;queueMicrotask(()=>{t===Yt&&Za()})}Yt.push(e)}function Yi(){for(;Yt.length>0;)Za()}function ja(e){var t=ue;if(t===null)return te.f|=Ht,e;if((t.f&Vn)===0&&(t.f&Hn)===0)throw e;xn(e,t)}function xn(e,t){for(;t!==null;){if((t.f&Lr)!==0){if((t.f&Vn)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const $i=-7169;function ve(e,t){e.f=e.f&$i|t}function Qr(e){(e.f&Ze)!==0||e.deps===null?ve(e,Se):ve(e,st)}function Ya(e){if(e!==null)for(const t of e)(t.f&Ne)===0||(t.f&sn)===0||(t.f^=sn,Ya(t.deps))}function $a(e,t,n){(e.f&Ce)!==0?t.add(e):(e.f&st)!==0&&n.add(e),Ya(e.deps),ve(e,Se)}const nr=new Set;let J=null,Pr=null,ke=null,Me=[],Er=null,Br=!1,zn=!1;var mn,_n,Jt,pn,Zn,jn,Qt,Tt,hn,pt,Ur,zr,Va;const da=class da{constructor(){ae(this,pt);ut(this,"committed",!1);ut(this,"current",new Map);ut(this,"previous",new Map);ae(this,mn,new Set);ae(this,_n,new Set);ae(this,Jt,0);ae(this,pn,0);ae(this,Zn,null);ae(this,jn,new Set);ae(this,Qt,new Set);ae(this,Tt,new Map);ut(this,"is_fork",!1);ae(this,hn,!1)}is_deferred(){return this.is_fork||h(this,pn)>0}skip_effect(t){h(this,Tt).has(t)||h(this,Tt).set(t,{d:[],m:[]})}unskip_effect(t){var n=h(this,Tt).get(t);if(n){h(this,Tt).delete(t);for(var r of n.d)ve(r,Ce),tt(r);for(r of n.m)ve(r,st),tt(r)}}process(t){var a;Me=[],this.apply();var n=[],r=[];for(const s of t)Be(this,pt,Ur).call(this,s,n,r);if(this.is_deferred()){Be(this,pt,zr).call(this,r),Be(this,pt,zr).call(this,n);for(const[s,o]of h(this,Tt))es(s,o)}else{for(const s of h(this,mn))s();h(this,mn).clear(),h(this,Jt)===0&&Be(this,pt,Va).call(this),Pr=this,J=null,ma(r),ma(n),Pr=null,(a=h(this,Zn))==null||a.resolve()}ke=null}capture(t,n){n!==Ae&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&Ht)===0&&(this.current.set(t,t.v),ke==null||ke.set(t,t.v))}activate(){J=this,this.apply()}deactivate(){J===this&&(J=null,ke=null)}flush(){if(this.activate(),Me.length>0){if(Xa(),J!==null&&J!==this)return}else h(this,Jt)===0&&this.process([]);this.deactivate()}discard(){for(const t of h(this,_n))t(this);h(this,_n).clear()}increment(t){X(this,Jt,h(this,Jt)+1),t&&X(this,pn,h(this,pn)+1)}decrement(t){X(this,Jt,h(this,Jt)-1),t&&X(this,pn,h(this,pn)-1),!h(this,hn)&&(X(this,hn,!0),Rt(()=>{X(this,hn,!1),this.is_deferred()?Me.length>0&&this.flush():this.revive()}))}revive(){for(const t of h(this,jn))h(this,Qt).delete(t),ve(t,Ce),tt(t);for(const t of h(this,Qt))ve(t,st),tt(t);this.flush()}oncommit(t){h(this,mn).add(t)}ondiscard(t){h(this,_n).add(t)}settled(){return(h(this,Zn)??X(this,Zn,za())).promise}static ensure(){if(J===null){const t=J=new da;nr.add(J),zn||Rt(()=>{J===t&&t.flush()})}return J}apply(){}};mn=new WeakMap,_n=new WeakMap,Jt=new WeakMap,pn=new WeakMap,Zn=new WeakMap,jn=new WeakMap,Qt=new WeakMap,Tt=new WeakMap,hn=new WeakMap,pt=new WeakSet,Ur=function(t,n,r){t.f^=Se;for(var a=t.first,s=null;a!==null;){var o=a.f,l=(o&(it|un))!==0,c=l&&(o&Se)!==0,u=c||(o&He)!==0||h(this,Tt).has(a);if(!u&&a.fn!==null){l?a.f^=Se:s!==null&&(o&(Hn|yr|Fa))!==0?s.b.defer_effect(a):(o&Hn)!==0?n.push(a):Qn(a)&&((o&It)!==0&&h(this,Qt).add(a),kn(a));var d=a.first;if(d!==null){a=d;continue}}for(;a!==null;){a===s&&(s=null);var g=a.next;if(g!==null){a=g;break}a=a.parent}}},zr=function(t){for(var n=0;n<t.length;n+=1)$a(t[n],h(this,jn),h(this,Qt))},Va=function(){var a;if(nr.size>1){this.previous.clear();var t=ke,n=!0;for(const s of nr){if(s===this){n=!1;continue}const o=[];for(const[c,u]of this.current){if(s.current.has(c))if(n&&u!==s.current.get(c))s.current.set(c,u);else continue;o.push(c)}if(o.length===0)continue;const l=[...s.current.keys()].filter(c=>!this.current.has(c));if(l.length>0){var r=Me;Me=[];const c=new Set,u=new Map;for(const d of o)Ja(d,l,c,u);if(Me.length>0){J=s,s.apply();for(const d of Me)Be(a=s,pt,Ur).call(a,d,[],[]);s.deactivate()}Me=r}}J=null,ke=t}this.committed=!0,nr.delete(this)};let qt=da;function Vi(e){var t=zn;zn=!0;try{for(var n;;){if(Yi(),Me.length===0&&(J==null||J.flush(),Me.length===0))return Er=null,n;Xa()}}finally{zn=t}}function Xa(){Br=!0;var e=null;try{for(var t=0;Me.length>0;){var n=qt.ensure();if(t++>1e3){var r,a;Xi()}n.process(Me),Gt.clear()}}finally{Me=[],Br=!1,Er=null}}function Xi(){try{ki()}catch(e){xn(e,Er)}}let Xe=null;function ma(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ct|He))===0&&Qn(r)&&(Xe=new Set,kn(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&vs(r),(Xe==null?void 0:Xe.size)>0)){Gt.clear();for(const a of Xe){if((a.f&(Ct|He))!==0)continue;const s=[a];let o=a.parent;for(;o!==null;)Xe.has(o)&&(Xe.delete(o),s.push(o)),o=o.parent;for(let l=s.length-1;l>=0;l--){const c=s[l];(c.f&(Ct|He))===0&&kn(c)}}Xe.clear()}}Xe=null}}function Ja(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const s=a.f;(s&Ne)!==0?Ja(a,t,n,r):(s&(Jr|It))!==0&&(s&Ce)===0&&Qa(a,t,r)&&(ve(a,Ce),tt(a))}}function Qa(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const a of e.deps){if(wn.call(t,a))return!0;if((a.f&Ne)!==0&&Qa(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function tt(e){for(var t=Er=e;t.parent!==null;){t=t.parent;var n=t.f;if(Br&&t===ue&&(n&It)!==0&&(n&Ha)===0)return;if((n&(un|it))!==0){if((n&Se)===0)return;t.f^=Se}}Me.push(t)}function es(e,t){if(!((e.f&it)!==0&&(e.f&Se)!==0)){(e.f&Ce)!==0?t.d.push(e):(e.f&st)!==0&&t.m.push(e),ve(e,Se);for(var n=e.first;n!==null;)es(n,t),n=n.next}}function Ji(e){let t=0,n=on(0),r;return()=>{na()&&(i(n),ra(()=>(t===0&&(r=er(()=>e(()=>Fn(n)))),t+=1,()=>{Rt(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Fn(n))})})))}}var Qi=Sn|Nn;function eo(e,t,n){new to(e,t,n)}var Je,Xr,xt,en,ft,vt,ze,gt,At,tn,Ut,bn,yn,En,kt,pr,Pe,no,ro,Fr,lr,Hr;class to{constructor(t,n,r){ae(this,Pe);ut(this,"parent");ut(this,"is_pending",!1);ae(this,Je);ae(this,Xr,null);ae(this,xt);ae(this,en);ae(this,ft);ae(this,vt,null);ae(this,ze,null);ae(this,gt,null);ae(this,At,null);ae(this,tn,0);ae(this,Ut,0);ae(this,bn,!1);ae(this,yn,new Set);ae(this,En,new Set);ae(this,kt,null);ae(this,pr,Ji(()=>(X(this,kt,on(h(this,tn))),()=>{X(this,kt,null)})));X(this,Je,t),X(this,xt,n),X(this,en,a=>{var s=ue;s.b=this,s.f|=Lr,r(a)}),this.parent=ue.b,X(this,ft,aa(()=>{Be(this,Pe,Fr).call(this)},Qi))}defer_effect(t){$a(t,h(this,yn),h(this,En))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!h(this,xt).pending}update_pending_count(t){Be(this,Pe,Hr).call(this,t),X(this,tn,h(this,tn)+t),!(!h(this,kt)||h(this,bn))&&(X(this,bn,!0),Rt(()=>{X(this,bn,!1),h(this,kt)&&An(h(this,kt),h(this,tn))}))}get_effect_pending(){return h(this,pr).call(this),i(h(this,kt))}error(t){var n=h(this,xt).onerror;let r=h(this,xt).failed;if(!n&&!r)throw t;h(this,vt)&&(De(h(this,vt)),X(this,vt,null)),h(this,ze)&&(De(h(this,ze)),X(this,ze,null)),h(this,gt)&&(De(h(this,gt)),X(this,gt,null));var a=!1,s=!1;const o=()=>{if(a){Ki();return}a=!0,s&&Ii(),h(this,gt)!==null&&rn(h(this,gt),()=>{X(this,gt,null)}),Be(this,Pe,lr).call(this,()=>{qt.ensure(),Be(this,Pe,Fr).call(this)})};Rt(()=>{try{s=!0,n==null||n(t,o),s=!1}catch(l){xn(l,h(this,ft)&&h(this,ft).parent)}r&&X(this,gt,Be(this,Pe,lr).call(this,()=>{qt.ensure();try{return et(()=>{var l=ue;l.b=this,l.f|=Lr,r(h(this,Je),()=>t,()=>o)})}catch(l){return xn(l,h(this,ft).parent),null}}))})}}Je=new WeakMap,Xr=new WeakMap,xt=new WeakMap,en=new WeakMap,ft=new WeakMap,vt=new WeakMap,ze=new WeakMap,gt=new WeakMap,At=new WeakMap,tn=new WeakMap,Ut=new WeakMap,bn=new WeakMap,yn=new WeakMap,En=new WeakMap,kt=new WeakMap,pr=new WeakMap,Pe=new WeakSet,no=function(){try{X(this,vt,et(()=>h(this,en).call(this,h(this,Je))))}catch(t){this.error(t)}},ro=function(){const t=h(this,xt).pending;t&&(this.is_pending=!0,X(this,ze,et(()=>t(h(this,Je)))),Rt(()=>{var n=X(this,At,document.createDocumentFragment()),r=Ot();n.append(r),X(this,vt,Be(this,Pe,lr).call(this,()=>(qt.ensure(),et(()=>h(this,en).call(this,r))))),h(this,Ut)===0&&(h(this,Je).before(n),X(this,At,null),rn(h(this,ze),()=>{X(this,ze,null)}),this.is_pending=!1)}))},Fr=function(){try{if(this.is_pending=this.has_pending_snippet(),X(this,Ut,0),X(this,tn,0),X(this,vt,et(()=>{h(this,en).call(this,h(this,Je))})),h(this,Ut)>0){var t=X(this,At,document.createDocumentFragment());_s(h(this,vt),t);const n=h(this,xt).pending;X(this,ze,et(()=>n(h(this,Je))))}else this.is_pending=!1}catch(n){this.error(n)}},lr=function(t){var n=ue,r=te,a=_e;_t(h(this,ft)),Ye(h(this,ft)),Tn(h(this,ft).ctx);try{return t()}catch(s){return ja(s),null}finally{_t(n),Ye(r),Tn(a)}},Hr=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Be(n=this.parent,Pe,Hr).call(n,t);return}if(X(this,Ut,h(this,Ut)+t),h(this,Ut)===0){this.is_pending=!1;for(const r of h(this,yn))ve(r,Ce),tt(r);for(const r of h(this,En))ve(r,st),tt(r);h(this,yn).clear(),h(this,En).clear(),h(this,ze)&&rn(h(this,ze),()=>{X(this,ze,null)}),h(this,At)&&(h(this,Je).before(h(this,At)),X(this,At,null))}};function ao(e,t,n,r){const a=Xn()?wr:ea;var s=e.filter(f=>!f.settled);if(n.length===0&&s.length===0){r(t.map(a));return}var o=J,l=ue,c=so(),u=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(f=>f.promise)):null;function d(f){c();try{r(f)}catch(p){(l.f&Ct)===0&&xn(p,l)}o==null||o.deactivate(),qr()}if(n.length===0){u.then(()=>d(t.map(a)));return}function g(){c(),Promise.all(n.map(f=>io(f))).then(f=>d([...t.map(a),...f])).catch(f=>xn(f,l))}u?u.then(g):g()}function so(){var e=ue,t=te,n=_e,r=J;return function(s=!0){_t(e),Ye(t),Tn(n),s&&(r==null||r.activate())}}function qr(){_t(null),Ye(null),Tn(null)}function wr(e){var t=Ne|Ce,n=te!==null&&(te.f&Ne)!==0?te:null;return ue!==null&&(ue.f|=Nn),{ctx:_e,deps:null,effects:null,equals:Ka,f:t,fn:e,reactions:null,rv:0,v:Ae,wv:0,parent:n??ue,ac:null}}function io(e,t,n){let r=ue;r===null&&wi();var a=r.b,s=void 0,o=on(Ae),l=!te,c=new Map;return wo(()=>{var p;var u=za();s=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===J&&d.committed&&d.deactivate(),qr()})}catch(_){u.reject(_),qr()}var d=J;if(l){var g=a.is_rendered();a.update_pending_count(1),d.increment(g),(p=c.get(d))==null||p.reject(jt),c.delete(d),c.set(d,u)}const f=(_,w=void 0)=>{if(d.activate(),w)w!==jt&&(o.f|=Ht,An(o,w));else{(o.f&Ht)!==0&&(o.f^=Ht),An(o,_);for(const[v,b]of c){if(c.delete(v),v===d)break;b.reject(jt)}}l&&(a.update_pending_count(-1),d.decrement(g))};u.promise.then(f,_=>f(null,_||"unknown"))}),cs(()=>{for(const u of c.values())u.reject(jt)}),new Promise(u=>{function d(g){function f(){g===s?u(o):d(s)}g.then(f,f)}d(s)})}function ee(e){const t=wr(e);return ps(t),t}function ea(e){const t=wr(e);return t.equals=Wa,t}function oo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)De(t[n])}}function lo(e){for(var t=e.parent;t!==null;){if((t.f&Ne)===0)return(t.f&Ct)===0?t:null;t=t.parent}return null}function ta(e){var t,n=ue;_t(lo(e));try{e.f&=~sn,oo(e),t=Es(e)}finally{_t(n)}return t}function ts(e){var t=ta(e);if(!e.equals(t)&&(e.wv=bs(),(!(J!=null&&J.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){ve(e,Se);return}Kt||(ke!==null?(na()||J!=null&&J.is_fork)&&ke.set(e,t):Qr(e))}function co(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(jt),r.teardown=mi,r.ac=null,qn(r,0),sa(r))}function ns(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&kn(t)}let Gr=new Set;const Gt=new Map;let rs=!1;function on(e,t){var n={f:0,v:e,reactions:null,equals:Ka,rv:0,wv:0};return n}function Z(e,t){const n=on(e);return ps(n),n}function uo(e,t=!1,n=!0){var a;const r=on(e);return t||(r.equals=Wa),Cn&&n&&_e!==null&&_e.l!==null&&((a=_e.l).s??(a.s=[])).push(r),r}function N(e,t,n=!1){te!==null&&(!nt||(te.f&ga)!==0)&&Xn()&&(te.f&(Ne|It|Jr|ga))!==0&&(je===null||!wn.call(je,e))&&Oi();let r=n?We(t):t;return An(e,r)}function An(e,t){if(!e.equals(t)){var n=e.v;Kt?Gt.set(e,t):Gt.set(e,n),e.v=t;var r=qt.ensure();if(r.capture(e,n),(e.f&Ne)!==0){const a=e;(e.f&Ce)!==0&&ta(a),Qr(a)}e.wv=bs(),as(e,Ce),Xn()&&ue!==null&&(ue.f&Se)!==0&&(ue.f&(it|un))===0&&(Ke===null?To([e]):Ke.push(e)),!r.is_fork&&Gr.size>0&&!rs&&fo()}return t}function fo(){rs=!1;for(const e of Gr)(e.f&Se)!==0&&ve(e,st),Qn(e)&&kn(e);Gr.clear()}function Fn(e){N(e,e.v+1)}function as(e,t){var n=e.reactions;if(n!==null)for(var r=Xn(),a=n.length,s=0;s<a;s++){var o=n[s],l=o.f;if(!(!r&&o===ue)){var c=(l&Ce)===0;if(c&&ve(o,t),(l&Ne)!==0){var u=o;ke==null||ke.delete(u),(l&sn)===0&&(l&Ze&&(o.f|=sn),as(u,st))}else c&&((l&It)!==0&&Xe!==null&&Xe.add(o),tt(o))}}}function We(e){if(typeof e!="object"||e===null||Un in e)return e;const t=Ua(e);if(t!==vi&&t!==gi)return e;var n=new Map,r=Ba(e),a=Z(0),s=an,o=l=>{if(an===s)return l();var c=te,u=an;Ye(null),ha(s);var d=l();return Ye(c),ha(u),d};return r&&n.set("length",Z(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ci();var d=n.get(c);return d===void 0?o(()=>{var g=Z(u.value);return n.set(c,g),g}):N(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=o(()=>Z(Ae));n.set(c,d),Fn(a)}}else N(u,Ae),Fn(a);return!0},get(l,c,u){var p;if(c===Un)return e;var d=n.get(c),g=c in l;if(d===void 0&&(!g||(p=vn(l,c))!=null&&p.writable)&&(d=o(()=>{var _=We(g?l[c]:Ae),w=Z(_);return w}),n.set(c,d)),d!==void 0){var f=i(d);return f===Ae?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=i(d))}else if(u===void 0){var g=n.get(c),f=g==null?void 0:g.v;if(g!==void 0&&f!==Ae)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){var f;if(c===Un)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ae||Reflect.has(l,c);if(u!==void 0||ue!==null&&(!d||(f=vn(l,c))!=null&&f.writable)){u===void 0&&(u=o(()=>{var p=d?We(l[c]):Ae,_=Z(p);return _}),n.set(c,u));var g=i(u);if(g===Ae)return!1}return d},set(l,c,u,d){var k;var g=n.get(c),f=c in l;if(r&&c==="length")for(var p=u;p<g.v;p+=1){var _=n.get(p+"");_!==void 0?N(_,Ae):p in l&&(_=o(()=>Z(Ae)),n.set(p+"",_))}if(g===void 0)(!f||(k=vn(l,c))!=null&&k.writable)&&(g=o(()=>Z(void 0)),N(g,We(u)),n.set(c,g));else{f=g.v!==Ae;var w=o(()=>We(u));N(g,w)}var v=Reflect.getOwnPropertyDescriptor(l,c);if(v!=null&&v.set&&v.set.call(d,u),!f){if(r&&typeof c=="string"){var b=n.get("length"),I=Number(c);Number.isInteger(I)&&I>=b.v&&N(b,I+1)}Fn(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(g=>{var f=n.get(g);return f===void 0||f.v!==Ae});for(var[u,d]of n)d.v!==Ae&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Ri()}})}var Kr,ss,is,os;function vo(){if(Kr===void 0){Kr=window,ss=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;is=vn(t,"firstChild").get,os=vn(t,"nextSibling").get,va(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),va(n)&&(n.__t=void 0)}}function Ot(e=""){return document.createTextNode(e)}function zt(e){return is.call(e)}function Jn(e){return os.call(e)}function m(e,t){return zt(e)}function ln(e,t=!1){{var n=zt(e);return n instanceof Comment&&n.data===""?Jn(n):n}}function E(e,t=1,n=!1){let r=e;for(;t--;)r=Jn(r);return r}function go(e){e.textContent=""}function ls(){return!1}function mo(e,t,n){return document.createElementNS(Ga,e,void 0)}let _a=!1;function _o(){_a||(_a=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Sr(e){var t=te,n=ue;Ye(null),_t(null);try{return e()}finally{Ye(t),_t(n)}}function po(e,t,n,r=n){e.addEventListener(t,()=>Sr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),_o()}function ho(e){ue===null&&(te===null&&Ai(),xi()),Kt&&Ti()}function bo(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Mt(e,t,n){var r=ue;r!==null&&(r.f&He)!==0&&(e|=He);var a={ctx:_e,deps:null,nodes:null,f:e|Ce|Ze,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{kn(a)}catch(l){throw De(a),l}else t!==null&&tt(a);var s=a;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Nn)===0&&(s=s.first,(e&It)!==0&&(e&Sn)!==0&&s!==null&&(s.f|=Sn)),s!==null&&(s.parent=r,r!==null&&bo(s,r),te!==null&&(te.f&Ne)!==0&&(e&un)===0)){var o=te;(o.effects??(o.effects=[])).push(s)}return a}function na(){return te!==null&&!nt}function cs(e){const t=Mt(yr,null,!1);return ve(t,Se),t.teardown=e,t}function rt(e){ho();var t=ue.f,n=!te&&(t&it)!==0&&(t&Vn)===0;if(n){var r=_e;(r.e??(r.e=[])).push(e)}else return us(e)}function us(e){return Mt(Hn|pi,e,!1)}function yo(e){qt.ensure();const t=Mt(un|Nn,e,!0);return(n={})=>new Promise(r=>{n.outro?rn(t,()=>{De(t),r(void 0)}):(De(t),r(void 0))})}function Eo(e){return Mt(Hn,e,!1)}function wo(e){return Mt(Jr|Nn,e,!0)}function ra(e,t=0){return Mt(yr|t,e,!0)}function q(e,t=[],n=[],r=[]){ao(r,t,n,a=>{Mt(yr,()=>e(...a.map(i)),!0)})}function aa(e,t=0){var n=Mt(It|t,e,!0);return n}function et(e){return Mt(it|Nn,e,!0)}function ds(e){var t=e.teardown;if(t!==null){const n=Kt,r=te;pa(!0),Ye(null);try{t.call(null)}finally{pa(n),Ye(r)}}}function sa(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Sr(()=>{a.abort(jt)});var r=n.next;(n.f&un)!==0?n.parent=null:De(n,t),n=r}}function So(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&it)===0&&De(t),t=n}}function De(e,t=!0){var n=!1;(t||(e.f&Ha)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(fs(e.nodes.start,e.nodes.end),n=!0),sa(e,t&&!n),qn(e,0),ve(e,Ct);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();ds(e);var a=e.parent;a!==null&&a.first!==null&&vs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function fs(e,t){for(;e!==null;){var n=e===t?null:Jn(e);e.remove(),e=n}}function vs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function rn(e,t,n=!0){var r=[];gs(e,r,!0);var a=()=>{n&&De(e),t&&t()},s=r.length;if(s>0){var o=()=>--s||a();for(var l of r)l.out(o)}else a()}function gs(e,t,n){if((e.f&He)===0){e.f^=He;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var a=e.first;a!==null;){var s=a.next,o=(a.f&Sn)!==0||(a.f&it)!==0&&(e.f&It)!==0;gs(a,t,o?n:!1),a=s}}}function ia(e){ms(e,!0)}function ms(e,t){if((e.f&He)!==0){e.f^=He,(e.f&Se)===0&&(ve(e,Ce),tt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Sn)!==0||(n.f&it)!==0;ms(n,a?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function _s(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var a=n===r?null:Jn(n);t.append(n),n=a}}let cr=!1,Kt=!1;function pa(e){Kt=e}let te=null,nt=!1;function Ye(e){te=e}let ue=null;function _t(e){ue=e}let je=null;function ps(e){te!==null&&(je===null?je=[e]:je.push(e))}let Le=null,Ue=0,Ke=null;function To(e){Ke=e}let hs=1,$t=0,an=$t;function ha(e){an=e}function bs(){return++hs}function Qn(e){var t=e.f;if((t&Ce)!==0)return!0;if(t&Ne&&(e.f&=~sn),(t&st)!==0){for(var n=e.deps,r=n.length,a=0;a<r;a++){var s=n[a];if(Qn(s)&&ts(s),s.wv>e.wv)return!0}(t&Ze)!==0&&ke===null&&ve(e,Se)}return!1}function ys(e,t,n=!0){var r=e.reactions;if(r!==null&&!(je!==null&&wn.call(je,e)))for(var a=0;a<r.length;a++){var s=r[a];(s.f&Ne)!==0?ys(s,t,!1):t===s&&(n?ve(s,Ce):(s.f&Se)!==0&&ve(s,st),tt(s))}}function Es(e){var w;var t=Le,n=Ue,r=Ke,a=te,s=je,o=_e,l=nt,c=an,u=e.f;Le=null,Ue=0,Ke=null,te=(u&(it|un))===0?e:null,je=null,Tn(e.ctx),nt=!1,an=++$t,e.ac!==null&&(Sr(()=>{e.ac.abort(jt)}),e.ac=null);try{e.f|=Dr;var d=e.fn,g=d();e.f|=Vn;var f=e.deps,p=J==null?void 0:J.is_fork;if(Le!==null){var _;if(p||qn(e,Ue),f!==null&&Ue>0)for(f.length=Ue+Le.length,_=0;_<Le.length;_++)f[Ue+_]=Le[_];else e.deps=f=Le;if(na()&&(e.f&Ze)!==0)for(_=Ue;_<f.length;_++)((w=f[_]).reactions??(w.reactions=[])).push(e)}else!p&&f!==null&&Ue<f.length&&(qn(e,Ue),f.length=Ue);if(Xn()&&Ke!==null&&!nt&&f!==null&&(e.f&(Ne|st|Ce))===0)for(_=0;_<Ke.length;_++)ys(Ke[_],e);if(a!==null&&a!==e){if($t++,a.deps!==null)for(let v=0;v<n;v+=1)a.deps[v].rv=$t;if(t!==null)for(const v of t)v.rv=$t;Ke!==null&&(r===null?r=Ke:r.push(...Ke))}return(e.f&Ht)!==0&&(e.f^=Ht),g}catch(v){return ja(v)}finally{e.f^=Dr,Le=t,Ue=n,Ke=r,te=a,je=s,Tn(o),nt=l,an=c}}function xo(e,t){let n=t.reactions;if(n!==null){var r=ui.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}if(n===null&&(t.f&Ne)!==0&&(Le===null||!wn.call(Le,t))){var s=t;(s.f&Ze)!==0&&(s.f^=Ze,s.f&=~sn),Qr(s),co(s),qn(s,0)}}function qn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)xo(e,n[r])}function kn(e){var t=e.f;if((t&Ct)===0){ve(e,Se);var n=ue,r=cr;ue=e,cr=!0;try{(t&(It|Fa))!==0?So(e):sa(e),ds(e);var a=Es(e);e.teardown=typeof a=="function"?a:null,e.wv=hs;var s;Mr&&Zi&&(e.f&Ce)!==0&&e.deps}finally{cr=r,ue=n}}}async function Ao(){await Promise.resolve(),Vi()}function i(e){var t=e.f,n=(t&Ne)!==0;if(te!==null&&!nt){var r=ue!==null&&(ue.f&Ct)!==0;if(!r&&(je===null||!wn.call(je,e))){var a=te.deps;if((te.f&Dr)!==0)e.rv<$t&&(e.rv=$t,Le===null&&a!==null&&a[Ue]===e?Ue++:Le===null?Le=[e]:Le.push(e));else{(te.deps??(te.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[te]:wn.call(s,te)||s.push(te)}}}if(Kt&&Gt.has(e))return Gt.get(e);if(n){var o=e;if(Kt){var l=o.v;return((o.f&Se)===0&&o.reactions!==null||Ss(o))&&(l=ta(o)),Gt.set(o,l),l}var c=(o.f&Ze)===0&&!nt&&te!==null&&(cr||(te.f&Ze)!==0),u=(o.f&Vn)===0;Qn(o)&&(c&&(o.f|=Ze),ts(o)),c&&!u&&(ns(o),ws(o))}if(ke!=null&&ke.has(e))return ke.get(e);if((e.f&Ht)!==0)throw e.v;return e.v}function ws(e){if(e.f|=Ze,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Ne)!==0&&(t.f&Ze)===0&&(ns(t),ws(t))}function Ss(e){if(e.v===Ae)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Gt.has(t)||(t.f&Ne)!==0&&Ss(t))return!0;return!1}function er(e){var t=nt;try{return nt=!0,e()}finally{nt=t}}const ko=["touchstart","touchmove"];function No(e){return ko.includes(e)}const Vt=Symbol("events"),Ts=new Set,Wr=new Set;function Co(e,t,n,r={}){function a(s){if(r.capture||Zr.call(t,s),!s.cancelBubble)return Sr(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Rt(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Xt(e,t,n,r,a){var s={capture:r,passive:a},o=Co(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&cs(()=>{t.removeEventListener(e,o,s)})}function oe(e,t,n){(t[Vt]??(t[Vt]={}))[e]=n}function ht(e){for(var t=0;t<e.length;t++)Ts.add(e[t]);for(var n of Wr)n(e)}let ba=null;function Zr(e){var v,b;var t=this,n=t.ownerDocument,r=e.type,a=((v=e.composedPath)==null?void 0:v.call(e))||[],s=a[0]||e.target;ba=e;var o=0,l=ba===e&&e[Vt];if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e[Vt]=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(s=a[o]||e.target,s!==t){di(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=te,g=ue;Ye(null),_t(null);try{for(var f,p=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var w=(b=s[Vt])==null?void 0:b[r];w!=null&&(!s.disabled||e.target===s)&&w.call(s,e)}catch(I){f?p.push(I):f=I}if(e.cancelBubble||_===t||_===null)break;s=_}if(f){for(let I of p)queueMicrotask(()=>{throw I});throw f}}finally{e[Vt]=t,delete e.currentTarget,Ye(d),_t(g)}}}var Da;const Ar=((Da=globalThis==null?void 0:globalThis.window)==null?void 0:Da.trustedTypes)&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Ro(e){return(Ar==null?void 0:Ar.createHTML(e))??e}function xs(e,t=!1){var n=mo("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?Ro(e):e,n.content}function Gn(e,t){var n=ue;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function T(e,t){var n=(t&qi)!==0,r=(t&Gi)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=xs(s?e:"<!>"+e,!0),n||(a=zt(a)));var o=r||ss?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=zt(o),c=o.lastChild;Gn(l,c)}else Gn(o,o);return o}}function ya(e=""){{var t=Ot(e+"");return Gn(t,t),t}}function As(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ot();return e.append(t,n),Gn(t,n),e}function S(e,t){e!==null&&e.before(t)}function P(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Oo(e,t){return Io(e,t)}const rr=new Map;function Io(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:o=!0}){vo();var l=void 0,c=yo(()=>{var u=n??t.appendChild(Ot());eo(u,{pending:()=>{}},f=>{Oe({});var p=_e;s&&(p.c=s),a&&(r.$$events=a),l=e(f,r)||{},Ie()});var d=new Set,g=f=>{for(var p=0;p<f.length;p++){var _=f[p];if(!d.has(_)){d.add(_);var w=No(_);for(const I of[t,document]){var v=rr.get(I);v===void 0&&(v=new Map,rr.set(I,v));var b=v.get(_);b===void 0?(I.addEventListener(_,Zr,{passive:w}),v.set(_,1)):v.set(_,b+1)}}}};return g(br(Ts)),Wr.add(g),()=>{var w;for(var f of d)for(const v of[t,document]){var p=rr.get(v),_=p.get(f);--_==0?(v.removeEventListener(f,Zr),p.delete(f),p.size===0&&rr.delete(v)):p.set(f,_)}Wr.delete(g),u!==n&&((w=u.parentNode)==null||w.removeChild(u))}});return Mo.set(l,c),l}let Mo=new WeakMap;var Qe,mt,Fe,nn,Yn,$n,hr;class Lo{constructor(t,n=!0){ut(this,"anchor");ae(this,Qe,new Map);ae(this,mt,new Map);ae(this,Fe,new Map);ae(this,nn,new Set);ae(this,Yn,!0);ae(this,$n,()=>{var t=J;if(h(this,Qe).has(t)){var n=h(this,Qe).get(t),r=h(this,mt).get(n);if(r)ia(r),h(this,nn).delete(n);else{var a=h(this,Fe).get(n);a&&(h(this,mt).set(n,a.effect),h(this,Fe).delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[s,o]of h(this,Qe)){if(h(this,Qe).delete(s),s===t)break;const l=h(this,Fe).get(o);l&&(De(l.effect),h(this,Fe).delete(o))}for(const[s,o]of h(this,mt)){if(s===n||h(this,nn).has(s))continue;const l=()=>{if(Array.from(h(this,Qe).values()).includes(s)){var u=document.createDocumentFragment();_s(o,u),u.append(Ot()),h(this,Fe).set(s,{effect:o,fragment:u})}else De(o);h(this,nn).delete(s),h(this,mt).delete(s)};h(this,Yn)||!r?(h(this,nn).add(s),rn(o,l,!1)):l()}}});ae(this,hr,t=>{h(this,Qe).delete(t);const n=Array.from(h(this,Qe).values());for(const[r,a]of h(this,Fe))n.includes(r)||(De(a.effect),h(this,Fe).delete(r))});this.anchor=t,X(this,Yn,n)}ensure(t,n){var r=J,a=ls();if(n&&!h(this,mt).has(t)&&!h(this,Fe).has(t))if(a){var s=document.createDocumentFragment(),o=Ot();s.append(o),h(this,Fe).set(t,{effect:et(()=>n(o)),fragment:s})}else h(this,mt).set(t,et(()=>n(this.anchor)));if(h(this,Qe).set(r,t),a){for(const[l,c]of h(this,mt))l===t?r.unskip_effect(c):r.skip_effect(c);for(const[l,c]of h(this,Fe))l===t?r.unskip_effect(c.effect):r.skip_effect(c.effect);r.oncommit(h(this,$n)),r.ondiscard(h(this,hr))}else h(this,$n).call(this)}}Qe=new WeakMap,mt=new WeakMap,Fe=new WeakMap,nn=new WeakMap,Yn=new WeakMap,$n=new WeakMap,hr=new WeakMap;function G(e,t,n=!1){var r=new Lo(e),a=n?Sn:0;function s(o,l){r.ensure(o,l)}aa(()=>{var o=!1;t((l,c=0)=>{o=!0,s(c,l)}),o||s(!1,null)},a)}function at(e,t){return t}function Do(e,t,n){for(var r=[],a=t.length,s,o=t.length,l=0;l<a;l++){let g=t[l];rn(g,()=>{if(s){if(s.pending.delete(g),s.done.add(g),s.pending.size===0){var f=e.outrogroups;jr(br(s.done)),f.delete(s),f.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var c=r.length===0&&n!==null;if(c){var u=n,d=u.parentNode;go(d),d.append(u),e.items.clear()}jr(t,!c)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function jr(e,t=!0){for(var n=0;n<e.length;n++)De(e[n],t)}var Ea;function qe(e,t,n,r,a,s=null){var o=e,l=new Map,c=(t&qa)!==0;if(c){var u=e;o=u.appendChild(Ot())}var d=null,g=ea(()=>{var b=n();return Ba(b)?b:b==null?[]:br(b)}),f,p=!0;function _(){v.fallback=d,Po(v,f,o,t,r),d!==null&&(f.length===0?(d.f&Nt)===0?ia(d):(d.f^=Nt,Bn(d,null,o)):rn(d,()=>{d=null}))}var w=aa(()=>{f=i(g);for(var b=f.length,I=new Set,k=J,C=ls(),R=0;R<b;R+=1){var D=f[R],$=r(D,R),V=p?null:l.get($);V?(V.v&&An(V.v,D),V.i&&An(V.i,R),C&&k.unskip_effect(V.e)):(V=Bo(l,p?o:Ea??(Ea=Ot()),D,$,R,a,t,n),p||(V.e.f|=Nt),l.set($,V)),I.add($)}if(b===0&&s&&!d&&(p?d=et(()=>s(o)):(d=et(()=>s(Ea??(Ea=Ot()))),d.f|=Nt)),b>I.size&&Si(),!p)if(C){for(const[A,M]of l)I.has(A)||k.skip_effect(M.e);k.oncommit(_),k.ondiscard(()=>{})}else _();i(g)}),v={effect:w,items:l,outrogroups:null,fallback:d};p=!1}function Mn(e){for(;e!==null&&(e.f&it)===0;)e=e.next;return e}function Po(e,t,n,r,a){var M,W,le,B,F,j,se,H,U;var s=(r&Di)!==0,o=t.length,l=e.items,c=Mn(e.effect.first),u,d=null,g,f=[],p=[],_,w,v,b;if(s)for(b=0;b<o;b+=1)_=t[b],w=a(_,b),v=l.get(w).e,(v.f&Nt)===0&&((W=(M=v.nodes)==null?void 0:M.a)==null||W.measure(),(g??(g=new Set)).add(v));for(b=0;b<o;b+=1){if(_=t[b],w=a(_,b),v=l.get(w).e,e.outrogroups!==null)for(const x of e.outrogroups)x.pending.delete(v),x.done.delete(v);if((v.f&Nt)!==0)if(v.f^=Nt,v===c)Bn(v,null,n);else{var I=d?d.next:c;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),Bt(e,d,v),Bt(e,v,I),Bn(v,I,n),d=v,f=[],p=[],c=Mn(d.next);continue}if((v.f&He)!==0&&(ia(v),s&&((B=(le=v.nodes)==null?void 0:le.a)==null||B.unfix(),(g??(g=new Set)).delete(v))),v!==c){if(u!==void 0&&u.has(v)){if(f.length<p.length){var k=p[0],C;d=k.prev;var R=f[0],D=f[f.length-1];for(C=0;C<f.length;C+=1)Bn(f[C],k,n);for(C=0;C<p.length;C+=1)u.delete(p[C]);Bt(e,R.prev,D.next),Bt(e,d,R),Bt(e,D,k),c=k,d=D,b-=1,f=[],p=[]}else u.delete(v),Bn(v,c,n),Bt(e,v.prev,v.next),Bt(e,v,d===null?e.effect.first:d.next),Bt(e,d,v),d=v;continue}for(f=[],p=[];c!==null&&c!==v;)(u??(u=new Set)).add(c),p.push(c),c=Mn(c.next);if(c===null)continue}(v.f&Nt)===0&&f.push(v),d=v,c=Mn(v.next)}if(e.outrogroups!==null){for(const x of e.outrogroups)x.pending.size===0&&(jr(br(x.done)),(F=e.outrogroups)==null||F.delete(x));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||u!==void 0){var $=[];if(u!==void 0)for(v of u)(v.f&He)===0&&$.push(v);for(;c!==null;)(c.f&He)===0&&c!==e.fallback&&$.push(c),c=Mn(c.next);var V=$.length;if(V>0){var A=(r&qa)!==0&&o===0?n:null;if(s){for(b=0;b<V;b+=1)(se=(j=$[b].nodes)==null?void 0:j.a)==null||se.measure();for(b=0;b<V;b+=1)(U=(H=$[b].nodes)==null?void 0:H.a)==null||U.fix()}Do(e,$,A)}}s&&Rt(()=>{var x,O;if(g!==void 0)for(v of g)(O=(x=v.nodes)==null?void 0:x.a)==null||O.apply()})}function Bo(e,t,n,r,a,s,o,l){var c=(o&Mi)!==0?(o&Pi)===0?uo(n,!1,!1):on(n):null,u=(o&Li)!==0?on(a):null;return{v:c,i:u,e:et(()=>(s(t,c??n,u??a,l),()=>{e.delete(r)}))}}function Bn(e,t,n){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end,s=t&&(t.f&Nt)===0?t.nodes.start:n;r!==null;){var o=Jn(r);if(s.before(r),r===a)return;r=o}}function Bt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Uo(e,t,n=!1,r=!1,a=!1){var s=e,o="";q(()=>{var l=ue;if(o!==(o=t()??"")&&(l.nodes!==null&&(fs(l.nodes.start,l.nodes.end),l.nodes=null),o!=="")){var c=o+"";n?c=`<svg>${c}</svg>`:r&&(c=`<math>${c}</math>`);var u=xs(c);if((n||r)&&(u=zt(u)),Gn(zt(u),u.lastChild),n||r)for(;zt(u);)s.before(zt(u));else s.before(u)}})}const wa=[...` 	
\r\f \v\uFEFF`];function zo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,o=0;(o=r.indexOf(a,o))>=0;){var l=o+s;(o===0||wa.includes(r[o-1]))&&(l===r.length||wa.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Fo(e,t){return e==null?null:String(e)}function me(e,t,n,r,a,s){var o=e.__className;if(o!==n||o===void 0){var l=zo(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function vr(e,t,n,r){var a=e.__style;if(a!==t){var s=Fo(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const Ho=Symbol("is custom element"),qo=Symbol("is html"),Go=yi?"progress":"PROGRESS";function Ko(e,t){var n=ks(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==Go)||(e.value=t??"")}function Ft(e,t,n,r){var a=ks(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[bi]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Wo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ks(e){return e.__attributes??(e.__attributes={[Ho]:e.nodeName.includes("-"),[qo]:e.namespaceURI===Ga})}var Sa=new Map;function Wo(e){var t=e.getAttribute("is")||e.nodeName,n=Sa.get(t);if(n)return n;Sa.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=fi(a);for(var o in r)r[o].set&&n.push(o);a=Ua(a)}return n}function oa(e,t,n=t){var r=new WeakSet;po(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=kr(e)?Nr(s):s,n(s),J!==null&&r.add(J),await Ao(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd,c=e.value.length;if(e.value=s??"",l!==null){var u=e.value.length;o===l&&l===c&&u>c?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=o,e.selectionEnd=Math.min(l,u))}}}),er(t)==null&&e.value&&(n(kr(e)?Nr(e.value):e.value),J!==null&&r.add(J)),ra(()=>{var a=t();if(e===document.activeElement){var s=Pr??J;if(r.has(s))return}kr(e)&&a===Nr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function kr(e){var t=e.type;return t==="number"||t==="range"}function Nr(e){return e===""?null:+e}function Ta(e,t){return e===t||(e==null?void 0:e[Un])===t}function Kn(e={},t,n,r){return Eo(()=>{var a,s;return ra(()=>{a=s,s=[],er(()=>{e!==n(...s)&&(t(e,...s),a&&Ta(n(...a),e)&&t(null,...a))})}),()=>{Rt(()=>{s&&Ta(n(...s),e)&&t(null,...s)})}}),e}let ar=!1;function Zo(e){var t=ar;try{return ar=!1,[e(),ar]}finally{ar=t}}function cn(e,t,n,r){var k;var a=!Cn||(n&Ui)!==0,s=(n&Fi)!==0,o=(n&Hi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=o?er(r):r),l),d;if(s){var g=Un in e||hi in e;d=((k=vn(e,t))==null?void 0:k.set)??(g&&t in e?C=>e[t]=C:void 0)}var f,p=!1;s?[f,p]=Zo(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(a&&Ni(),d(f)));var _;if(a?_=()=>{var C=e[t];return C===void 0?u():(c=!0,C)}:_=()=>{var C=e[t];return C!==void 0&&(l=void 0),C===void 0?l:C},a&&(n&zi)===0)return _;if(d){var w=e.$$legacy;return(function(C,R){return arguments.length>0?((!a||!R||w||p)&&d(R?_():C),C):_()})}var v=!1,b=((n&Bi)!==0?wr:ea)(()=>(v=!1,_()));s&&i(b);var I=ue;return(function(C,R){if(arguments.length>0){const D=R?i(b):a&&s?We(C):C;return N(b,D),v=!0,l!==void 0&&(l=D),C}return Kt&&v||(I.f&Ct)!==0?b.v:i(b)})}function jo(e){_e===null&&Ei(),Cn&&_e.l!==null?Yo(_e).m.push(e):rt(()=>{const t=er(e);if(typeof t=="function")return t})}function Yo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const $o="5";var Pa;typeof window<"u"&&((Pa=window.__svelte??(window.__svelte={})).v??(Pa.v=new Set)).add($o);const la="aletheia_token";function Rn(){return localStorage.getItem(la)}function Ns(e){localStorage.setItem(la,e)}function Vo(){localStorage.removeItem(la)}function Xo(){const e=Rn();return{...e?{Authorization:`Bearer ${e}`}:{},"Content-Type":"application/json"}}async function dn(e,t){const n=window.location.origin,r=await fetch(`${n}${e}`,{...t,headers:{...Xo(),...t==null?void 0:t.headers}});if(r.status===401)throw new Error("Unauthorized — check your token");if(!r.ok){const a=await r.text();throw new Error(`API error ${r.status}: ${a}`)}return r.json()}async function Jo(){return(await dn("/api/agents")).agents}async function Qo(e){return dn(`/api/agents/${e}/identity`)}async function el(e){const t=e?`?nousId=${e}`:"";return(await dn(`/api/sessions${t}`)).sessions}async function tl(e,t=100){return(await dn(`/api/sessions/${e}/history?limit=${t}`)).messages}async function nl(){return dn("/api/metrics")}async function rl(){return dn("/api/costs/summary")}async function al(e){const n=await dn("/api/memory/graph/export");return{nodes:n.nodes,edges:n.edges,communities:n.communities}}let dt=null,Cr=null,ur=1e3;const sl=3e4,Yr=new Set;function il(e){return Yr.add(e),()=>Yr.delete(e)}function sr(e,t){for(const n of Yr)try{n(e,t)}catch{}}function ol(){dt||Cs()}function Cs(){const e=Rn(),n=`${window.location.origin}/api/events${e?`?token=${encodeURIComponent(e)}`:""}`;dt=new EventSource(n),dt.onopen=()=>{ur=1e3,sr("connection",{status:"connected"})},dt.onerror=()=>{sr("connection",{status:"disconnected"}),dt==null||dt.close(),dt=null,ll()},dt.addEventListener("init",a=>{try{sr("init",JSON.parse(a.data))}catch{}});const r=["turn:before","turn:after","turn:text_delta","turn:tool_start","turn:tool_result","tool:called","tool:failed","session:created","session:archived"];for(const a of r)dt.addEventListener(a,s=>{try{sr(a,JSON.parse(s.data))}catch{}})}function ll(){Cr||(Cr=setTimeout(()=>{Cr=null,ur=Math.min(ur*2,sl),Cs()},ur))}let Rs=Z("disconnected");function xa(){return i(Rs)}function cl(){il((e,t)=>{e==="connection"&&N(Rs,t.status,!0)}),ol()}let ca=Z(We([])),Wn=Z(null),Aa=Z(!1);const dr=new Map;function Os(){return i(ca)}function Is(){return i(ca).find(e=>e.id===i(Wn))??null}function St(){return i(Wn)}async function ul(){N(Aa,!0);try{const e=await Jo(),t=e.filter(n=>!dr.has(n.id));if(t.length>0){const n=await Promise.allSettled(t.map(r=>Qo(r.id).then(a=>({id:r.id,identity:a}))));for(const r of n)r.status==="fulfilled"&&dr.set(r.value.id,r.value.identity)}for(const n of e){const r=dr.get(n.id);r&&(n.name=r.name||n.name,n.emoji=r.emoji)}N(ca,e,!0),!i(Wn)&&e.length>0&&N(Wn,e[0].id,!0)}finally{N(Aa,!1)}}function Ms(e){N(Wn,e,!0)}function dl(e){var t;return((t=dr.get(e))==null?void 0:t.emoji)??null}var fl=T('<span class="agent-emoji svelte-mc3eh3"> </span>'),vl=T('<span class="active-agent svelte-mc3eh3"><!> </span>'),gl=T('<div class="settings-panel svelte-mc3eh3"><label class="settings-label svelte-mc3eh3">Gateway Token <input type="password" class="settings-input svelte-mc3eh3" placeholder="Enter gateway auth token"/></label> <div class="settings-actions svelte-mc3eh3"><button class="btn-primary svelte-mc3eh3">Save</button> <button class="btn-ghost svelte-mc3eh3">Clear & Logout</button> <button class="btn-ghost svelte-mc3eh3">Cancel</button></div></div>'),ml=T('<header class="topbar svelte-mc3eh3"><div class="left svelte-mc3eh3"><button aria-label="Toggle sidebar"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" class="svelte-mc3eh3"><rect x="1" y="2" width="16" height="14" rx="2" stroke="currentColor" stroke-width="1.5" fill="none" class="svelte-mc3eh3"></rect><line x1="6.5" y1="2" x2="6.5" y2="16" stroke="currentColor" stroke-width="1.5" class="svelte-mc3eh3"></line></svg></button> <h1 class="title svelte-mc3eh3">Aletheia</h1> <span></span> <!></div> <div class="right svelte-mc3eh3"><button>Metrics</button> <button>Graph</button> <button class="topbar-btn svelte-mc3eh3">Settings</button></div></header> <!>',1);function _l(e,t){Oe(t,!0);let n=cn(t,"sidebarCollapsed",3,!1),r=Z(!1),a=Z(We(Rn()??"")),s=ee(Is);function o(){i(a).trim()&&(Ns(i(a).trim()),N(r,!1),location.reload())}function l(){Vo(),location.reload()}var c=ml(),u=ln(c),d=m(u),g=m(d);let f;var p=E(g,4);let _;var w=E(p,2);{var v=A=>{var M=vl(),W=m(M);{var le=F=>{var j=fl(),se=m(j);q(()=>P(se,i(s).emoji)),S(F,j)};G(W,F=>{i(s).emoji&&F(le)})}var B=E(W);q(()=>P(B,` ${i(s).name??""}`)),S(A,M)};G(w,A=>{i(s)&&A(v)})}var b=E(d,2),I=m(b);let k;var C=E(I,2);let R;var D=E(C,2),$=E(u,2);{var V=A=>{var M=gl(),W=m(M),le=E(m(W)),B=E(W,2),F=m(B),j=E(F,2),se=E(j,2);oa(le,()=>i(a),H=>N(a,H)),oe("click",F,o),oe("click",j,l),oe("click",se,()=>N(r,!1)),S(A,M)};G($,A=>{i(r)&&A(V)})}q(A=>{f=me(g,1,"sidebar-toggle svelte-mc3eh3",null,f,{open:!n()}),Ft(g,"title",n()?"Show agents":"Hide agents"),_=me(p,1,"status-dot svelte-mc3eh3",null,_,A),k=me(I,1,"topbar-btn svelte-mc3eh3",null,k,{active:t.activeView==="metrics"}),R=me(C,1,"topbar-btn svelte-mc3eh3",null,R,{active:t.activeView==="graph"})},[()=>({connected:xa()==="connected",connecting:xa()==="connecting"})]),oe("click",g,function(...A){var M;(M=t.onToggleSidebar)==null||M.apply(this,A)}),oe("click",I,()=>t.onSetView(t.activeView==="metrics"?"chat":"metrics")),oe("click",C,()=>t.onSetView(t.activeView==="graph"?"chat":"graph")),oe("click",D,()=>N(r,!i(r))),S(e,c),Ie()}ht(["click"]);function Ln(e){return e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?Math.round(e/1e3)+"k":String(e):"0"}function pl(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`}function fr(e){if(!e)return"never";const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function ka(e){return`$${e.toFixed(4)}`}function hl(e){return e<1e3?`${e}ms`:`${(e/1e3).toFixed(1)}s`}function bl(e){try{return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return""}}var yl=T('<span class="emoji svelte-9yl1a2"> </span>'),El=T('<span class="initials svelte-9yl1a2"> </span>'),wl=T('<span class="activity svelte-9yl1a2"> </span>'),Sl=T('<button><span class="avatar svelte-9yl1a2"><!></span> <span class="info svelte-9yl1a2"><span class="name svelte-9yl1a2"> </span> <!></span></button>');function Tl(e,t){Oe(t,!0);let n=cn(t,"isActive",3,!1);var r=Sl();let a;var s=m(r),o=m(s);{var l=_=>{var w=yl(),v=m(w);q(()=>P(v,t.agent.emoji)),S(_,w)},c=_=>{var w=El(),v=m(w);q(b=>P(v,b),[()=>t.agent.name.slice(0,2).toUpperCase()]),S(_,w)};G(o,_=>{t.agent.emoji?_(l):_(c,!1)})}var u=E(s,2),d=m(u),g=m(d),f=E(d,2);{var p=_=>{var w=wl(),v=m(w);q(b=>P(v,b),[()=>fr(t.lastActivity)]),S(_,w)};G(f,_=>{t.lastActivity&&_(p)})}q(()=>{a=me(r,1,"agent-card svelte-9yl1a2",null,a,{active:n()}),P(g,t.agent.name)}),oe("click",r,function(..._){var w;(w=t.onclick)==null||w.apply(this,_)}),S(e,r),Ie()}ht(["click"]);let fn=Z(We([])),gn=Z(null),Na=Z(!1);function Ls(){return i(fn).find(e=>e.id===i(gn))??null}function xl(){return i(gn)}async function gr(e){N(Na,!0);try{const t=await el(e);if(N(fn,t.filter(n=>!n.sessionKey.startsWith("cron:")&&!n.sessionKey.startsWith("agent:")&&!n.sessionKey.startsWith("prosoche")),!0),i(fn).length>0){if(!i(fn).find(r=>r.id===i(gn))){const r=i(fn).find(a=>a.sessionKey.startsWith("signal:"));N(gn,(r==null?void 0:r.id)??i(fn)[0].id,!0)}}else N(gn,null)}finally{N(Na,!1)}}function Al(){const e=Ls();return(e==null?void 0:e.sessionKey)??`web:${Date.now()}`}function kl(e){const t=`web:${Date.now()}`;return N(gn,null),t}function Nl(e){gr(e)}var Cl=T('<aside><div class="agent-list svelte-1m85e6v"></div></aside>');function Rl(e,t){Oe(t,!0);let n=cn(t,"collapsed",3,!1);function r(l){var c;Ms(l),gr(l),(c=t.onAgentSelect)==null||c.call(t)}rt(()=>{const l=St();l&&gr(l)});var a=Cl();let s;var o=m(a);qe(o,21,Os,at,(l,c)=>{{let u=ee(()=>i(c).id===St());Tl(l,{get agent(){return i(c)},get isActive(){return i(u)},onclick:()=>r(i(c).id)})}}),q(()=>s=me(a,1,"sidebar svelte-1m85e6v",null,s,{collapsed:n()})),S(e,a),Ie()}const mr="[A-Za-z$_][0-9A-Za-z$_]*",Ds=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ps=["true","false","null","undefined","NaN","Infinity"],Bs=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Us=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],zs=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Fs=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Hs=[].concat(zs,Bs,Us);function Ol(e){const t=e.regex,n=(U,{after:x})=>{const O="</"+U[0].slice(1);return U.input.indexOf(O,x)!==-1},r=mr,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(U,x)=>{const O=U[0].length+U.index,Y=U.input[O];if(Y==="<"||Y===","){x.ignoreMatch();return}Y===">"&&(n(U,{after:O})||x.ignoreMatch());let Q;const L=U.input.substring(O);if(Q=L.match(/^\s*=/)){x.ignoreMatch();return}if((Q=L.match(/^\s+extends\s+/))&&Q.index===0){x.ignoreMatch();return}}},l={$pattern:mr,keyword:Ds,literal:Ps,built_in:Hs,"variable.language":Fs},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},I={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,w,v,{match:/\$\d+/},g];f.contains=k.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(k)});const C=[].concat(I,f.contains),R=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(C)}]),D={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:R},$={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},V={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Bs,...Us]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},M={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[D],illegal:/%/},W={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function le(U){return t.concat("(?!",U.join("|"),")")}const B={match:t.concat(/\b/,le([...zs,"super","import"].map(U=>`${U}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},F={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},D]},se="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",H={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(se)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[D]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:R,CLASS_REFERENCE:V},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,w,v,I,{match:/\$\d+/},g,V,{scope:"attr",match:r+t.lookahead(":"),relevance:0},H,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:se,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:R}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},M,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[D,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[D]},B,W,$,j,{match:/\$[(.]/}]}}function qs(e){const t=e.regex,n=Ol(e),r=mr,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:mr,keyword:Ds.concat(c),literal:Ps,built_in:Hs.concat(a),"variable.language":Fs},d={className:"meta",begin:"@"+r},g=(w,v,b)=>{const I=w.contains.findIndex(k=>k.label===v);if(I===-1)throw new Error("can not find mode to replace");w.contains.splice(I,1,b)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const f=n.contains.find(w=>w.scope==="attr"),p=Object.assign({},f,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,p]),n.contains=n.contains.concat([d,s,o,p]),g(n,"shebang",e.SHEBANG()),g(n,"use_strict",l);const _=n.contains.find(w=>w.label==="func.def");return _.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}const Ca="[A-Za-z$_][0-9A-Za-z$_]*",Il=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ml=["true","false","null","undefined","NaN","Infinity"],Gs=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ks=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ws=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ll=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Dl=[].concat(Ws,Gs,Ks);function Zs(e){const t=e.regex,n=(U,{after:x})=>{const O="</"+U[0].slice(1);return U.input.indexOf(O,x)!==-1},r=Ca,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(U,x)=>{const O=U[0].length+U.index,Y=U.input[O];if(Y==="<"||Y===","){x.ignoreMatch();return}Y===">"&&(n(U,{after:O})||x.ignoreMatch());let Q;const L=U.input.substring(O);if(Q=L.match(/^\s*=/)){x.ignoreMatch();return}if((Q=L.match(/^\s+extends\s+/))&&Q.index===0){x.ignoreMatch();return}}},l={$pattern:Ca,keyword:Il,literal:Ml,built_in:Dl,"variable.language":Ll},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},_={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},I={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,w,v,{match:/\$\d+/},g];f.contains=k.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(k)});const C=[].concat(I,f.contains),R=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(C)}]),D={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:R},$={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},V={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Gs,...Ks]}},A={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},M={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[D],illegal:/%/},W={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function le(U){return t.concat("(?!",U.join("|"),")")}const B={match:t.concat(/\b/,le([...Ws,"super","import"].map(U=>`${U}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},F={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},D]},se="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",H={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(se)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[D]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:R,CLASS_REFERENCE:V},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),A,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,_,w,v,I,{match:/\$\d+/},g,V,{scope:"attr",match:r+t.lookahead(":"),relevance:0},H,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:se,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:R}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},M,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[D,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[D]},B,W,$,j,{match:/\$[(.]/}]}}function Pl(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},g={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,_=`\\b|${r.join("|")}`,w={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${_})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${_})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${_})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${_})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${_})`},{begin:`\\b(${f})[jJ](?=${_})`}]},v={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,w,g,e.HASH_COMMENT_MODE]}]};return u.contains=[g,w,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,w,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},g,v,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[w,b,g]}]}}function ua(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,a]};a.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),_={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},w=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],b={match:/(\/[a-z._-]+)+/},I=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],k=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],C=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],R=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:w,literal:v,built_in:[...I,...k,"set","shopt",...C,...R]},contains:[p,e.SHEBANG(),_,g,s,o,b,l,c,u,d,n]}}function Bl(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],a={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function js(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},l=e.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},_={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},w={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},v=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},_,w,s,o],b=[...v];return b.pop(),b.push(l),p.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}function Ul(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],g=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,_=[...u,...c].filter(R=>!d.includes(R)),w={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function I(R){return t.concat(/\b/,t.either(...R.map(D=>D.replace(/\s+/,"\\s+"))),/\b/)}const k={scope:"keyword",match:I(f),relevance:0};function C(R,{exceptions:D,when:$}={}){const V=$;return D=D||[],R.map(A=>A.match(/\|\d+$/)||D.includes(A)?A:V(A)?`${A}|0`:A)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:C(_,{when:R=>R.length<3}),literal:s,type:l,built_in:g},contains:[{scope:"type",match:I(o)},k,b,w,r,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,v]}}function Ys(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},g=e.inherit(u,{contains:[]}),f=e.inherit(d,{contains:[]});u.contains.push(f),d.contains.push(g);let p=[n,c];return[u,d,g,f].forEach(b=>{b.contains=b.contains.concat(p)}),p=p.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},a,r,c,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function $s(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(s,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,l,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,c,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const zl=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Fl=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Hl=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],ql=[...Fl,...Hl],Gl=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Kl=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Wl=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Zl=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function jl(e){const t=e.regex,n=zl(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Kl.join("|")+")"},{begin:":(:)?("+Wl.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Zl.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:Gl.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+ql.join("|")+")\\b"}]}}const Yl=new li({breaks:!0,gfm:!0});Re.registerLanguage("typescript",qs);Re.registerLanguage("javascript",Zs);Re.registerLanguage("python",Pl);Re.registerLanguage("bash",ua);Re.registerLanguage("shell",ua);Re.registerLanguage("sh",ua);Re.registerLanguage("json",Bl);Re.registerLanguage("yaml",js);Re.registerLanguage("yml",js);Re.registerLanguage("sql",Ul);Re.registerLanguage("markdown",Ys);Re.registerLanguage("md",Ys);Re.registerLanguage("xml",$s);Re.registerLanguage("html",$s);Re.registerLanguage("css",jl);Re.registerLanguage("ts",qs);Re.registerLanguage("js",Zs);function $l(e){const t=Yl.parse(e,{async:!1});return ci.sanitize(t,{ADD_ATTR:["class"]})}var Vl=T('<div class="markdown-body svelte-xioz66"><!></div>');function Vs(e,t){Oe(t,!0);let n=ee(()=>$l(t.content)),r=Z(null);rt(()=>{i(n),i(r)&&requestAnimationFrame(()=>{const o=i(r).querySelectorAll("pre");for(const l of o){if(l.querySelector(".copy-btn"))continue;const c=document.createElement("button");c.className="copy-btn",c.textContent="Copy",c.setAttribute("aria-label","Copy code to clipboard"),c.addEventListener("click",()=>{var d;const u=((d=l.querySelector("code"))==null?void 0:d.textContent)??l.textContent??"";navigator.clipboard.writeText(u).then(()=>{c.textContent="Copied!",c.classList.add("copied"),setTimeout(()=>{c.textContent="Copy",c.classList.remove("copied")},2e3)})}),l.style.position="relative",l.appendChild(c)}})});var a=Vl(),s=m(a);Uo(s,()=>i(n)),Kn(a,o=>N(r,o),()=>i(r)),S(e,a),Ie()}var Xl=T('<span class="chat-avatar-text">You</span>'),Jl=T('<span class="chat-avatar-emoji"> </span>'),Ql=T('<span class="chat-avatar-text"> </span>'),ec=T('<button><span class="chat-tool-icon">⚙</span> </button>'),tc=T('<button class="media-thumb svelte-dfflq6"><img class="svelte-dfflq6"/></button>'),nc=T('<div class="file-attachment svelte-dfflq6"><span class="file-att-icon svelte-dfflq6">📄</span> <span class="file-att-name svelte-dfflq6"> </span></div>'),rc=T('<div class="file-attachment svelte-dfflq6"><span class="file-att-icon svelte-dfflq6">📝</span> <span class="file-att-name svelte-dfflq6"> </span></div>'),ac=T("<div></div>"),sc=T('<div class="user-text svelte-dfflq6"> </div>'),ic=T('<div class="chat-content"><!></div>'),oc=T('<div class="lightbox svelte-dfflq6" role="dialog" tabindex="-1"><img alt="Expanded view" class="svelte-dfflq6"/> <button class="lightbox-close svelte-dfflq6" aria-label="Close">×</button></div>'),lc=T('<div><div><!></div> <div class="chat-body"><!> <!> <!> <div class="timestamp svelte-dfflq6"> </div></div></div> <!>',1);function cc(e,t){Oe(t,!0);let n=ee(()=>t.message.role==="user"),r=ee(()=>t.agentName?t.agentName.slice(0,2).toUpperCase():"AI"),a=ee(()=>t.message.media&&t.message.media.length>0);function s(B){const F=B.filter(se=>se.status==="running").length,j=B.filter(se=>se.status==="error").length;return F>0?`${B.length} tools running...`:j>0?`${B.length} tools (${j} failed)`:`${B.length} tool${B.length===1?"":"s"} used`}let o=Z(null);function l(B){N(o,B,!0)}function c(){N(o,null)}var u=lc(),d=ln(u);let g;var f=m(d);let p;var _=m(f);{var w=B=>{var F=Xl();S(B,F)},v=B=>{var F=Jl(),j=m(F);q(()=>P(j,t.agentEmoji)),S(B,F)},b=B=>{var F=Ql(),j=m(F);q(()=>P(j,i(r))),S(B,F)};G(_,B=>{i(n)?B(w):t.agentEmoji?B(v,1):B(b,!1)})}var I=E(f,2),k=m(I);{var C=B=>{var F=ec();let j;var se=E(m(F));q((H,U)=>{j=me(F,1,"chat-tool-pill",null,j,H),P(se,` ${U??""}`)},[()=>({"has-error":t.message.toolCalls.some(H=>H.status==="error")}),()=>s(t.message.toolCalls)]),oe("click",F,()=>{var H;return(H=t.onToolClick)==null?void 0:H.call(t,t.message.toolCalls)}),S(B,F)};G(k,B=>{t.message.toolCalls&&t.message.toolCalls.length>0&&B(C)})}var R=E(k,2);{var D=B=>{var F=ac();let j;qe(F,21,()=>t.message.media,at,(se,H)=>{var U=As(),x=ln(U);{var O=de=>{var fe=tc(),pe=m(fe);q(()=>{Ft(pe,"src",`data:${i(H).contentType??""};base64,${i(H).data??""}`),Ft(pe,"alt",i(H).filename??"image")}),oe("click",fe,()=>l(`data:${i(H).contentType};base64,${i(H).data}`)),S(de,fe)},Y=ee(()=>i(H).contentType.startsWith("image/")),Q=de=>{var fe=nc(),pe=E(m(fe),2),Ge=m(pe);q(()=>P(Ge,i(H).filename??"document.pdf")),S(de,fe)},L=de=>{var fe=rc(),pe=E(m(fe),2),Ge=m(pe);q(()=>P(Ge,i(H).filename??"file")),S(de,fe)};G(x,de=>{i(Y)?de(O):i(H).contentType==="application/pdf"?de(Q,1):de(L,!1)})}S(se,U)}),q(()=>j=me(F,1,"msg-media svelte-dfflq6",null,j,{single:t.message.media.length===1,grid:t.message.media.length>1})),S(B,F)};G(R,B=>{i(a)&&B(D)})}var $=E(R,2);{var V=B=>{var F=ic(),j=m(F);{var se=U=>{var x=sc(),O=m(x);q(()=>P(O,t.message.content)),S(U,x)},H=U=>{Vs(U,{get content(){return t.message.content}})};G(j,U=>{i(n)?U(se):U(H,!1)})}S(B,F)};G($,B=>{t.message.content&&B(V)})}var A=E($,2),M=m(A),W=E(d,2);{var le=B=>{var F=oc(),j=m(F),se=E(j,2);q(()=>Ft(j,"src",i(o))),oe("click",F,c),oe("keydown",F,H=>H.key==="Escape"&&c()),oe("click",se,c),S(B,F)};G(W,B=>{i(o)&&B(le)})}q(B=>{g=me(d,1,"chat-msg",null,g,{user:i(n),assistant:!i(n)}),p=me(f,1,"chat-avatar",null,p,{user:i(n),agent:!i(n)}),P(M,B)},[()=>bl(t.message.timestamp)]),S(e,u),Ie()}ht(["click","keydown"]);ji();var uc=T('<span class="dots svelte-76byqe"><span class="dot svelte-76byqe"></span> <span class="dot svelte-76byqe"></span> <span class="dot svelte-76byqe"></span></span>');function dc(e){var t=uc();S(e,t)}var fc=T('<div class="empty-emoji svelte-12m7xaa"> </div>'),vc=T('<div class="empty-initials svelte-12m7xaa"> </div>'),gc=T('<div class="empty-state svelte-12m7xaa"><!> <p>Send a message to start a conversation.</p></div>'),mc=T('<span class="chat-avatar-emoji"> </span>'),_c=T('<span class="chat-avatar-text"> </span>'),pc=T('<span class="activity-duration svelte-12m7xaa"> </span>'),hc=T('<span class="activity-spinner svelte-12m7xaa"></span>'),bc=T('<div><span> </span> <span class="activity-label svelte-12m7xaa"> </span> <!> <!></div>'),yc=T('<div class="activity-feed svelte-12m7xaa"></div>'),Ec=T('<div class="chat-content"><!></div>'),wc=T('<div class="chat-msg assistant streaming"><div class="chat-avatar agent"><!></div> <div class="chat-body"><!> <!></div></div>'),Sc=T("<!> <!>",1),Tc=T('<button class="scroll-btn svelte-12m7xaa">New messages below</button>'),xc=T('<div class="message-list svelte-12m7xaa"><!> <!></div>');function Ac(e,t){Oe(t,!0);let n=ee(()=>t.agentName?t.agentName.slice(0,2).toUpperCase():"AI"),r=Z(null),a=Z(!0);function s(){if(!i(r))return;N(a,i(r).scrollHeight-i(r).scrollTop-i(r).clientHeight<100)}function o(){i(r)&&(i(r).scrollTop=i(r).scrollHeight)}rt(()=>{t.messages.length,t.streamingText,t.activeToolCalls.length,i(a)&&requestAnimationFrame(o)});function l(v){const b=v.name;switch(b){case"exec":return"Running command";case"read":return"Reading file";case"write":return"Writing file";case"edit":return"Editing file";case"grep":return"Searching files";case"find":return"Finding files";case"ls":return"Listing directory";case"web_search":return"Searching web";case"web_fetch":return"Fetching page";case"mem0_search":return"Searching memory";case"blackboard":return"Checking blackboard";case"sessions_send":return"Messaging agent";case"sessions_ask":return"Asking agent";case"sessions_spawn":return"Spawning worker";case"message":return"Sending message";case"enable_tool":return"Enabling tool";default:return b.replace(/_/g," ")}}function c(v){switch(v){case"running":return"◌";case"complete":return"✓";case"error":return"✕";default:return"·"}}function u(v){return v==null?"":v<1e3?`${v}ms`:`${(v/1e3).toFixed(1)}s`}var d=xc(),g=m(d);{var f=v=>{var b=gc(),I=m(b);{var k=R=>{var D=fc(),$=m(D);q(()=>P($,t.agentEmoji)),S(R,D)},C=R=>{var D=vc(),$=m(D);q(()=>P($,i(n))),S(R,D)};G(I,R=>{t.agentEmoji?R(k):R(C,!1)})}S(v,b)},p=v=>{var b=Sc(),I=ln(b);qe(I,17,()=>t.messages,R=>R.id,(R,D)=>{cc(R,{get message(){return i(D)},get agentName(){return t.agentName},get agentEmoji(){return t.agentEmoji},get onToolClick(){return t.onToolClick}})});var k=E(I,2);{var C=R=>{var D=wc(),$=m(D),V=m($);{var A=H=>{var U=mc(),x=m(U);q(()=>P(x,t.agentEmoji)),S(H,U)},M=H=>{var U=_c(),x=m(U);q(()=>P(x,i(n))),S(H,U)};G(V,H=>{t.agentEmoji?H(A):H(M,!1)})}var W=E($,2),le=m(W);{var B=H=>{var U=yc();qe(U,21,()=>t.activeToolCalls,x=>x.id,(x,O)=>{var Y=bc();let Q;var L=m(Y);let de;var fe=m(L),pe=E(L,2),Ge=m(pe),bt=E(pe,2);{var Lt=K=>{var ie=pc(),Te=m(ie);q(xe=>P(Te,xe),[()=>u(i(O).durationMs)]),S(K,ie)};G(bt,K=>{i(O).durationMs!=null&&K(Lt)})}var Zt=E(bt,2);{var ce=K=>{var ie=hc();S(K,ie)};G(Zt,K=>{i(O).status==="running"&&K(ce)})}q((K,ie)=>{Q=me(Y,1,"activity-item svelte-12m7xaa",null,Q,{running:i(O).status==="running",error:i(O).status==="error"}),de=me(L,1,"activity-status svelte-12m7xaa",null,de,{running:i(O).status==="running",complete:i(O).status==="complete",error:i(O).status==="error"}),P(fe,K),P(Ge,ie)},[()=>c(i(O).status),()=>l(i(O))]),S(x,Y)}),S(H,U)};G(le,H=>{t.activeToolCalls.length>0&&H(B)})}var F=E(le,2);{var j=H=>{var U=Ec(),x=m(U);Vs(x,{get content(){return t.streamingText}}),S(H,U)},se=H=>{dc(H)};G(F,H=>{t.streamingText?H(j):t.activeToolCalls.length===0&&H(se,1)})}S(R,D)};G(k,R=>{t.isStreaming&&R(C)})}S(v,b)};G(g,v=>{t.messages.length===0&&!t.isStreaming?v(f):v(p,!1)})}var _=E(g,2);{var w=v=>{var b=Tc();oe("click",b,o),S(v,b)};G(_,v=>{!i(a)&&t.isStreaming&&v(w)})}Kn(d,v=>N(r,v),()=>i(r)),Xt("scroll",d,s),S(e,d),Ie()}ht(["click"]);var kc=T('<div class="context-bar svelte-dgb2n2"><div class="context-fill svelte-dgb2n2"></div></div>'),Nc=T('<button><span class="slash-cmd svelte-dgb2n2"> </span> <span class="slash-desc svelte-dgb2n2"> </span></button>'),Cc=T('<div class="slash-menu svelte-dgb2n2"></div>'),Rc=T('<div class="queued-indicator svelte-dgb2n2"><span class="queued-text svelte-dgb2n2"> </span> <button class="queued-cancel svelte-dgb2n2" aria-label="Cancel queued message">×</button></div>'),Oc=T('<img class="svelte-dgb2n2"/>'),Ic=T('<span class="file-emoji svelte-dgb2n2">📄</span>'),Mc=T('<span class="file-emoji svelte-dgb2n2">📝</span>'),Lc=T('<span class="file-emoji svelte-dgb2n2">📎</span>'),Dc=T('<div class="file-icon svelte-dgb2n2"><!></div>'),Pc=T('<span class="attachment-name svelte-dgb2n2"> </span>'),Bc=T('<div class="attachment-thumb svelte-dgb2n2"><!> <button class="remove-btn svelte-dgb2n2" aria-label="Remove attachment">×</button> <!></div>'),Uc=T('<div class="attachment-preview svelte-dgb2n2"></div>'),zc=T('<button class="stop-btn svelte-dgb2n2" aria-label="Stop generating" title="Stop generating (Esc)"><span class="stop-icon svelte-dgb2n2">■</span></button>'),Fc=T('<div class="drag-overlay svelte-dgb2n2"><div class="drag-label svelte-dgb2n2">Drop file to attach</div></div>'),Hc=T('<div><!> <div class="input-area svelte-dgb2n2"><!> <!> <!> <div><!> <button class="attach-btn svelte-dgb2n2" title="Attach file (images, PDFs, text, code)" aria-label="Attach file"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"></path></svg></button> <textarea rows="1" class="svelte-dgb2n2"></textarea> <button> </button></div> <input type="file" accept="image/*,application/pdf,.json,.xml,.csv,.md,.txt,.html,.yaml,.yml,.toml,.log,.py,.js,.ts,.sh,.sql,.css,.rs,.go,.java,.c,.cpp,.h,.rb,.swift" multiple="" class="hidden-file-input svelte-dgb2n2"/></div> <!></div>');function qc(e,t){Oe(t,!0);let n=cn(t,"contextPercent",3,0),r=cn(t,"slashCommands",19,()=>[]),a=Z(""),s=Z(null),o=Z(null),l=Z(!1),c=Z(0),u=Z(We([])),d=Z(null),g=Z(!1);const f=25*1024*1024,p=["image/jpeg","image/png","image/gif","image/webp"],_=["application/pdf"],w=["text/plain","text/csv","text/markdown","text/html","text/xml","application/json","application/xml"],v=[...p,..._,...w];function b(y){return w.includes(y)||y.startsWith("text/")}function I(y){return p.includes(y)}let k=ee(()=>i(a).startsWith("/")?r().filter(y=>y.command.startsWith(i(a).trim())):[]);rt(()=>{N(l,i(k).length>0&&i(a).startsWith("/"),!0),i(l)&&N(c,0)}),rt(()=>{if(!t.isStreaming&&i(s)){const y=i(s);N(s,null),t.onSend(y)}});function C(y){var re;if(y.type&&(v.includes(y.type)||y.type.startsWith("text/")))return y.type;const z=(re=y.name.split(".").pop())==null?void 0:re.toLowerCase(),ne={pdf:"application/pdf",json:"application/json",xml:"application/xml",csv:"text/csv",md:"text/markdown",txt:"text/plain",html:"text/html",htm:"text/html",yaml:"text/yaml",yml:"text/yaml",toml:"text/plain",log:"text/plain",py:"text/plain",js:"text/plain",ts:"text/plain",sh:"text/plain",sql:"text/plain",css:"text/plain",rs:"text/plain",go:"text/plain",java:"text/plain",c:"text/plain",cpp:"text/plain",h:"text/plain",rb:"text/plain",swift:"text/plain"};return z&&ne[z]?ne[z]:null}function R(y){return new Promise(z=>{const ne=C(y);if(!ne){z(null);return}if(y.size>f){z(null);return}const re=new FileReader;re.onload=()=>{const Ee=re.result,ge=Ee.match(/^data:[^;]+;base64,(.+)$/),we=ge?ge[1]:Ee;z({contentType:ne,data:we,filename:y.name})},re.onerror=()=>z(null),re.readAsDataURL(y)})}async function D(y){const z=Array.from(y);for(const ne of z){if(i(u).length>=4)break;const re=await R(ne);re&&N(u,[...i(u),re],!0)}}function $(y){N(u,i(u).filter((z,ne)=>ne!==y),!0)}function V(){var y;(y=i(d))==null||y.click()}function A(y){const z=y.target;z.files&&(D(z.files),z.value="")}function M(y){y.preventDefault(),N(g,!0)}function W(y){y.preventDefault(),N(g,!1)}function le(y){var z;y.preventDefault(),N(g,!1),(z=y.dataTransfer)!=null&&z.files&&D(y.dataTransfer.files)}function B(y){var re;const z=(re=y.clipboardData)==null?void 0:re.items;if(!z)return;const ne=[];for(const Ee of z)if(Ee.kind==="file"){const ge=Ee.getAsFile();ge&&C(ge)&&ne.push(ge)}ne.length>0&&(y.preventDefault(),D(ne))}function F(y){if(i(l)){if(y.key==="ArrowDown"){y.preventDefault(),N(c,(i(c)+1)%i(k).length);return}if(y.key==="ArrowUp"){y.preventDefault(),N(c,(i(c)-1+i(k).length)%i(k).length);return}if(y.key==="Tab"||y.key==="Enter"&&!y.shiftKey){y.preventDefault();const z=i(k)[i(c)];z&&(N(a,z.command,!0),N(l,!1),y.key==="Enter"&&j());return}if(y.key==="Escape"){y.preventDefault(),N(l,!1);return}}y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),j())}function j(){const y=i(a).trim();if(!(y||i(u).length>0))return;if(t.isStreaming){y&&(N(s,y,!0),N(a,""),i(o)&&(i(o).style.height="40px"));return}const ne=i(u).length>0?[...i(u)]:void 0,Ee=(ne==null?void 0:ne.some(we=>I(we.contentType)))?"What's in this image?":"Please review this file.",ge=y||(ne?Ee:"");t.onSend(ge,ne),N(a,""),N(u,[],!0),N(l,!1),i(o)&&(i(o).style.height="40px")}function se(){i(o)&&(i(o).style.height="40px",i(o).style.height=Math.min(i(o).scrollHeight,200)+"px")}function H(y){const z=i(k)[y];z&&(N(a,z.command,!0),N(l,!1),j())}rt(()=>{!t.isStreaming&&i(o)&&i(o).focus()});let U=ee(()=>n()>80?"var(--red)":n()>60?"var(--yellow)":"var(--accent)"),x=ee(()=>i(a).trim().length>0||i(u).length>0);var O=Hc();let Y;var Q=m(O);{var L=y=>{var z=kc(),ne=m(z);q(()=>{Ft(z,"title",`Context window: ${n()??""}% used`),vr(ne,`width: ${n()??""}%; background: ${i(U)??""};`)}),S(y,z)};G(Q,y=>{n()>0&&y(L)})}var de=E(Q,2),fe=m(de);{var pe=y=>{var z=Cc();qe(z,21,()=>i(k),at,(ne,re,Ee)=>{var ge=Nc();let we;var Ve=m(ge),Pt=m(Ve),On=E(Ve,2),tr=m(On);q(()=>{we=me(ge,1,"slash-item svelte-dgb2n2",null,we,{selected:Ee===i(c)}),P(Pt,i(re).command),P(tr,i(re).description)}),oe("click",ge,()=>H(Ee)),S(ne,ge)}),S(y,z)};G(fe,y=>{i(l)&&y(pe)})}var Ge=E(fe,2);{var bt=y=>{var z=Rc(),ne=m(z),re=m(ne),Ee=E(ne,2);q(ge=>P(re,`Queued: ${ge??""}`),[()=>i(s).length>60?i(s).slice(0,60)+"…":i(s)]),oe("click",Ee,()=>{N(s,null)}),S(y,z)};G(Ge,y=>{i(s)&&y(bt)})}var Lt=E(Ge,2);{var Zt=y=>{var z=Uc();qe(z,21,()=>i(u),at,(ne,re,Ee)=>{var ge=Bc(),we=m(ge);{var Ve=ct=>{var Et=Oc();q(()=>{Ft(Et,"src",`data:${i(re).contentType??""};base64,${i(re).data??""}`),Ft(Et,"alt",i(re).filename??"attachment")}),S(ct,Et)},Pt=ee(()=>I(i(re).contentType)),On=ct=>{var Et=Dc(),Tr=m(Et);{var ni=wt=>{var In=Ic();S(wt,In)},ri=wt=>{var In=Mc();S(wt,In)},ai=ee(()=>b(i(re).contentType)),si=wt=>{var In=Lc();S(wt,In)};G(Tr,wt=>{i(re).contentType==="application/pdf"?wt(ni):i(ai)?wt(ri,1):wt(si,!1)})}S(ct,Et)};G(we,ct=>{i(Pt)?ct(Ve):ct(On,!1)})}var tr=E(we,2),ei=E(tr,2);{var ti=ct=>{var Et=Pc(),Tr=m(Et);q(()=>P(Tr,i(re).filename)),S(ct,Et)};G(ei,ct=>{i(re).filename&&ct(ti)})}oe("click",tr,()=>$(Ee)),S(ne,ge)}),S(y,z)};G(Lt,y=>{i(u).length>0&&y(Zt)})}var ce=E(Lt,2);let K;var ie=m(ce);{var Te=y=>{var z=zc();oe("click",z,function(...ne){var re;(re=t.onAbort)==null||re.apply(this,ne)}),S(y,z)};G(ie,y=>{t.isStreaming&&y(Te)})}var xe=E(ie,2),he=E(xe,2);Kn(he,y=>N(o,y),()=>i(o));var be=E(he,2);let ye;var $e=m(be),lt=E(ce,2);Kn(lt,y=>N(d,y),()=>i(d));var Dt=E(de,2);{var yt=y=>{var z=Fc();S(y,z)};G(Dt,y=>{i(g)&&y(yt)})}q((y,z)=>{Y=me(O,1,"input-bar svelte-dgb2n2",null,Y,{"drag-over":i(g)}),K=me(ce,1,"input-wrapper svelte-dgb2n2",null,K,{streaming:t.isStreaming}),Ft(he,"placeholder",t.isStreaming?"Type to queue a message...":"Type a message... (/ for commands)"),ye=me(be,1,"send-btn svelte-dgb2n2",null,ye,y),be.disabled=!i(x),P($e,z)},[()=>({queuing:t.isStreaming&&i(a).trim().length>0}),()=>t.isStreaming&&i(a).trim().length>0?"Queue":"Send"]),Xt("dragover",O,M),Xt("dragleave",O,W),Xt("drop",O,le),oe("click",xe,V),oe("keydown",he,F),oe("input",he,se),Xt("paste",he,B),oa(he,()=>i(a),y=>N(a,y)),oe("click",be,j),oe("change",lt,A),S(e,O),Ie()}ht(["click","keydown","input","change"]);var Gc=T('<span class="spinner svelte-1ctlpsp"></span>');function Kc(e,t){let n=cn(t,"size",3,16);var r=Gc();q(()=>vr(r,`width: ${n()??""}px; height: ${n()??""}px;`)),S(e,r)}var Wc=T('<span class="icon-error svelte-14mu1sd">✕</span>'),Zc=T('<span class="icon-ok svelte-14mu1sd">✓</span>'),jc=T('<span class="tool-duration svelte-14mu1sd"> </span>'),Yc=T('<div class="tool-output svelte-14mu1sd"><pre class="svelte-14mu1sd"> </pre></div>'),$c=T('<div><button class="tool-header svelte-14mu1sd"><span class="tool-icon svelte-14mu1sd"><!></span> <span class="tool-name svelte-14mu1sd"> </span> <!> <span class="expand-icon svelte-14mu1sd"> </span></button> <!></div>');function Vc(e,t){Oe(t,!0);let n=Z(!1);rt(()=>{t.tool.status==="error"&&N(n,!0)});var r=$c();let a;var s=m(r),o=m(s),l=m(o);{var c=k=>{Kc(k,{size:14})},u=k=>{var C=Wc();S(k,C)},d=k=>{var C=Zc();S(k,C)};G(l,k=>{t.tool.status==="running"?k(c):t.tool.status==="error"?k(u,1):k(d,!1)})}var g=E(o,2),f=m(g),p=E(g,2);{var _=k=>{var C=jc(),R=m(C);q(D=>P(R,D),[()=>hl(t.tool.durationMs)]),S(k,C)};G(p,k=>{t.tool.durationMs!=null&&k(_)})}var w=E(p,2),v=m(w),b=E(s,2);{var I=k=>{var C=Yc(),R=m(C),D=m(R);q(()=>P(D,t.tool.result)),S(k,C)};G(b,k=>{i(n)&&t.tool.result&&k(I)})}q(()=>{a=me(r,1,"tool-call svelte-14mu1sd",null,a,{running:t.tool.status==="running",error:t.tool.status==="error"}),P(f,t.tool.name),P(v,i(n)?"−":"+")}),oe("click",s,()=>N(n,!i(n))),S(e,r),Ie()}ht(["click"]);var Xc=T('<div class="tool-panel svelte-8tq4pr"><div class="panel-header svelte-8tq4pr"><span class="panel-title svelte-8tq4pr"> </span> <button class="close-btn svelte-8tq4pr" aria-label="Close panel">×</button></div> <div class="panel-body svelte-8tq4pr"></div></div>');function Jc(e,t){Oe(t,!0);var n=Xc(),r=m(n),a=m(r),s=m(a),o=E(a,2),l=E(r,2);qe(l,21,()=>t.tools,at,(c,u)=>{Vc(c,{get tool(){return i(u)}})}),q(()=>P(s,`Tool Calls (${t.tools.length??""})`)),oe("click",o,function(...c){var u;(u=t.onClose)==null||u.apply(this,c)}),S(e,n),Ie()}ht(["click"]);var Qc=T('<button class="dismiss svelte-1mejfyq" aria-label="Dismiss error">×</button>'),eu=T('<div class="error-banner svelte-1mejfyq" role="alert"><span class="error-text svelte-1mejfyq"> </span> <!></div>');function tu(e,t){var n=eu(),r=m(n),a=m(r),s=E(r,2);{var o=l=>{var c=Qc();oe("click",c,function(...u){var d;(d=t.onDismiss)==null||d.apply(this,u)}),S(l,c)};G(s,l=>{t.onDismiss&&l(o)})}q(()=>P(a,t.message)),S(e,n)}ht(["click"]);async function*nu(e,t,n,r,a){const s=window.location.origin,o=Rn(),l=await fetch(`${s}/api/sessions/stream`,{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},body:JSON.stringify({agentId:e,message:t,sessionKey:n,...a!=null&&a.length?{media:a}:{}}),signal:r});if(!l.ok){const g=await l.text();yield{type:"error",message:`HTTP ${l.status}: ${g}`};return}if(!l.body){yield{type:"error",message:"No response body"};return}const c=l.body.getReader(),u=new TextDecoder;let d="";try{for(;;){const{done:g,value:f}=await c.read();if(g)break;d+=u.decode(f,{stream:!0});const p=d.split(`
`);d=p.pop()??"";let _=null,w=null;for(const v of p)if(v.startsWith("event: "))_=v.slice(7).trim();else if(v.startsWith("data: "))w=v.slice(6);else if(v===""&&_&&w){try{yield JSON.parse(w)}catch{}_=null,w=null}else v.startsWith(":")}}finally{c.releaseLock()}}let Rr=We({});function ot(e){return Rr[e]||(Rr[e]={messages:[],isStreaming:!1,streamingText:"",activeToolCalls:[],error:null,abortController:null}),Rr[e]}function ru(e){return ot(e).messages}function Ra(e){return ot(e).isStreaming}function au(e){return ot(e).streamingText}function su(e){return ot(e).activeToolCalls}function Oa(e){return ot(e).error}function iu(e){ot(e).error=null}async function ou(e,t){const n=ot(e);try{const r=await tl(t);n.messages=du(r)}catch(r){n.error=r instanceof Error?r.message:String(r)}}function Or(e){const t=ot(e);t.messages=[],t.streamingText="",t.activeToolCalls=[],t.error=null}function lu(e,t){const n=ot(e),r={id:`system-${Date.now()}`,role:"assistant",content:t,timestamp:new Date().toISOString()};n.messages=[...n.messages,r]}async function cu(e,t,n,r){const a=ot(e);if(a.isStreaming)return;a.error=null;const s={id:`user-${Date.now()}`,role:"user",content:t,timestamp:new Date().toISOString(),...r!=null&&r.length?{media:r}:{}};a.messages=[...a.messages,s],a.isStreaming=!0,a.streamingText="",a.activeToolCalls=[],a.abortController=new AbortController;try{for await(const o of nu(e,t,n,a.abortController.signal,r))switch(o.type){case"text_delta":a.streamingText+=o.text;break;case"tool_start":a.activeToolCalls=[...a.activeToolCalls,{id:o.toolId,name:o.toolName,status:"running"}];break;case"tool_result":a.activeToolCalls=a.activeToolCalls.map(l=>l.id===o.toolId?{...l,status:o.isError?"error":"complete",result:o.result,durationMs:o.durationMs}:l);break;case"turn_complete":{const l={id:`assistant-${Date.now()}`,role:"assistant",content:a.streamingText||o.outcome.text,timestamp:new Date().toISOString(),toolCalls:a.activeToolCalls.length>0?[...a.activeToolCalls]:void 0};a.messages=[...a.messages,l],a.streamingText="",a.activeToolCalls=[];break}case"error":a.error=o.message;break}}catch(o){o.name!=="AbortError"&&(a.error=o instanceof Error?o.message:String(o))}finally{if(a.streamingText){const o={id:`assistant-${Date.now()}`,role:"assistant",content:a.streamingText,timestamp:new Date().toISOString(),toolCalls:a.activeToolCalls.length>0?[...a.activeToolCalls]:void 0};a.messages=[...a.messages,o]}a.isStreaming=!1,a.streamingText="",a.activeToolCalls=[],a.abortController=null}}function uu(e){var t;(t=ot(e).abortController)==null||t.abort()}function du(e){var r;const t=[];let n=[];for(const a of e)if(a.role==="user")t.push({id:a.id,role:"user",content:a.content,timestamp:a.createdAt});else if(a.role==="assistant"){try{const s=JSON.parse(a.content);if(Array.isArray(s)&&s.length>0&&((r=s[0])!=null&&r.type)){const o=s.filter(c=>c.type==="text"),l=s.filter(c=>c.type==="tool_use");if(l.length>0&&(n=l.map(c=>({id:c.id,name:c.name,status:"complete"}))),o.length>0&&l.length>0){const c=o.map(u=>u.text).join(`
`).trim();c&&t.push({id:a.id,role:"assistant",content:c,timestamp:a.createdAt})}if(l.length>0)continue;if(o.length>0){const c=o.map(u=>u.text).join(`
`).trim();t.push({id:a.id,role:"assistant",content:c,timestamp:a.createdAt,toolCalls:n.length>0?[...n]:void 0}),n=[];continue}}}catch{}t.push({id:a.id,role:"assistant",content:a.content,timestamp:a.createdAt,toolCalls:n.length>0?[...n]:void 0}),n=[]}else if(a.role==="tool_result"){const s=n.find(o=>o.id===a.toolCallId);s&&(s.result=a.content.slice(0,2e3))}return t}var fu=T('<div class="chat-view svelte-1ktw27c"><!> <div class="chat-area svelte-1ktw27c"><!> <!></div> <!></div>');function vu(e,t){Oe(t,!0);let n=null,r=!1;rt(()=>{const A=xl(),M=St();A&&M&&A!==n?(n=A,r?r=!1:ou(M,A)):!A&&n&&(n=null,M&&Or(M))});const a={"/new":{description:"Start a fresh conversation",handler:()=>{const A=St();A&&(kl(),Or(A))}},"/clear":{description:"Clear message display (keeps server history)",handler:()=>{const A=St();A&&Or(A)}},"/switch":{description:"Switch agent — /switch <name>",handler:A=>{if(!A)return;const M=A.toLowerCase().trim(),W=Os().find(le=>le.name.toLowerCase()===M||le.id.toLowerCase()===M);W&&(Ms(W.id),gr(W.id))}},"/help":{description:"Show available commands",handler:()=>{const A=St();if(!A)return;const M=Object.entries(a).map(([W,{description:le}])=>`\`${W}\` — ${le}`).join(`
`);lu(A,`**Available commands:**
${M}`)}}};function s(A,M){const W=A.trim();if(W.startsWith("/")){const F=W.indexOf(" "),j=F>0?W.slice(0,F):W,se=F>0?W.slice(F+1):void 0,H=a[j];if(H){H.handler(se);return}return}const le=St();if(!le)return;const B=Al();cu(le,A,B,M).then(()=>{r=!0,Nl(le)})}let o=ee(Is),l=ee(St),c=ee(()=>i(l)?dl(i(l)):null),u=ee(Ls),d=ee(()=>()=>{var W;const A=((W=i(u))==null?void 0:W.tokenCountEstimate)??0;return Math.min(100,Math.round(A/2e5*100))}),g=Z(null);function f(A){N(g,A,!0)}function p(){N(g,null)}function _(){const A=St();A&&uu(A)}function w(){return Object.entries(a).map(([A,{description:M}])=>({command:A,description:M}))}var v=fu(),b=m(v);{var I=A=>{{let M=ee(()=>Oa(i(l)));tu(A,{get message(){return i(M)},onDismiss:()=>{i(l)&&iu(i(l))}})}},k=ee(()=>i(l)&&Oa(i(l)));G(b,A=>{i(k)&&A(I)})}var C=E(b,2),R=m(C);{let A=ee(()=>i(l)?ru(i(l)):[]),M=ee(()=>i(l)?au(i(l)):""),W=ee(()=>i(l)?su(i(l)):[]),le=ee(()=>i(l)?Ra(i(l)):!1),B=ee(()=>{var F;return(F=i(o))==null?void 0:F.name});Ac(R,{get messages(){return i(A)},get streamingText(){return i(M)},get activeToolCalls(){return i(W)},get isStreaming(){return i(le)},get agentName(){return i(B)},get agentEmoji(){return i(c)},onToolClick:f})}var D=E(R,2);{var $=A=>{Jc(A,{get tools(){return i(g)},onClose:p})};G(D,A=>{i(g)&&A($)})}var V=E(C,2);{let A=ee(()=>i(l)?Ra(i(l)):!1),M=ee(()=>i(d)()),W=ee(w);qc(V,{get isStreaming(){return i(A)},onSend:s,onAbort:_,get contextPercent(){return i(M)},get slashCommands(){return i(W)}})}S(e,v),Ie()}var gu=T("<span> </span>");function mu(e,t){let n=cn(t,"variant",3,"default");var r=gu(),a=m(r);q(()=>{me(r,1,`badge ${n()??""}`,"svelte-mhmmzz"),P(a,t.text)}),S(e,r)}var _u=T('<div class="error svelte-y174pi"> </div>'),pu=T('<div class="loading svelte-y174pi">Loading metrics...</div>'),hu=T('<div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Total Cost</div> <div class="card-value svelte-y174pi"> </div></div>'),bu=T('<th class="svelte-y174pi">Cost</th>'),yu=T('<td class="svelte-y174pi"> </td>'),Eu=T('<tr><td class="agent-name svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td><td class="svelte-y174pi"> </td><td class="svelte-y174pi"> </td><!></tr>'),wu=T('<tr><td class="mono svelte-y174pi"> </td><td class="mono svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td><td class="muted svelte-y174pi"> </td></tr>'),Su=T('<div class="section svelte-y174pi"><h3 class="svelte-y174pi">Cron Jobs</h3> <table class="svelte-y174pi"><thead><tr><th class="svelte-y174pi">Job</th><th class="svelte-y174pi">Schedule</th><th class="svelte-y174pi">Next Run</th><th class="svelte-y174pi">Last Run</th></tr></thead><tbody></tbody></table></div>'),Tu=T('<div class="grid svelte-y174pi"><div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Uptime</div> <div class="card-value svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Tokens</div> <div class="card-value svelte-y174pi"> </div> <div class="card-sub svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Cache Hit Rate</div> <div class="card-value svelte-y174pi"> </div> <div class="card-sub svelte-y174pi"> </div></div> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Turns</div> <div class="card-value svelte-y174pi"> </div></div> <!> <div class="card svelte-y174pi"><div class="card-label svelte-y174pi">Services</div> <div class="card-value svelte-y174pi"><!></div> <div class="card-sub badges svelte-y174pi"></div></div></div> <div class="section svelte-y174pi"><h3 class="svelte-y174pi">Agents</h3> <table class="svelte-y174pi"><thead><tr><th class="svelte-y174pi">Agent</th><th class="svelte-y174pi">Sessions</th><th class="svelte-y174pi">Messages</th><th class="svelte-y174pi">Last Activity</th><th class="svelte-y174pi">Tokens In</th><th class="svelte-y174pi">Turns</th><!></tr></thead><tbody></tbody></table></div> <!>',1),xu=T('<div class="metrics-view svelte-y174pi"><!></div>');function Au(e,t){Oe(t,!0);let n=Z(null),r=Z(null),a=Z(null);async function s(){try{const[g,f]=await Promise.all([nl(),rl()]);N(n,g,!0),N(r,f,!0)}catch(g){N(a,g instanceof Error?g.message:String(g),!0)}}rt(()=>{s();const g=setInterval(s,15e3);return()=>clearInterval(g)});var o=xu(),l=m(o);{var c=g=>{var f=_u(),p=m(f);q(()=>P(p,i(a))),S(g,f)},u=g=>{var f=pu();S(g,f)},d=g=>{var f=Tu(),p=ln(f),_=m(p),w=E(m(_),2),v=m(w),b=E(_,2),I=E(m(b),2),k=m(I),C=E(I,2),R=m(C),D=E(b,2),$=E(m(D),2),V=m($),A=E($,2),M=m(A),W=E(D,2),le=E(m(W),2),B=m(le),F=E(W,2);{var j=ce=>{var K=hu(),ie=E(m(K),2),Te=m(ie);q(xe=>P(Te,xe),[()=>ka(i(r).totalCost)]),S(ce,K)};G(F,ce=>{i(r)&&ce(j)})}var se=E(F,2),H=E(m(se),2),U=m(H);{var x=ce=>{var K=ya();q(ie=>P(K,`${ie??""}/${i(n).services.length??""}`),[()=>i(n).services.filter(ie=>ie.healthy).length]),S(ce,K)},O=ce=>{var K=ya("-");S(ce,K)};G(U,ce=>{i(n).services.length>0?ce(x):ce(O,!1)})}var Y=E(H,2);qe(Y,21,()=>i(n).services,at,(ce,K)=>{{let ie=ee(()=>i(K).healthy?"success":"error");mu(ce,{get text(){return i(K).name},get variant(){return i(ie)}})}});var Q=E(p,2),L=E(m(Q),2),de=m(L),fe=m(de),pe=E(m(fe),6);{var Ge=ce=>{var K=bu();S(ce,K)};G(pe,ce=>{i(r)&&ce(Ge)})}var bt=E(de);qe(bt,21,()=>i(n).nous,at,(ce,K)=>{const ie=ee(()=>{var we;return(we=i(r))==null?void 0:we.agents.find(Ve=>Ve.agentId===i(K).id)});var Te=Eu(),xe=m(Te),he=m(xe),be=E(xe),ye=m(be),$e=E(be),lt=m($e),Dt=E($e),yt=m(Dt),y=E(Dt),z=m(y),ne=E(y),re=m(ne),Ee=E(ne);{var ge=we=>{var Ve=yu(),Pt=m(Ve);q(On=>P(Pt,On),[()=>i(ie)?ka(i(ie).totalCost||i(ie).cost):"-"]),S(we,Ve)};G(Ee,we=>{i(r)&&we(ge)})}q((we,Ve)=>{var Pt;P(he,i(K).name),P(ye,i(K).activeSessions),P(lt,i(K).totalMessages),P(yt,we),P(z,Ve),P(re,((Pt=i(K).tokens)==null?void 0:Pt.turns)??"-")},[()=>fr(i(K).lastActivity),()=>i(K).tokens?Ln(i(K).tokens.input):"-"]),S(ce,Te)});var Lt=E(Q,2);{var Zt=ce=>{var K=Su(),ie=E(m(K),2),Te=E(m(ie));qe(Te,21,()=>i(n).cron,at,(xe,he)=>{var be=wu(),ye=m(be),$e=m(ye),lt=E(ye),Dt=m(lt),yt=E(lt),y=m(yt),z=E(yt),ne=m(z);q((re,Ee)=>{P($e,i(he).id),P(Dt,i(he).cron),P(y,re),P(ne,Ee)},[()=>fr(i(he).nextRun),()=>fr(i(he).lastRun)]),S(xe,be)}),S(ce,K)};G(Lt,ce=>{i(n).cron.length>0&&ce(Zt)})}q((ce,K,ie,Te,xe)=>{P(v,ce),P(k,K),P(R,`${ie??""} in / ${Te??""} out`),P(V,`${i(n).usage.cacheHitRate??""}%`),P(M,`${xe??""} cached`),P(B,i(n).usage.turnCount)},[()=>pl(i(n).uptime),()=>Ln(i(n).usage.totalInputTokens+i(n).usage.totalOutputTokens),()=>Ln(i(n).usage.totalInputTokens),()=>Ln(i(n).usage.totalOutputTokens),()=>Ln(i(n).usage.totalCacheReadTokens)]),S(g,f)};G(l,g=>{i(a)?g(c):i(n)?g(d,!1):g(u,1)})}S(e,o),Ie()}const ku="modulepreload",Nu=function(e){return"/ui/"+e},Ia={},Cu=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(n.map(u=>{if(u=Nu(u),u in Ia)return;Ia[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":ku,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((p,_)=>{f.addEventListener("load",p),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Xs={nodes:[],edges:[],communities:0};let Wt=Z(We(Xs)),$r=Z(!1),Vr=Z(null),_r=Z(null),Js=Z(null),Qs=Z("");function Dn(){return i(Wt)}function Ru(){return i($r)}function Ma(){return i(Vr)}function Pn(){return i(_r)}function ir(e){N(_r,e,!0)}function or(){return i(Js)}function Ir(e){N(Js,e,!0)}function Ou(){return i(Qs)}function Iu(e){N(Qs,e,!0)}function Mu(){return i(_r)?i(Wt).nodes.find(e=>e.id===i(_r))??null:null}function Lu(e){return i(Wt).edges.filter(t=>t.source===e||t.target===e)}function Du(e){const t=new Set;for(const n of i(Wt).edges)n.source===e&&t.add(n.target),n.target===e&&t.add(n.source);return i(Wt).nodes.filter(n=>t.has(n.id))}function Pu(){const e=new Set;for(const t of i(Wt).nodes)t.community>=0&&e.add(t.community);return[...e].sort((t,n)=>t-n)}async function Bu(e){N($r,!0),N(Vr,null);try{N(Wt,await al(e),!0)}catch(t){N(Vr,t instanceof Error?t.message:String(t),!0),N(Wt,Xs,!0)}finally{N($r,!1)}}var Uu=T("<button> </button>"),zu=T('<div class="graph-loading svelte-1186pna">Loading graph...</div>'),Fu=T('<div class="graph-error svelte-1186pna"> </div>'),Hu=T('<span class="label-tag svelte-1186pna"> </span>'),qu=T('<div class="info-labels svelte-1186pna"></div>'),Gu=T('<div class="connection-row svelte-1186pna"><span class="rel-type svelte-1186pna"> </span> <button class="connection-target svelte-1186pna"> </button></div>'),Ku=T('<div class="connection-overflow svelte-1186pna"> </div>'),Wu=T('<div class="info-connections svelte-1186pna"><!> <!></div>'),Zu=T('<div class="info-panel svelte-1186pna"><div class="info-header svelte-1186pna"><span class="info-dot svelte-1186pna"></span> <strong class="svelte-1186pna"> </strong> <span class="info-meta svelte-1186pna"> </span> <button class="info-close svelte-1186pna">✕</button></div> <!> <!></div>'),ju=T('<div class="graph-view svelte-1186pna"><div class="graph-toolbar svelte-1186pna"><input class="graph-search svelte-1186pna" type="text" placeholder="Search nodes..."/> <div class="community-pills svelte-1186pna"><button>All</button> <!></div> <span class="graph-stats svelte-1186pna"> </span></div> <div class="graph-container svelte-1186pna"><!> <!></div> <!></div>');function Yu(e,t){Oe(t,!0);let n,r=null,a=Z(null);const s=["#58a6ff","#3fb950","#d29922","#f85149","#bc8cff","#f778ba","#79c0ff","#56d4dd","#e3b341","#db6d28","#8b949e","#7ee787","#a5d6ff","#ffa657","#ff7b72","#d2a8ff","#ffd8b5","#89dceb","#f9e2af","#a6e3a1"];function o(x){return x<0?"#30363d":s[x%s.length]}function l(x){const O=Math.max(x,1e-4),Y=(Math.log(O)+10)/10;return Math.max(2,Math.min(14,Y*12))}function c(x){const O=["KNOWS","LIVES_WITH","FAMILY_OF","WORKS_WITH","COMMUNICATES_WITH"],Y=["PART_OF","CONTAINS","DEPENDS_ON","INSTANCE_OF","LOCATED_AT"],Q=["PRECEDES","FOLLOWS","OCCURRED_AT","MENTIONS"];return O.includes(x)?"rgba(63, 185, 80, 0.35)":Y.includes(x)?"rgba(88, 166, 255, 0.35)":Q.includes(x)?"rgba(210, 153, 34, 0.35)":"rgba(139, 148, 158, 0.25)"}function u(x){if(!r||!Dn().nodes.find(pe=>pe.id===x))return;const L=r.graphData().nodes.find(pe=>pe.id===x);if(!L)return;const fe=1+120/Math.hypot(L.x||0,L.y||0,L.z||0);r.cameraPosition({x:(L.x||0)*fe,y:(L.y||0)*fe,z:(L.z||0)*fe},L,1e3),ir(x)}function d(x){const O=x.target;if(Iu(O.value),!O.value.trim())return;const Y=Dn(),Q=O.value.toLowerCase(),L=Y.nodes.find(de=>de.id.toLowerCase().includes(Q));L&&u(L.id)}function g(x){x.key==="Enter"&&d(x)}async function f(){if(await Bu(),!n)return;const x=(await Cu(async()=>{const{default:L}=await import("./graph3d-DXruCMex.js");return{default:L}},__vite__mapDeps([0,1]))).default,O=Dn(),Y={nodes:O.nodes.map(L=>({...L})),links:O.edges.map(L=>({source:L.source,target:L.target,rel_type:L.rel_type}))};r=new x(n).backgroundColor("#0a0a0f").showNavInfo(!1).width(n.clientWidth).height(n.clientHeight).graphData(Y).nodeId("id").nodeVal(L=>l(L.pagerank||.001)).nodeColor(L=>{if(i(a)&&L.id===i(a)||Pn()===L.id)return"#ffffff";const de=or();return de!==null&&L.community!==de?"rgba(48, 54, 61, 0.4)":o(L.community??-1)}).nodeLabel(L=>{const de=L.pagerank?L.pagerank.toFixed(4):"—",fe=L.community>=0?L.community:"—";return`<span style="color:#e6edf3;font-family:system-ui;font-size:12px">
          <b>${L.id}</b><br/>
          Community ${fe} · PR ${de}
        </span>`}).nodeOpacity(.9).linkSource("source").linkTarget("target").linkColor(L=>c(L.rel_type)).linkWidth(.5).linkOpacity(.6).linkDirectionalArrowLength(3).linkDirectionalArrowRelPos(1).linkLabel(L=>`<span style="color:#8b949e;font-size:11px">${L.rel_type}</span>`).onNodeClick(L=>{ir(L.id),u(L.id)}).onNodeHover(L=>{N(a,(L==null?void 0:L.id)??null,!0),n.style.cursor=L?"pointer":"default"}).onBackgroundClick(()=>{ir(null),Ir(null)}).warmupTicks(100).cooldownTime(3e3);const Q=new ResizeObserver(()=>{r&&n&&r.width(n.clientWidth).height(n.clientHeight)});return Q.observe(n),setTimeout(()=>{r&&r.zoomToFit(500,50)},3500),()=>{Q.disconnect(),r&&r._destructor()}}jo(()=>{let x;return f().then(O=>{x=O}),()=>x==null?void 0:x()});let p=ee(Mu),_=ee(()=>Pn()?Lu(Pn()):[]),w=ee(()=>Pn()?Du(Pn()):[]),v=ee(Pu);var b=ju(),I=m(b),k=m(I),C=E(k,2),R=m(C);let D;var $=E(R,2);qe($,17,()=>i(v).slice(0,12),at,(x,O)=>{var Y=Uu();let Q;var L=m(Y);q((de,fe)=>{Q=me(Y,1,"pill svelte-1186pna",null,Q,de),vr(Y,`--pill-color: ${fe??""}`),P(L,i(O))},[()=>({active:or()===i(O)}),()=>o(i(O))]),oe("click",Y,()=>Ir(or()===i(O)?null:i(O))),S(x,Y)});var V=E(C,2),A=m(V),M=E(I,2),W=m(M);{var le=x=>{var O=zu();S(x,O)},B=ee(()=>Ru());G(W,x=>{i(B)&&x(le)})}var F=E(W,2);{var j=x=>{var O=Fu(),Y=m(O);q(Q=>P(Y,Q),[Ma]),S(x,O)},se=ee(()=>Ma());G(F,x=>{i(se)&&x(j)})}Kn(M,x=>n=x,()=>n);var H=E(M,2);{var U=x=>{var O=Zu(),Y=m(O),Q=m(Y),L=E(Q,2),de=m(L),fe=E(L,2),pe=m(fe),Ge=E(fe,2),bt=E(Y,2);{var Lt=K=>{var ie=qu();qe(ie,21,()=>i(p).labels,at,(Te,xe)=>{var he=Hu(),be=m(he);q(()=>P(be,i(xe))),S(Te,he)}),S(K,ie)};G(bt,K=>{i(p).labels.length>0&&K(Lt)})}var Zt=E(bt,2);{var ce=K=>{var ie=Wu(),Te=m(ie);qe(Te,17,()=>i(_).slice(0,20),at,(be,ye)=>{var $e=Gu(),lt=m($e),Dt=m(lt),yt=E(lt,2),y=m(yt);q(()=>{var z;P(Dt,i(ye).rel_type),P(y,i(ye).source===((z=i(p))==null?void 0:z.id)?i(ye).target:i(ye).source)}),oe("click",yt,()=>{var z;return u(i(ye).source===((z=i(p))==null?void 0:z.id)?i(ye).target:i(ye).source)}),S(be,$e)});var xe=E(Te,2);{var he=be=>{var ye=Ku(),$e=m(ye);q(()=>P($e,`+${i(_).length-20} more`)),S(be,ye)};G(xe,be=>{i(_).length>20&&be(he)})}S(K,ie)};G(Zt,K=>{i(w).length>0&&K(ce)})}q((K,ie)=>{vr(Q,`background: ${K??""}`),P(de,i(p).id),P(pe,`Community ${(i(p).community>=0?i(p).community:"—")??""} ·
          PR ${ie??""}`)},[()=>o(i(p).community),()=>i(p).pagerank.toFixed(4)]),oe("click",Ge,()=>ir(null)),S(x,O)};G(H,x=>{i(p)&&x(U)})}q((x,O,Y,Q)=>{Ko(k,x),D=me(R,1,"pill svelte-1186pna",null,D,O),P(A,`${Y??""} nodes · ${Q??""} edges`)},[Ou,()=>({active:or()===null}),()=>Dn().nodes.length,()=>Dn().edges.length]),oe("input",k,d),oe("keydown",k,g),oe("click",R,()=>Ir(null)),S(e,b),Ie()}ht(["input","keydown","click"]);var $u=T('<div class="token-setup svelte-12d5wnd"><div class="token-card svelte-12d5wnd"><h1 class="svelte-12d5wnd">Aletheia</h1> <p class="svelte-12d5wnd">Enter your gateway authentication token to get started.</p> <form class="svelte-12d5wnd"><input type="password" class="token-input svelte-12d5wnd" placeholder="Gateway token"/> <button type="submit" class="token-submit svelte-12d5wnd">Connect</button></form></div></div>'),Vu=T('<button class="sidebar-overlay svelte-12d5wnd" aria-label="Close sidebar"></button>'),Xu=T('<!> <div class="main svelte-12d5wnd"><!> <!> <div class="content svelte-12d5wnd"><!></div></div>',1);function Ju(e,t){Oe(t,!0);const n="aletheia_sidebar_collapsed";let r=Z("chat"),a=Z(!!Rn()),s=Z(""),o=Z(localStorage.getItem(n)==="true");function l(_){_.preventDefault(),i(s).trim()&&(Ns(i(s).trim()),N(a,!0),location.reload())}function c(){N(o,!i(o)),localStorage.setItem(n,String(i(o)))}function u(){window.innerWidth<=768&&(N(o,!0),localStorage.setItem(n,String(i(o))))}var d=As(),g=ln(d);{var f=_=>{var w=$u(),v=m(w),b=E(m(v),4),I=m(b);Xt("submit",b,l),oa(I,()=>i(s),k=>N(s,k)),S(_,w)},p=_=>{var w=Xu(),v=ln(w);_l(v,{onSetView:M=>N(r,M,!0),onToggleSidebar:c,get activeView(){return i(r)},get sidebarCollapsed(){return i(o)}});var b=E(v,2),I=m(b);Rl(I,{get collapsed(){return i(o)},onAgentSelect:u});var k=E(I,2);{var C=M=>{var W=Vu();oe("click",W,u),S(M,W)};G(k,M=>{i(o)||M(C)})}var R=E(k,2),D=m(R);{var $=M=>{Au(M,{})},V=M=>{Yu(M,{})},A=M=>{vu(M,{})};G(D,M=>{i(r)==="metrics"?M($):i(r)==="graph"?M(V,1):M(A,!1)})}S(_,w)};G(g,_=>{i(a)?_(p,!1):_(f)})}S(e,d),Ie()}ht(["click"]);function Qu(e,t){Oe(t,!0),rt(()=>{Rn()&&(ul(),cl())});function n(a){var s,o,l;if((a.metaKey||a.ctrlKey)&&a.key==="n"&&(a.preventDefault(),(s=document.querySelector(".new-chat-btn"))==null||s.click()),a.key==="/"&&!r()&&(a.preventDefault(),(o=document.querySelector(".input-wrapper textarea"))==null||o.focus()),a.key==="Escape"){const c=document.querySelector(".abort-btn");c?c.click():(l=document.activeElement)==null||l.blur()}}function r(){const a=document.activeElement;return a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement}Xt("keydown",Kr,n),Ju(e,{}),Ie()}Oo(Qu,{target:document.getElementById("app")});
