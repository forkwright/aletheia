# 2026-02-06 — Research Stack, Repo Cleanup, Theke Migration

## What Happened

### Morning: Agent Identity Fix + Topology Frame + Research Protocol
- All agents were responding as Syn — `agents.list` was missing (overrides alone don't create agents). Fixed by Metis Claude Code.
- Arbor set to Sonnet 4.5 (`anthropic/claude-sonnet-4-5`, no date suffix)
- James Kinney pointed Cody to topology + dynamical systems → Rosetta Stone for metaxynoesis paper
- Framework 6 (Topological Dynamics) added to L5-research.md
- Research protocol established: 5-tier source hierarchy, inline citations, confidence marking, counter-evidence, PRISMA-Lite

### Midday: Research Tooling Built
- **scholar v1** — OpenAlex + wiki tools deployed
- **scholar v2** — Rebuilt as multi-source (OpenAlex + arXiv + Semantic Scholar), removed redundant MCPs (memory, task-orchestrator)
- **scholar v3** — Added CrossRef (BibTeX, metadata, bibliography fallback), auto-logging to `memory/research-log.md`, auto-tracking to `memory/reading-list.md`
- **Semantic Scholar API key** obtained (UT Austin affiliation) and wired in with 1 req/sec rate limiter
- **Pipeline complete:** pplx → scholar → scholar cite/refs → scholar fetch → scholar bib → auto-tracked

### Afternoon: Metaxynoesis Briefing for James
- Prepared comprehensive briefing on metaxynoesis × topology for Cody's conversation with James Kinney
- Validated key claims with scholar tool (Singer & Gray 1995: 3,337 citations confirmed)
- Confirmed gap: nobody has applied Poincaré sections to multi-agent AI systems
- Closest neighbors identified: Riedl et al. 2024, Sidji et al. 2024, Li et al. 2024

### Evening: Repo Cleanup for Sharing
- **README.md** rewritten: full architecture, nous table with epistemologies, data stores, tooling, cron, recovery
- **ALETHEIA.md** refined: philosophical companion (the "why"), removed stale references
- **30+ files removed from tracking:** Taskwarrior state, cookies, crewai leftovers, cache, blackboard ephemeral, stale docs
- **Secrets scrubbed:** mcporter.json (Todoist token), llms-full.txt
- **Relocated:** radio comms → akron/docs, what-was-seen → syn/docs, abstraction-mesh → syn/docs
- **Gitignore** updated and deduped (123 lines)
- Final: 537 meaningful files + 4,322 runtime fork. Clean, no secrets.

### Late: Theke Architecture Overhaul
- Cody asked about numbered vehicle docs → discovered theke was broken on Metis
- **Root cause:** Theke domains were symlinks to `projects/` which was excluded from Syncthing. Every symlink broke on Metis.
- **Fix: Flipped the entire relationship.** Content moved FROM `projects/` INTO `theke/`. `projects/` dirs now symlink back to theke. Agents symlink to theke too. One source of truth: theke.
- Migrated all 15 domains: chrematistike, poiesis, mouseion, portfolio, summus, apodemia, inbox, metaxynoesis, personal-inventory, akron (vehicle), autarkeia (preparedness+radio), career, ekphrasis (writing), oikia (household), documents
- Also flipped nous→theke: Syl's household docs, Akron's workspace files, Demiurge's knowledge/ardent/documents/writing all now live in theke
- **Dianoia deleted from Metis** — 33GB freed. Was under /home/syn/ (wrong user), all content already migrated.
- **Permission fix:** Files from projects/ had restrictive perms (710 dirs). Fixed with `chmod -R go+rX` on both server and Metis. Set `ignorePerms=true` on Metis vault folder.
- **Server-only project links** (a2z-tree-site, ardent-site, ardent-stripe-webhook, nas-home) added to .stignore so they don't create broken symlinks on Metis.
- Dead QUICK-REFERENCE.md symlinks removed from all 7 nous.
- **Final state:** Zero broken symlinks on Metis. One pre-existing broken link on server (gnomon/taxonomy_manager). Theke syncing at 12GB on Metis.

## Decisions
- `agents.list` required for identity (not just overrides)
- Scholar as single multi-source research tool (replaces separate tools per source)
- Removed memory + task-orchestrator MCPs (redundant)
- S2 API: 1 req/sec rate limit enforced in code
- Repo organized for selective sharing: README for humans, ALETHEIA.md for philosophy
- Secrets never in tracked files

## Corrections
- S2 API returns `{data: null}` for publisher-elided references — `parsed.get("data", [])` returns None not `[]`. Fixed with `parsed.get("data") or []`
- argparse subparser + positional args conflict — fixed with manual command detection
- Agent identity fix needed `agents.list` not just `agents.overrides`

## Pending
- Agent "working" indicator (no way to tell processing vs idle)
- gcal OAuth expired
- Langfuse dashboard setup
- Metaxynoesis paper (topology frame strengthens it)
- Minds and Machines + arXiv target
- Full reads needed: Hutchins, Baars, Friston, Strogatz, Singer & Gray
- Git commit for theke migration + all evening work

## Commits
| Commit | Description |
|--------|-------------|
| `47fde82` | L5 research: topological dynamics framework |
| `5f3334b` | Research protocol: evidence hierarchy + verification |
| `3f5ff81` | Research tools: scholar + wiki |
| `4c4e3b2` | Research stack: multi-source scholar, declutter MCP |
| `d2213f3` | Scholar v3: CrossRef + auto-logging + reading list |
| `d979e95` | S2 API key + rate limiter + null safety |
| `36587e9` | Repo cleanup: organized for sharing |
| `8a64dbe` | Remove secrets from tracking |
